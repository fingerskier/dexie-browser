(function(){const u=document.createElement("link").relList;if(u&&u.supports&&u.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const h of s)if(h.type==="childList")for(const p of h.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&l(p)}).observe(document,{childList:!0,subtree:!0});function i(s){const h={};return s.integrity&&(h.integrity=s.integrity),s.referrerPolicy&&(h.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?h.credentials="include":s.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function l(s){if(s.ep)return;s.ep=!0;const h=i(s);fetch(s.href,h)}})();var d0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mm(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var ed={exports:{}},Pl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ap;function h0(){if(ap)return Pl;ap=1;var r=Symbol.for("react.transitional.element"),u=Symbol.for("react.fragment");function i(l,s,h){var p=null;if(h!==void 0&&(p=""+h),s.key!==void 0&&(p=""+s.key),"key"in s){h={};for(var g in s)g!=="key"&&(h[g]=s[g])}else h=s;return s=h.ref,{$$typeof:r,type:l,key:p,ref:s!==void 0?s:null,props:h}}return Pl.Fragment=u,Pl.jsx=i,Pl.jsxs=i,Pl}var ip;function y0(){return ip||(ip=1,ed.exports=h0()),ed.exports}var G=y0(),td={exports:{}},$e={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var up;function v0(){if(up)return $e;up=1;var r=Symbol.for("react.transitional.element"),u=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),b=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),A=Symbol.iterator;function O(R){return R===null||typeof R!="object"?null:(R=A&&R[A]||R["@@iterator"],typeof R=="function"?R:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,Q={};function ne(R,ie,xe){this.props=R,this.context=ie,this.refs=Q,this.updater=xe||T}ne.prototype.isReactComponent={},ne.prototype.setState=function(R,ie){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,ie,"setState")},ne.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function se(){}se.prototype=ne.prototype;function me(R,ie,xe){this.props=R,this.context=ie,this.refs=Q,this.updater=xe||T}var ee=me.prototype=new se;ee.constructor=me,k(ee,ne.prototype),ee.isPureReactComponent=!0;var _e=Array.isArray,oe={H:null,A:null,T:null,S:null,V:null},ce=Object.prototype.hasOwnProperty;function Ue(R,ie,xe,pe,Re,Ye){return xe=Ye.ref,{$$typeof:r,type:R,key:ie,ref:xe!==void 0?xe:null,props:Ye}}function te(R,ie){return Ue(R.type,ie,void 0,void 0,void 0,R.props)}function Se(R){return typeof R=="object"&&R!==null&&R.$$typeof===r}function be(R){var ie={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(xe){return ie[xe]})}var Ae=/\/+/g;function ke(R,ie){return typeof R=="object"&&R!==null&&R.key!=null?be(""+R.key):ie.toString(36)}function we(){}function Ee(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(we,we):(R.status="pending",R.then(function(ie){R.status==="pending"&&(R.status="fulfilled",R.value=ie)},function(ie){R.status==="pending"&&(R.status="rejected",R.reason=ie)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function Ce(R,ie,xe,pe,Re){var Ye=typeof R;(Ye==="undefined"||Ye==="boolean")&&(R=null);var He=!1;if(R===null)He=!0;else switch(Ye){case"bigint":case"string":case"number":He=!0;break;case"object":switch(R.$$typeof){case r:case u:He=!0;break;case v:return He=R._init,Ce(He(R._payload),ie,xe,pe,Re)}}if(He)return Re=Re(R),He=pe===""?"."+ke(R,0):pe,_e(Re)?(xe="",He!=null&&(xe=He.replace(Ae,"$&/")+"/"),Ce(Re,ie,xe,"",function(ze){return ze})):Re!=null&&(Se(Re)&&(Re=te(Re,xe+(Re.key==null||R&&R.key===Re.key?"":(""+Re.key).replace(Ae,"$&/")+"/")+He)),ie.push(Re)),1;He=0;var Wt=pe===""?".":pe+":";if(_e(R))for(var gt=0;gt<R.length;gt++)pe=R[gt],Ye=Wt+ke(pe,gt),He+=Ce(pe,ie,xe,Ye,Re);else if(gt=O(R),typeof gt=="function")for(R=gt.call(R),gt=0;!(pe=R.next()).done;)pe=pe.value,Ye=Wt+ke(pe,gt++),He+=Ce(pe,ie,xe,Ye,Re);else if(Ye==="object"){if(typeof R.then=="function")return Ce(Ee(R),ie,xe,pe,Re);throw ie=String(R),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return He}function I(R,ie,xe){if(R==null)return R;var pe=[],Re=0;return Ce(R,pe,"","",function(Ye){return ie.call(xe,Ye,Re++)}),pe}function he(R){if(R._status===-1){var ie=R._result;ie=ie(),ie.then(function(xe){(R._status===0||R._status===-1)&&(R._status=1,R._result=xe)},function(xe){(R._status===0||R._status===-1)&&(R._status=2,R._result=xe)}),R._status===-1&&(R._status=0,R._result=ie)}if(R._status===1)return R._result.default;throw R._result}var je=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)};function Le(){}return $e.Children={map:I,forEach:function(R,ie,xe){I(R,function(){ie.apply(this,arguments)},xe)},count:function(R){var ie=0;return I(R,function(){ie++}),ie},toArray:function(R){return I(R,function(ie){return ie})||[]},only:function(R){if(!Se(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},$e.Component=ne,$e.Fragment=i,$e.Profiler=s,$e.PureComponent=me,$e.StrictMode=l,$e.Suspense=S,$e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=oe,$e.__COMPILER_RUNTIME={__proto__:null,c:function(R){return oe.H.useMemoCache(R)}},$e.cache=function(R){return function(){return R.apply(null,arguments)}},$e.cloneElement=function(R,ie,xe){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var pe=k({},R.props),Re=R.key,Ye=void 0;if(ie!=null)for(He in ie.ref!==void 0&&(Ye=void 0),ie.key!==void 0&&(Re=""+ie.key),ie)!ce.call(ie,He)||He==="key"||He==="__self"||He==="__source"||He==="ref"&&ie.ref===void 0||(pe[He]=ie[He]);var He=arguments.length-2;if(He===1)pe.children=xe;else if(1<He){for(var Wt=Array(He),gt=0;gt<He;gt++)Wt[gt]=arguments[gt+2];pe.children=Wt}return Ue(R.type,Re,void 0,void 0,Ye,pe)},$e.createContext=function(R){return R={$$typeof:p,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:h,_context:R},R},$e.createElement=function(R,ie,xe){var pe,Re={},Ye=null;if(ie!=null)for(pe in ie.key!==void 0&&(Ye=""+ie.key),ie)ce.call(ie,pe)&&pe!=="key"&&pe!=="__self"&&pe!=="__source"&&(Re[pe]=ie[pe]);var He=arguments.length-2;if(He===1)Re.children=xe;else if(1<He){for(var Wt=Array(He),gt=0;gt<He;gt++)Wt[gt]=arguments[gt+2];Re.children=Wt}if(R&&R.defaultProps)for(pe in He=R.defaultProps,He)Re[pe]===void 0&&(Re[pe]=He[pe]);return Ue(R,Ye,void 0,void 0,null,Re)},$e.createRef=function(){return{current:null}},$e.forwardRef=function(R){return{$$typeof:g,render:R}},$e.isValidElement=Se,$e.lazy=function(R){return{$$typeof:v,_payload:{_status:-1,_result:R},_init:he}},$e.memo=function(R,ie){return{$$typeof:b,type:R,compare:ie===void 0?null:ie}},$e.startTransition=function(R){var ie=oe.T,xe={};oe.T=xe;try{var pe=R(),Re=oe.S;Re!==null&&Re(xe,pe),typeof pe=="object"&&pe!==null&&typeof pe.then=="function"&&pe.then(Le,je)}catch(Ye){je(Ye)}finally{oe.T=ie}},$e.unstable_useCacheRefresh=function(){return oe.H.useCacheRefresh()},$e.use=function(R){return oe.H.use(R)},$e.useActionState=function(R,ie,xe){return oe.H.useActionState(R,ie,xe)},$e.useCallback=function(R,ie){return oe.H.useCallback(R,ie)},$e.useContext=function(R){return oe.H.useContext(R)},$e.useDebugValue=function(){},$e.useDeferredValue=function(R,ie){return oe.H.useDeferredValue(R,ie)},$e.useEffect=function(R,ie,xe){var pe=oe.H;if(typeof xe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return pe.useEffect(R,ie)},$e.useId=function(){return oe.H.useId()},$e.useImperativeHandle=function(R,ie,xe){return oe.H.useImperativeHandle(R,ie,xe)},$e.useInsertionEffect=function(R,ie){return oe.H.useInsertionEffect(R,ie)},$e.useLayoutEffect=function(R,ie){return oe.H.useLayoutEffect(R,ie)},$e.useMemo=function(R,ie){return oe.H.useMemo(R,ie)},$e.useOptimistic=function(R,ie){return oe.H.useOptimistic(R,ie)},$e.useReducer=function(R,ie,xe){return oe.H.useReducer(R,ie,xe)},$e.useRef=function(R){return oe.H.useRef(R)},$e.useState=function(R){return oe.H.useState(R)},$e.useSyncExternalStore=function(R,ie,xe){return oe.H.useSyncExternalStore(R,ie,xe)},$e.useTransition=function(){return oe.H.useTransition()},$e.version="19.1.0",$e}var lp;function Gd(){return lp||(lp=1,td.exports=v0()),td.exports}var Ie=Gd();const Wl=mm(Ie);var nd={exports:{}},Fl={},rd={exports:{}},ad={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var op;function p0(){return op||(op=1,function(r){function u(I,he){var je=I.length;I.push(he);e:for(;0<je;){var Le=je-1>>>1,R=I[Le];if(0<s(R,he))I[Le]=he,I[je]=R,je=Le;else break e}}function i(I){return I.length===0?null:I[0]}function l(I){if(I.length===0)return null;var he=I[0],je=I.pop();if(je!==he){I[0]=je;e:for(var Le=0,R=I.length,ie=R>>>1;Le<ie;){var xe=2*(Le+1)-1,pe=I[xe],Re=xe+1,Ye=I[Re];if(0>s(pe,je))Re<R&&0>s(Ye,pe)?(I[Le]=Ye,I[Re]=je,Le=Re):(I[Le]=pe,I[xe]=je,Le=xe);else if(Re<R&&0>s(Ye,je))I[Le]=Ye,I[Re]=je,Le=Re;else break e}}return he}function s(I,he){var je=I.sortIndex-he.sortIndex;return je!==0?je:I.id-he.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var p=Date,g=p.now();r.unstable_now=function(){return p.now()-g}}var S=[],b=[],v=1,A=null,O=3,T=!1,k=!1,Q=!1,ne=!1,se=typeof setTimeout=="function"?setTimeout:null,me=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;function _e(I){for(var he=i(b);he!==null;){if(he.callback===null)l(b);else if(he.startTime<=I)l(b),he.sortIndex=he.expirationTime,u(S,he);else break;he=i(b)}}function oe(I){if(Q=!1,_e(I),!k)if(i(S)!==null)k=!0,ce||(ce=!0,ke());else{var he=i(b);he!==null&&Ce(oe,he.startTime-I)}}var ce=!1,Ue=-1,te=5,Se=-1;function be(){return ne?!0:!(r.unstable_now()-Se<te)}function Ae(){if(ne=!1,ce){var I=r.unstable_now();Se=I;var he=!0;try{e:{k=!1,Q&&(Q=!1,me(Ue),Ue=-1),T=!0;var je=O;try{t:{for(_e(I),A=i(S);A!==null&&!(A.expirationTime>I&&be());){var Le=A.callback;if(typeof Le=="function"){A.callback=null,O=A.priorityLevel;var R=Le(A.expirationTime<=I);if(I=r.unstable_now(),typeof R=="function"){A.callback=R,_e(I),he=!0;break t}A===i(S)&&l(S),_e(I)}else l(S);A=i(S)}if(A!==null)he=!0;else{var ie=i(b);ie!==null&&Ce(oe,ie.startTime-I),he=!1}}break e}finally{A=null,O=je,T=!1}he=void 0}}finally{he?ke():ce=!1}}}var ke;if(typeof ee=="function")ke=function(){ee(Ae)};else if(typeof MessageChannel<"u"){var we=new MessageChannel,Ee=we.port2;we.port1.onmessage=Ae,ke=function(){Ee.postMessage(null)}}else ke=function(){se(Ae,0)};function Ce(I,he){Ue=se(function(){I(r.unstable_now())},he)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(I){I.callback=null},r.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<I?Math.floor(1e3/I):5},r.unstable_getCurrentPriorityLevel=function(){return O},r.unstable_next=function(I){switch(O){case 1:case 2:case 3:var he=3;break;default:he=O}var je=O;O=he;try{return I()}finally{O=je}},r.unstable_requestPaint=function(){ne=!0},r.unstable_runWithPriority=function(I,he){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var je=O;O=I;try{return he()}finally{O=je}},r.unstable_scheduleCallback=function(I,he,je){var Le=r.unstable_now();switch(typeof je=="object"&&je!==null?(je=je.delay,je=typeof je=="number"&&0<je?Le+je:Le):je=Le,I){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=je+R,I={id:v++,callback:he,priorityLevel:I,startTime:je,expirationTime:R,sortIndex:-1},je>Le?(I.sortIndex=je,u(b,I),i(S)===null&&I===i(b)&&(Q?(me(Ue),Ue=-1):Q=!0,Ce(oe,je-Le))):(I.sortIndex=R,u(S,I),k||T||(k=!0,ce||(ce=!0,ke()))),I},r.unstable_shouldYield=be,r.unstable_wrapCallback=function(I){var he=O;return function(){var je=O;O=he;try{return I.apply(this,arguments)}finally{O=je}}}}(ad)),ad}var cp;function m0(){return cp||(cp=1,rd.exports=p0()),rd.exports}var id={exports:{}},cn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sp;function b0(){if(sp)return cn;sp=1;var r=Gd();function u(S){var b="https://react.dev/errors/"+S;if(1<arguments.length){b+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)b+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+S+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var l={d:{f:i,r:function(){throw Error(u(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},s=Symbol.for("react.portal");function h(S,b,v){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:A==null?null:""+A,children:S,containerInfo:b,implementation:v}}var p=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(S,b){if(S==="font")return"";if(typeof b=="string")return b==="use-credentials"?b:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,cn.createPortal=function(S,b){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11)throw Error(u(299));return h(S,b,null,v)},cn.flushSync=function(S){var b=p.T,v=l.p;try{if(p.T=null,l.p=2,S)return S()}finally{p.T=b,l.p=v,l.d.f()}},cn.preconnect=function(S,b){typeof S=="string"&&(b?(b=b.crossOrigin,b=typeof b=="string"?b==="use-credentials"?b:"":void 0):b=null,l.d.C(S,b))},cn.prefetchDNS=function(S){typeof S=="string"&&l.d.D(S)},cn.preinit=function(S,b){if(typeof S=="string"&&b&&typeof b.as=="string"){var v=b.as,A=g(v,b.crossOrigin),O=typeof b.integrity=="string"?b.integrity:void 0,T=typeof b.fetchPriority=="string"?b.fetchPriority:void 0;v==="style"?l.d.S(S,typeof b.precedence=="string"?b.precedence:void 0,{crossOrigin:A,integrity:O,fetchPriority:T}):v==="script"&&l.d.X(S,{crossOrigin:A,integrity:O,fetchPriority:T,nonce:typeof b.nonce=="string"?b.nonce:void 0})}},cn.preinitModule=function(S,b){if(typeof S=="string")if(typeof b=="object"&&b!==null){if(b.as==null||b.as==="script"){var v=g(b.as,b.crossOrigin);l.d.M(S,{crossOrigin:v,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0})}}else b==null&&l.d.M(S)},cn.preload=function(S,b){if(typeof S=="string"&&typeof b=="object"&&b!==null&&typeof b.as=="string"){var v=b.as,A=g(v,b.crossOrigin);l.d.L(S,v,{crossOrigin:A,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0,type:typeof b.type=="string"?b.type:void 0,fetchPriority:typeof b.fetchPriority=="string"?b.fetchPriority:void 0,referrerPolicy:typeof b.referrerPolicy=="string"?b.referrerPolicy:void 0,imageSrcSet:typeof b.imageSrcSet=="string"?b.imageSrcSet:void 0,imageSizes:typeof b.imageSizes=="string"?b.imageSizes:void 0,media:typeof b.media=="string"?b.media:void 0})}},cn.preloadModule=function(S,b){if(typeof S=="string")if(b){var v=g(b.as,b.crossOrigin);l.d.m(S,{as:typeof b.as=="string"&&b.as!=="script"?b.as:void 0,crossOrigin:v,integrity:typeof b.integrity=="string"?b.integrity:void 0})}else l.d.m(S)},cn.requestFormReset=function(S){l.d.r(S)},cn.unstable_batchedUpdates=function(S,b){return S(b)},cn.useFormState=function(S,b,v){return p.H.useFormState(S,b,v)},cn.useFormStatus=function(){return p.H.useHostTransitionStatus()},cn.version="19.1.0",cn}var fp;function g0(){if(fp)return id.exports;fp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(u){console.error(u)}}return r(),id.exports=b0(),id.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dp;function _0(){if(dp)return Fl;dp=1;var r=m0(),u=Gd(),i=g0();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function p(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(h(e)!==e)throw Error(l(188))}function S(e){var t=e.alternate;if(!t){if(t=h(e),t===null)throw Error(l(188));return t!==e?null:e}for(var n=e,a=t;;){var c=n.return;if(c===null)break;var d=c.alternate;if(d===null){if(a=c.return,a!==null){n=a;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===n)return g(c),e;if(d===a)return g(c),t;d=d.sibling}throw Error(l(188))}if(n.return!==a.return)n=c,a=d;else{for(var _=!1,x=c.child;x;){if(x===n){_=!0,n=c,a=d;break}if(x===a){_=!0,a=c,n=d;break}x=x.sibling}if(!_){for(x=d.child;x;){if(x===n){_=!0,n=d,a=c;break}if(x===a){_=!0,a=d,n=c;break}x=x.sibling}if(!_)throw Error(l(189))}}if(n.alternate!==a)throw Error(l(190))}if(n.tag!==3)throw Error(l(188));return n.stateNode.current===n?e:t}function b(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=b(e),t!==null)return t;e=e.sibling}return null}var v=Object.assign,A=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),se=Symbol.for("react.provider"),me=Symbol.for("react.consumer"),ee=Symbol.for("react.context"),_e=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),Ue=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),Se=Symbol.for("react.activity"),be=Symbol.for("react.memo_cache_sentinel"),Ae=Symbol.iterator;function ke(e){return e===null||typeof e!="object"?null:(e=Ae&&e[Ae]||e["@@iterator"],typeof e=="function"?e:null)}var we=Symbol.for("react.client.reference");function Ee(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===we?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case k:return"Fragment";case ne:return"Profiler";case Q:return"StrictMode";case oe:return"Suspense";case ce:return"SuspenseList";case Se:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case T:return"Portal";case ee:return(e.displayName||"Context")+".Provider";case me:return(e._context.displayName||"Context")+".Consumer";case _e:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ue:return t=e.displayName||null,t!==null?t:Ee(e.type)||"Memo";case te:t=e._payload,e=e._init;try{return Ee(e(t))}catch{}}return null}var Ce=Array.isArray,I=u.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,je={pending:!1,data:null,method:null,action:null},Le=[],R=-1;function ie(e){return{current:e}}function xe(e){0>R||(e.current=Le[R],Le[R]=null,R--)}function pe(e,t){R++,Le[R]=e.current,e.current=t}var Re=ie(null),Ye=ie(null),He=ie(null),Wt=ie(null);function gt(e,t){switch(pe(He,t),pe(Ye,e),pe(Re,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Cv(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Cv(t),e=kv(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}xe(Re),pe(Re,e)}function ze(){xe(Re),xe(Ye),xe(He)}function ji(e){e.memoizedState!==null&&pe(Wt,e);var t=Re.current,n=kv(t,e.type);t!==n&&(pe(Ye,e),pe(Re,n))}function xr(e){Ye.current===e&&(xe(Re),xe(Ye)),Wt.current===e&&(xe(Wt),Xl._currentValue=je)}var ut=Object.prototype.hasOwnProperty,Or=r.unstable_scheduleCallback,Hu=r.unstable_cancelCallback,Ar=r.unstable_shouldYield,fs=r.unstable_requestPaint,kn=r.unstable_now,ds=r.unstable_getCurrentPriorityLevel,go=r.unstable_ImmediatePriority,Di=r.unstable_UserBlockingPriority,sn=r.unstable_NormalPriority,_o=r.unstable_LowPriority,oa=r.unstable_IdlePriority,So=r.log,Wa=r.unstable_setDisableYieldValue,_n=null,Ut=null;function Mn(e){if(typeof So=="function"&&Wa(e),Ut&&typeof Ut.setStrictMode=="function")try{Ut.setStrictMode(_n,e)}catch{}}var Ht=Math.clz32?Math.clz32:Tr,Lu=Math.log,Ui=Math.LN2;function Tr(e){return e>>>=0,e===0?32:31-(Lu(e)/Ui|0)|0}var jr=256,ca=4194304;function rn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ne(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var c=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var x=a&134217727;return x!==0?(a=x&~d,a!==0?c=rn(a):(_&=x,_!==0?c=rn(_):n||(n=x&~e,n!==0&&(c=rn(n))))):(x=a&~d,x!==0?c=rn(x):_!==0?c=rn(_):n||(n=a&~e,n!==0&&(c=rn(n)))),c===0?0:t!==0&&t!==c&&(t&d)===0&&(d=c&-c,n=t&-t,d>=n||d===32&&(n&4194048)!==0)?t:c}function Zn(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Dr(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fa(){var e=jr;return jr<<=1,(jr&4194048)===0&&(jr=256),e}function Te(){var e=ca;return ca<<=1,(ca&62914560)===0&&(ca=4194304),e}function ei(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function sa(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Yu(e,t,n,a,c,d){var _=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var x=e.entanglements,U=e.expirationTimes,Z=e.hiddenUpdates;for(n=_&~n;0<n;){var ae=31-Ht(n),le=1<<ae;x[ae]=0,U[ae]=-1;var $=Z[ae];if($!==null)for(Z[ae]=null,ae=0;ae<$.length;ae++){var P=$[ae];P!==null&&(P.lane&=-536870913)}n&=~le}a!==0&&Gu(e,a,0),d!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~t))}function Gu(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-Ht(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&4194090}function Ri(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-Ht(n),c=1<<a;c&t|e[a]&t&&(e[a]|=t),n&=~c}}function Vu(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Qu(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ur(){var e=he.p;return e!==0?e:(e=window.event,e===void 0?32:Wv(e.type))}function fa(e,t){var n=he.p;try{return he.p=e,t()}finally{he.p=n}}var Nn=Math.random().toString(36).slice(2),Rt="__reactFiber$"+Nn,We="__reactProps$"+Nn,St="__reactContainer$"+Nn,Xu="__reactEvents$"+Nn,Ci="__reactListeners$"+Nn,ki="__reactHandles$"+Nn,ti="__reactResources$"+Nn,ni="__reactMarker$"+Nn;function zn(e){delete e[Rt],delete e[We],delete e[Xu],delete e[Ci],delete e[ki]}function Sn(e){var t=e[Rt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[St]||n[Rt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Bv(e);e!==null;){if(n=e[Rt])return n;e=Bv(e)}return t}e=n,n=e.parentNode}return null}function fn(e){if(e=e[Rt]||e[St]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function nr(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function da(e){var t=e[ti];return t||(t=e[ti]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function pt(e){e[ni]=!0}var Zu=new Set,rr={};function ar(e,t){ir(e,t),ir(e+"Capture",t)}function ir(e,t){for(rr[e]=t,e=0;e<t.length;e++)Zu.add(t[e])}var Ot=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ur={},Bn={};function wo(e){return ut.call(Bn,e)?!0:ut.call(ur,e)?!1:Ot.test(e)?Bn[e]=!0:(ur[e]=!0,!1)}function In(e,t,n){if(wo(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Rr(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function wn(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}var ri,lr;function Cr(e){if(ri===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ri=t&&t[1]||"",lr=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ri+e+lr}var ha=!1;function Mi(e,t){if(!e||ha)return"";ha=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(P){var $=P}Reflect.construct(e,[],le)}else{try{le.call()}catch(P){$=P}e.call(le.prototype)}}else{try{throw Error()}catch(P){$=P}(le=e())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(P){if(P&&$&&typeof P.stack=="string")return[P.stack,$.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=a.DetermineComponentFrameRoot(),_=d[0],x=d[1];if(_&&x){var U=_.split(`
`),Z=x.split(`
`);for(c=a=0;a<U.length&&!U[a].includes("DetermineComponentFrameRoot");)a++;for(;c<Z.length&&!Z[c].includes("DetermineComponentFrameRoot");)c++;if(a===U.length||c===Z.length)for(a=U.length-1,c=Z.length-1;1<=a&&0<=c&&U[a]!==Z[c];)c--;for(;1<=a&&0<=c;a--,c--)if(U[a]!==Z[c]){if(a!==1||c!==1)do if(a--,c--,0>c||U[a]!==Z[c]){var ae=`
`+U[a].replace(" at new "," at ");return e.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",e.displayName)),ae}while(1<=a&&0<=c);break}}}finally{ha=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Cr(n):""}function tt(e){switch(e.tag){case 26:case 27:case 5:return Cr(e.type);case 16:return Cr("Lazy");case 13:return Cr("Suspense");case 19:return Cr("SuspenseList");case 0:case 15:return Mi(e.type,!1);case 11:return Mi(e.type.render,!1);case 1:return Mi(e.type,!0);case 31:return Cr("Activity");default:return""}}function Iu(e){try{var t="";do t+=tt(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function dn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ju(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function mt(e){var t=Ju(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var c=n.get,d=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function or(e){e._valueTracker||(e._valueTracker=mt(e))}function ya(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=Ju(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function Jn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var $u=/[\n"\\]/g;function an(e){return e.replace($u,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function va(e,t,n,a,c,d,_,x){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),t!=null?_==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+dn(t)):e.value!==""+dn(t)&&(e.value=""+dn(t)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),t!=null?pa(e,_,dn(t)):n!=null?pa(e,_,dn(n)):a!=null&&e.removeAttribute("value"),c==null&&d!=null&&(e.defaultChecked=!!d),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.name=""+dn(x):e.removeAttribute("name")}function Pu(e,t,n,a,c,d,_,x){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||n!=null){if(!(d!=="submit"&&d!=="reset"||t!=null))return;n=n!=null?""+dn(n):"",t=t!=null?""+dn(t):n,x||t===e.value||(e.value=t),e.defaultValue=t}a=a??c,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=x?e.checked:!!a,e.defaultChecked=!!a,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_)}function pa(e,t,n){t==="number"&&Jn(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function kr(e,t,n,a){if(e=e.options,t){t={};for(var c=0;c<n.length;c++)t["$"+n[c]]=!0;for(n=0;n<e.length;n++)c=t.hasOwnProperty("$"+e[n].value),e[n].selected!==c&&(e[n].selected=c),c&&a&&(e[n].defaultSelected=!0)}else{for(n=""+dn(n),t=null,c=0;c<e.length;c++){if(e[c].value===n){e[c].selected=!0,a&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function ma(e,t,n){if(t!=null&&(t=""+dn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+dn(n):""}function Wu(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(l(92));if(Ce(a)){if(1<a.length)throw Error(l(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=dn(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a)}function ba(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var at=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ni(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||at.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Eo(e,t,n){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var c in t)a=t[c],t.hasOwnProperty(c)&&n[c]!==a&&Ni(e,c,a)}else for(var d in t)t.hasOwnProperty(d)&&Ni(e,d,t[d])}function Fu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hn=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ga=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mr(e){return ga.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var qn=null;function zi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Nr=null,wt=null;function En(e){var t=fn(e);if(t&&(e=t.stateNode)){var n=e[We]||null;e:switch(e=t.stateNode,t.type){case"input":if(va(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+an(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var c=a[We]||null;if(!c)throw Error(l(90));va(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&ya(a)}break e;case"textarea":ma(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&kr(e,!!n.multiple,t,!1)}}}var zr=!1;function _a(e,t,n){if(zr)return e(t,n);zr=!0;try{var a=e(t);return a}finally{if(zr=!1,(Nr!==null||wt!==null)&&(fc(),Nr&&(t=Nr,e=wt,wt=Nr=null,En(t),e)))for(t=0;t<e.length;t++)En(e[t])}}function Br(e,t){var n=e.stateNode;if(n===null)return null;var a=n[We]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(l(231,t,typeof n));return n}var Xt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),el=!1;if(Xt)try{var un={};Object.defineProperty(un,"passive",{get:function(){el=!0}}),window.addEventListener("test",un,un),window.removeEventListener("test",un,un)}catch{el=!1}var Kn=null,Bi=null,Sa=null;function wa(){if(Sa)return Sa;var e,t=Bi,n=t.length,a,c="value"in Kn?Kn.value:Kn.textContent,d=c.length;for(e=0;e<n&&t[e]===c[e];e++);var _=n-e;for(a=1;a<=_&&t[n-a]===c[d-a];a++);return Sa=c.slice(e,1<a?1-a:void 0)}function Ea(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ai(){return!0}function xo(){return!1}function Nt(e){function t(n,a,c,d,_){this._reactName=n,this._targetInst=c,this.type=a,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(n=e[x],this[x]=n?n(d):d[x]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ai:xo,this.isPropagationStopped=xo,this}return v(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ai)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ai)},persist:function(){},isPersistent:ai}),t}var qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qi=Nt(qr),cr=v({},qr,{view:0,detail:0}),Ki=Nt(cr),ii,tl,ui,Hi=v({},cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ui&&(ui&&e.type==="mousemove"?(ii=e.screenX-ui.screenX,tl=e.screenY-ui.screenY):tl=ii=0,ui=e),ii)},movementY:function(e){return"movementY"in e?e.movementY:tl}}),Li=Nt(Hi),nl=v({},Hi,{dataTransfer:0}),Oo=Nt(nl),Yi=v({},cr,{relatedTarget:0}),xa=Nt(Yi),Gi=v({},qr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ao=Nt(Gi),hs=v({},qr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Vi=Nt(hs),rl=v({},qr,{data:0}),Qi=Nt(rl),al={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},il={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function li(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Zt[e])?!!t[e]:!1}function Kr(){return li}var To=v({},cr,{key:function(e){if(e.key){var t=al[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ea(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?il[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kr,charCode:function(e){return e.type==="keypress"?Ea(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ea(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Xi=Nt(To),jo=v({},Hi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ul=Nt(jo),Zi=v({},cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kr}),ll=Nt(Zi),Hr=v({},qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ol=Nt(Hr),cl=v({},Hi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ii=Nt(cl),sl=v({},qr,{newState:0,oldState:0}),Do=Nt(sl),ys=[9,13,27,32],oi=Xt&&"CompositionEvent"in window,sr=null;Xt&&"documentMode"in document&&(sr=document.documentMode);var vs=Xt&&"TextEvent"in window&&!sr,Ji=Xt&&(!oi||sr&&8<sr&&11>=sr),$i=" ",Uo=!1;function fl(e,t){switch(e){case"keyup":return ys.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ro(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Lr=!1;function Co(e,t){switch(e){case"compositionend":return Ro(t);case"keypress":return t.which!==32?null:(Uo=!0,$i);case"textInput":return e=t.data,e===$i&&Uo?null:e;default:return null}}function ps(e,t){if(Lr)return e==="compositionend"||!oi&&fl(e,t)?(e=wa(),Sa=Bi=Kn=null,Lr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ji&&t.locale!=="ko"?null:t.data;default:return null}}var ko={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ko[e.type]:t==="textarea"}function dl(e,t,n,a){Nr?wt?wt.push(a):wt=[a]:Nr=a,t=mc(t,"onChange"),0<t.length&&(n=new qi("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Oa=null,ci=null;function ms(e){Tv(e,0)}function Wi(e){var t=nr(e);if(ya(t))return e}function si(e,t){if(e==="change")return t}var Hn=!1;if(Xt){var Et;if(Xt){var Aa="oninput"in document;if(!Aa){var yn=document.createElement("div");yn.setAttribute("oninput","return;"),Aa=typeof yn.oninput=="function"}Et=Aa}else Et=!1;Hn=Et&&(!document.documentMode||9<document.documentMode)}function Mo(){Oa&&(Oa.detachEvent("onpropertychange",Fi),ci=Oa=null)}function Fi(e){if(e.propertyName==="value"&&Wi(ci)){var t=[];dl(t,ci,e,zi(e)),_a(ms,t)}}function No(e,t,n){e==="focusin"?(Mo(),Oa=t,ci=n,Oa.attachEvent("onpropertychange",Fi)):e==="focusout"&&Mo()}function Yr(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Wi(ci)}function hl(e,t){if(e==="click")return Wi(t)}function Ta(e,t){if(e==="input"||e==="change")return Wi(t)}function fr(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ln=typeof Object.is=="function"?Object.is:fr;function o(e,t){if(ln(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var c=n[a];if(!ut.call(t,c)||!ln(e[c],t[c]))return!1}return!0}function f(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function y(e,t){var n=f(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=f(n)}}function m(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?m(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function w(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Jn(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Jn(e.document)}return t}function E(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var j=Xt&&"documentMode"in document&&11>=document.documentMode,D=null,N=null,B=null,H=!1;function C(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;H||D==null||D!==Jn(a)||(a=D,"selectionStart"in a&&E(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),B&&o(B,a)||(B=a,a=mc(N,"onSelect"),0<a.length&&(t=new qi("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=D)))}function Y(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var M={animationend:Y("Animation","AnimationEnd"),animationiteration:Y("Animation","AnimationIteration"),animationstart:Y("Animation","AnimationStart"),transitionrun:Y("Transition","TransitionRun"),transitionstart:Y("Transition","TransitionStart"),transitioncancel:Y("Transition","TransitionCancel"),transitionend:Y("Transition","TransitionEnd")},K={},V={};Xt&&(V=document.createElement("div").style,"AnimationEvent"in window||(delete M.animationend.animation,delete M.animationiteration.animation,delete M.animationstart.animation),"TransitionEvent"in window||delete M.transitionend.transition);function q(e){if(K[e])return K[e];if(!M[e])return e;var t=M[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in V)return K[e]=t[n];return e}var J=q("animationend"),W=q("animationiteration"),F=q("animationstart"),re=q("transitionrun"),ye=q("transitionstart"),ge=q("transitioncancel"),fe=q("transitionend"),ve=new Map,Oe="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Oe.push("scrollEnd");function de(e,t){ve.set(e,t),ar(t,[e])}var De=new WeakMap;function Ke(e,t){if(typeof e=="object"&&e!==null){var n=De.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Iu(t)},De.set(e,t),t)}return{value:e,source:t,stack:Iu(t)}}var Ge=[],Je=0,Ft=0;function Xe(){for(var e=Je,t=Ft=Je=0;t<e;){var n=Ge[t];Ge[t++]=null;var a=Ge[t];Ge[t++]=null;var c=Ge[t];Ge[t++]=null;var d=Ge[t];if(Ge[t++]=null,a!==null&&c!==null){var _=a.pending;_===null?c.next=c:(c.next=_.next,_.next=c),a.pending=c}d!==0&&It(n,c,d)}}function Ct(e,t,n,a){Ge[Je++]=e,Ge[Je++]=t,Ge[Je++]=n,Ge[Je++]=a,Ft|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function zt(e,t,n,a){return Ct(e,t,n,a),Ln(e)}function $n(e,t){return Ct(e,null,null,t),Ln(e)}function It(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var c=!1,d=e.return;d!==null;)d.childLanes|=n,a=d.alternate,a!==null&&(a.childLanes|=n),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(c=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,c&&t!==null&&(c=31-Ht(n),e=d.hiddenUpdates,a=e[c],a===null?e[c]=[t]:a.push(t),t.lane=n|536870912),d):null}function Ln(e){if(50<ql)throw ql=0,xf=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var dr={};function Pb(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(e,t,n,a){return new Pb(e,t,n,a)}function bs(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Gr(e,t){var n=e.alternate;return n===null?(n=xn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function dh(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function zo(e,t,n,a,c,d){var _=0;if(a=e,typeof e=="function")bs(e)&&(_=1);else if(typeof e=="string")_=Fg(e,n,Re.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Se:return e=xn(31,n,t,c),e.elementType=Se,e.lanes=d,e;case k:return fi(n.children,c,d,t);case Q:_=8,c|=24;break;case ne:return e=xn(12,n,t,c|2),e.elementType=ne,e.lanes=d,e;case oe:return e=xn(13,n,t,c),e.elementType=oe,e.lanes=d,e;case ce:return e=xn(19,n,t,c),e.elementType=ce,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case se:case ee:_=10;break e;case me:_=9;break e;case _e:_=11;break e;case Ue:_=14;break e;case te:_=16,a=null;break e}_=29,n=Error(l(130,e===null?"null":typeof e,"")),a=null}return t=xn(_,n,t,c),t.elementType=e,t.type=a,t.lanes=d,t}function fi(e,t,n,a){return e=xn(7,e,a,t),e.lanes=n,e}function gs(e,t,n){return e=xn(6,e,null,t),e.lanes=n,e}function _s(e,t,n){return t=xn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var eu=[],tu=0,Bo=null,qo=0,Yn=[],Gn=0,di=null,Vr=1,Qr="";function hi(e,t){eu[tu++]=qo,eu[tu++]=Bo,Bo=e,qo=t}function hh(e,t,n){Yn[Gn++]=Vr,Yn[Gn++]=Qr,Yn[Gn++]=di,di=e;var a=Vr;e=Qr;var c=32-Ht(a)-1;a&=~(1<<c),n+=1;var d=32-Ht(t)+c;if(30<d){var _=c-c%5;d=(a&(1<<_)-1).toString(32),a>>=_,c-=_,Vr=1<<32-Ht(t)+c|n<<c|a,Qr=d+e}else Vr=1<<d|n<<c|a,Qr=e}function Ss(e){e.return!==null&&(hi(e,1),hh(e,1,0))}function ws(e){for(;e===Bo;)Bo=eu[--tu],eu[tu]=null,qo=eu[--tu],eu[tu]=null;for(;e===di;)di=Yn[--Gn],Yn[Gn]=null,Qr=Yn[--Gn],Yn[Gn]=null,Vr=Yn[--Gn],Yn[Gn]=null}var vn=null,jt=null,ot=!1,yi=null,hr=!1,Es=Error(l(519));function vi(e){var t=Error(l(418,""));throw pl(Ke(t,e)),Es}function yh(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[Rt]=e,t[We]=a,n){case"dialog":rt("cancel",t),rt("close",t);break;case"iframe":case"object":case"embed":rt("load",t);break;case"video":case"audio":for(n=0;n<Hl.length;n++)rt(Hl[n],t);break;case"source":rt("error",t);break;case"img":case"image":case"link":rt("error",t),rt("load",t);break;case"details":rt("toggle",t);break;case"input":rt("invalid",t),Pu(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0),or(t);break;case"select":rt("invalid",t);break;case"textarea":rt("invalid",t),Wu(t,a.value,a.defaultValue,a.children),or(t)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||Rv(t.textContent,n)?(a.popover!=null&&(rt("beforetoggle",t),rt("toggle",t)),a.onScroll!=null&&rt("scroll",t),a.onScrollEnd!=null&&rt("scrollend",t),a.onClick!=null&&(t.onclick=bc),t=!0):t=!1,t||vi(e)}function vh(e){for(vn=e.return;vn;)switch(vn.tag){case 5:case 13:hr=!1;return;case 27:case 3:hr=!0;return;default:vn=vn.return}}function yl(e){if(e!==vn)return!1;if(!ot)return vh(e),ot=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Hf(e.type,e.memoizedProps)),n=!n),n&&jt&&vi(e),vh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){jt=Wn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}jt=null}}else t===27?(t=jt,Ga(e.type)?(e=Vf,Vf=null,jt=e):jt=t):jt=vn?Wn(e.stateNode.nextSibling):null;return!0}function vl(){jt=vn=null,ot=!1}function ph(){var e=yi;return e!==null&&(gn===null?gn=e:gn.push.apply(gn,e),yi=null),e}function pl(e){yi===null?yi=[e]:yi.push(e)}var xs=ie(null),pi=null,Xr=null;function ja(e,t,n){pe(xs,t._currentValue),t._currentValue=n}function Zr(e){e._currentValue=xs.current,xe(xs)}function Os(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function As(e,t,n,a){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var d=c.dependencies;if(d!==null){var _=c.child;d=d.firstContext;e:for(;d!==null;){var x=d;d=c;for(var U=0;U<t.length;U++)if(x.context===t[U]){d.lanes|=n,x=d.alternate,x!==null&&(x.lanes|=n),Os(d.return,n,e),a||(_=null);break e}d=x.next}}else if(c.tag===18){if(_=c.return,_===null)throw Error(l(341));_.lanes|=n,d=_.alternate,d!==null&&(d.lanes|=n),Os(_,n,e),_=null}else _=c.child;if(_!==null)_.return=c;else for(_=c;_!==null;){if(_===e){_=null;break}if(c=_.sibling,c!==null){c.return=_.return,_=c;break}_=_.return}c=_}}function ml(e,t,n,a){e=null;for(var c=t,d=!1;c!==null;){if(!d){if((c.flags&524288)!==0)d=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var _=c.alternate;if(_===null)throw Error(l(387));if(_=_.memoizedProps,_!==null){var x=c.type;ln(c.pendingProps.value,_.value)||(e!==null?e.push(x):e=[x])}}else if(c===Wt.current){if(_=c.alternate,_===null)throw Error(l(387));_.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(Xl):e=[Xl])}c=c.return}e!==null&&As(t,e,n,a),t.flags|=262144}function Ko(e){for(e=e.firstContext;e!==null;){if(!ln(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function mi(e){pi=e,Xr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function on(e){return mh(pi,e)}function Ho(e,t){return pi===null&&mi(e),mh(e,t)}function mh(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Xr===null){if(e===null)throw Error(l(308));Xr=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Xr=Xr.next=t;return n}var Wb=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Fb=r.unstable_scheduleCallback,eg=r.unstable_NormalPriority,Lt={$$typeof:ee,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ts(){return{controller:new Wb,data:new Map,refCount:0}}function bl(e){e.refCount--,e.refCount===0&&Fb(eg,function(){e.controller.abort()})}var gl=null,js=0,nu=0,ru=null;function tg(e,t){if(gl===null){var n=gl=[];js=0,nu=Rf(),ru={status:"pending",value:void 0,then:function(a){n.push(a)}}}return js++,t.then(bh,bh),t}function bh(){if(--js===0&&gl!==null){ru!==null&&(ru.status="fulfilled");var e=gl;gl=null,nu=0,ru=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function ng(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(c){n.push(c)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var c=0;c<n.length;c++)(0,n[c])(t)},function(c){for(a.status="rejected",a.reason=c,c=0;c<n.length;c++)(0,n[c])(void 0)}),a}var gh=I.S;I.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&tg(e,t),gh!==null&&gh(e,t)};var bi=ie(null);function Ds(){var e=bi.current;return e!==null?e:_t.pooledCache}function Lo(e,t){t===null?pe(bi,bi.current):pe(bi,t.pool)}function _h(){var e=Ds();return e===null?null:{parent:Lt._currentValue,pool:e}}var _l=Error(l(460)),Sh=Error(l(474)),Yo=Error(l(542)),Us={then:function(){}};function wh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Go(){}function Eh(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Go,Go),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Oh(e),e;default:if(typeof t.status=="string")t.then(Go,Go);else{if(e=_t,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=a}},function(a){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Oh(e),e}throw Sl=t,_l}}var Sl=null;function xh(){if(Sl===null)throw Error(l(459));var e=Sl;return Sl=null,e}function Oh(e){if(e===_l||e===Yo)throw Error(l(483))}var Da=!1;function Rs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Cs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ua(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ra(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(ct&2)!==0){var c=a.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),a.pending=t,t=Ln(e),It(e,null,n),t}return Ct(e,a,t,n),Ln(e)}function wl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Ri(e,n)}}function ks(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var c=null,d=null;if(n=n.firstBaseUpdate,n!==null){do{var _={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};d===null?c=d=_:d=d.next=_,n=n.next}while(n!==null);d===null?c=d=t:d=d.next=t}else c=d=t;n={baseState:a.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ms=!1;function El(){if(Ms){var e=ru;if(e!==null)throw e}}function xl(e,t,n,a){Ms=!1;var c=e.updateQueue;Da=!1;var d=c.firstBaseUpdate,_=c.lastBaseUpdate,x=c.shared.pending;if(x!==null){c.shared.pending=null;var U=x,Z=U.next;U.next=null,_===null?d=Z:_.next=Z,_=U;var ae=e.alternate;ae!==null&&(ae=ae.updateQueue,x=ae.lastBaseUpdate,x!==_&&(x===null?ae.firstBaseUpdate=Z:x.next=Z,ae.lastBaseUpdate=U))}if(d!==null){var le=c.baseState;_=0,ae=Z=U=null,x=d;do{var $=x.lane&-536870913,P=$!==x.lane;if(P?(it&$)===$:(a&$)===$){$!==0&&$===nu&&(Ms=!0),ae!==null&&(ae=ae.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var Ze=e,Ve=x;$=t;var yt=n;switch(Ve.tag){case 1:if(Ze=Ve.payload,typeof Ze=="function"){le=Ze.call(yt,le,$);break e}le=Ze;break e;case 3:Ze.flags=Ze.flags&-65537|128;case 0:if(Ze=Ve.payload,$=typeof Ze=="function"?Ze.call(yt,le,$):Ze,$==null)break e;le=v({},le,$);break e;case 2:Da=!0}}$=x.callback,$!==null&&(e.flags|=64,P&&(e.flags|=8192),P=c.callbacks,P===null?c.callbacks=[$]:P.push($))}else P={lane:$,tag:x.tag,payload:x.payload,callback:x.callback,next:null},ae===null?(Z=ae=P,U=le):ae=ae.next=P,_|=$;if(x=x.next,x===null){if(x=c.shared.pending,x===null)break;P=x,x=P.next,P.next=null,c.lastBaseUpdate=P,c.shared.pending=null}}while(!0);ae===null&&(U=le),c.baseState=U,c.firstBaseUpdate=Z,c.lastBaseUpdate=ae,d===null&&(c.shared.lanes=0),Ka|=_,e.lanes=_,e.memoizedState=le}}function Ah(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function Th(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Ah(n[e],t)}var au=ie(null),Vo=ie(0);function jh(e,t){e=ea,pe(Vo,e),pe(au,t),ea=e|t.baseLanes}function Ns(){pe(Vo,ea),pe(au,au.current)}function zs(){ea=Vo.current,xe(au),xe(Vo)}var Ca=0,Fe=null,dt=null,Bt=null,Qo=!1,iu=!1,gi=!1,Xo=0,Ol=0,uu=null,rg=0;function kt(){throw Error(l(321))}function Bs(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ln(e[n],t[n]))return!1;return!0}function qs(e,t,n,a,c,d){return Ca=d,Fe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,I.H=e===null||e.memoizedState===null?fy:dy,gi=!1,d=n(a,c),gi=!1,iu&&(d=Uh(t,n,a,c)),Dh(e),d}function Dh(e){I.H=Wo;var t=dt!==null&&dt.next!==null;if(Ca=0,Bt=dt=Fe=null,Qo=!1,Ol=0,uu=null,t)throw Error(l(300));e===null||Jt||(e=e.dependencies,e!==null&&Ko(e)&&(Jt=!0))}function Uh(e,t,n,a){Fe=e;var c=0;do{if(iu&&(uu=null),Ol=0,iu=!1,25<=c)throw Error(l(301));if(c+=1,Bt=dt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}I.H=sg,d=t(n,a)}while(iu);return d}function ag(){var e=I.H,t=e.useState()[0];return t=typeof t.then=="function"?Al(t):t,e=e.useState()[0],(dt!==null?dt.memoizedState:null)!==e&&(Fe.flags|=1024),t}function Ks(){var e=Xo!==0;return Xo=0,e}function Hs(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Ls(e){if(Qo){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Qo=!1}Ca=0,Bt=dt=Fe=null,iu=!1,Ol=Xo=0,uu=null}function mn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?Fe.memoizedState=Bt=e:Bt=Bt.next=e,Bt}function qt(){if(dt===null){var e=Fe.alternate;e=e!==null?e.memoizedState:null}else e=dt.next;var t=Bt===null?Fe.memoizedState:Bt.next;if(t!==null)Bt=t,dt=e;else{if(e===null)throw Fe.alternate===null?Error(l(467)):Error(l(310));dt=e,e={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},Bt===null?Fe.memoizedState=Bt=e:Bt=Bt.next=e}return Bt}function Ys(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Al(e){var t=Ol;return Ol+=1,uu===null&&(uu=[]),e=Eh(uu,e,t),t=Fe,(Bt===null?t.memoizedState:Bt.next)===null&&(t=t.alternate,I.H=t===null||t.memoizedState===null?fy:dy),e}function Zo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Al(e);if(e.$$typeof===ee)return on(e)}throw Error(l(438,String(e)))}function Gs(e){var t=null,n=Fe.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=Fe.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Ys(),Fe.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=be;return t.index++,n}function Ir(e,t){return typeof t=="function"?t(e):t}function Io(e){var t=qt();return Vs(t,dt,e)}function Vs(e,t,n){var a=e.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=n;var c=e.baseQueue,d=a.pending;if(d!==null){if(c!==null){var _=c.next;c.next=d.next,d.next=_}t.baseQueue=c=d,a.pending=null}if(d=e.baseState,c===null)e.memoizedState=d;else{t=c.next;var x=_=null,U=null,Z=t,ae=!1;do{var le=Z.lane&-536870913;if(le!==Z.lane?(it&le)===le:(Ca&le)===le){var $=Z.revertLane;if($===0)U!==null&&(U=U.next={lane:0,revertLane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),le===nu&&(ae=!0);else if((Ca&$)===$){Z=Z.next,$===nu&&(ae=!0);continue}else le={lane:0,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},U===null?(x=U=le,_=d):U=U.next=le,Fe.lanes|=$,Ka|=$;le=Z.action,gi&&n(d,le),d=Z.hasEagerState?Z.eagerState:n(d,le)}else $={lane:le,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},U===null?(x=U=$,_=d):U=U.next=$,Fe.lanes|=le,Ka|=le;Z=Z.next}while(Z!==null&&Z!==t);if(U===null?_=d:U.next=x,!ln(d,e.memoizedState)&&(Jt=!0,ae&&(n=ru,n!==null)))throw n;e.memoizedState=d,e.baseState=_,e.baseQueue=U,a.lastRenderedState=d}return c===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Qs(e){var t=qt(),n=t.queue;if(n===null)throw Error(l(311));n.lastRenderedReducer=e;var a=n.dispatch,c=n.pending,d=t.memoizedState;if(c!==null){n.pending=null;var _=c=c.next;do d=e(d,_.action),_=_.next;while(_!==c);ln(d,t.memoizedState)||(Jt=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),n.lastRenderedState=d}return[d,a]}function Rh(e,t,n){var a=Fe,c=qt(),d=ot;if(d){if(n===void 0)throw Error(l(407));n=n()}else n=t();var _=!ln((dt||c).memoizedState,n);_&&(c.memoizedState=n,Jt=!0),c=c.queue;var x=Mh.bind(null,a,c,e);if(Tl(2048,8,x,[e]),c.getSnapshot!==t||_||Bt!==null&&Bt.memoizedState.tag&1){if(a.flags|=2048,lu(9,Jo(),kh.bind(null,a,c,n,t),null),_t===null)throw Error(l(349));d||(Ca&124)!==0||Ch(a,t,n)}return n}function Ch(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Fe.updateQueue,t===null?(t=Ys(),Fe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function kh(e,t,n,a){t.value=n,t.getSnapshot=a,Nh(t)&&zh(e)}function Mh(e,t,n){return n(function(){Nh(t)&&zh(e)})}function Nh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ln(e,n)}catch{return!0}}function zh(e){var t=$n(e,2);t!==null&&Dn(t,e,2)}function Xs(e){var t=mn();if(typeof e=="function"){var n=e;if(e=n(),gi){Mn(!0);try{n()}finally{Mn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ir,lastRenderedState:e},t}function Bh(e,t,n,a){return e.baseState=n,Vs(e,dt,typeof a=="function"?a:Ir)}function ig(e,t,n,a,c){if(Po(e))throw Error(l(485));if(e=t.action,e!==null){var d={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};I.T!==null?n(!0):d.isTransition=!1,a(d),n=t.pending,n===null?(d.next=t.pending=d,qh(t,d)):(d.next=n.next,t.pending=n.next=d)}}function qh(e,t){var n=t.action,a=t.payload,c=e.state;if(t.isTransition){var d=I.T,_={};I.T=_;try{var x=n(c,a),U=I.S;U!==null&&U(_,x),Kh(e,t,x)}catch(Z){Zs(e,t,Z)}finally{I.T=d}}else try{d=n(c,a),Kh(e,t,d)}catch(Z){Zs(e,t,Z)}}function Kh(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){Hh(e,t,a)},function(a){return Zs(e,t,a)}):Hh(e,t,n)}function Hh(e,t,n){t.status="fulfilled",t.value=n,Lh(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,qh(e,n)))}function Zs(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,Lh(t),t=t.next;while(t!==a)}e.action=null}function Lh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Yh(e,t){return t}function Gh(e,t){if(ot){var n=_t.formState;if(n!==null){e:{var a=Fe;if(ot){if(jt){t:{for(var c=jt,d=hr;c.nodeType!==8;){if(!d){c=null;break t}if(c=Wn(c.nextSibling),c===null){c=null;break t}}d=c.data,c=d==="F!"||d==="F"?c:null}if(c){jt=Wn(c.nextSibling),a=c.data==="F!";break e}}vi(a)}a=!1}a&&(t=n[0])}}return n=mn(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yh,lastRenderedState:t},n.queue=a,n=oy.bind(null,Fe,a),a.dispatch=n,a=Xs(!1),d=Ws.bind(null,Fe,!1,a.queue),a=mn(),c={state:t,dispatch:null,action:e,pending:null},a.queue=c,n=ig.bind(null,Fe,c,d,n),c.dispatch=n,a.memoizedState=e,[t,n,!1]}function Vh(e){var t=qt();return Qh(t,dt,e)}function Qh(e,t,n){if(t=Vs(e,t,Yh)[0],e=Io(Ir)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=Al(t)}catch(_){throw _===_l?Yo:_}else a=t;t=qt();var c=t.queue,d=c.dispatch;return n!==t.memoizedState&&(Fe.flags|=2048,lu(9,Jo(),ug.bind(null,c,n),null)),[a,d,e]}function ug(e,t){e.action=t}function Xh(e){var t=qt(),n=dt;if(n!==null)return Qh(t,n,e);qt(),t=t.memoizedState,n=qt();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function lu(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=Fe.updateQueue,t===null&&(t=Ys(),Fe.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function Jo(){return{destroy:void 0,resource:void 0}}function Zh(){return qt().memoizedState}function $o(e,t,n,a){var c=mn();a=a===void 0?null:a,Fe.flags|=e,c.memoizedState=lu(1|t,Jo(),n,a)}function Tl(e,t,n,a){var c=qt();a=a===void 0?null:a;var d=c.memoizedState.inst;dt!==null&&a!==null&&Bs(a,dt.memoizedState.deps)?c.memoizedState=lu(t,d,n,a):(Fe.flags|=e,c.memoizedState=lu(1|t,d,n,a))}function Ih(e,t){$o(8390656,8,e,t)}function Jh(e,t){Tl(2048,8,e,t)}function $h(e,t){return Tl(4,2,e,t)}function Ph(e,t){return Tl(4,4,e,t)}function Wh(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Fh(e,t,n){n=n!=null?n.concat([e]):null,Tl(4,4,Wh.bind(null,t,e),n)}function Is(){}function ey(e,t){var n=qt();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&Bs(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function ty(e,t){var n=qt();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&Bs(t,a[1]))return a[0];if(a=e(),gi){Mn(!0);try{e()}finally{Mn(!1)}}return n.memoizedState=[a,t],a}function Js(e,t,n){return n===void 0||(Ca&1073741824)!==0?e.memoizedState=t:(e.memoizedState=n,e=av(),Fe.lanes|=e,Ka|=e,n)}function ny(e,t,n,a){return ln(n,t)?n:au.current!==null?(e=Js(e,n,a),ln(e,t)||(Jt=!0),e):(Ca&42)===0?(Jt=!0,e.memoizedState=n):(e=av(),Fe.lanes|=e,Ka|=e,t)}function ry(e,t,n,a,c){var d=he.p;he.p=d!==0&&8>d?d:8;var _=I.T,x={};I.T=x,Ws(e,!1,t,n);try{var U=c(),Z=I.S;if(Z!==null&&Z(x,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var ae=ng(U,a);jl(e,t,ae,jn(e))}else jl(e,t,a,jn(e))}catch(le){jl(e,t,{then:function(){},status:"rejected",reason:le},jn())}finally{he.p=d,I.T=_}}function lg(){}function $s(e,t,n,a){if(e.tag!==5)throw Error(l(476));var c=ay(e).queue;ry(e,c,t,je,n===null?lg:function(){return iy(e),n(a)})}function ay(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:je,baseState:je,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ir,lastRenderedState:je},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ir,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function iy(e){var t=ay(e).next.queue;jl(e,t,{},jn())}function Ps(){return on(Xl)}function uy(){return qt().memoizedState}function ly(){return qt().memoizedState}function og(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=jn();e=Ua(n);var a=Ra(t,e,n);a!==null&&(Dn(a,t,n),wl(a,t,n)),t={cache:Ts()},e.payload=t;return}t=t.return}}function cg(e,t,n){var a=jn();n={lane:a,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Po(e)?cy(t,n):(n=zt(e,t,n,a),n!==null&&(Dn(n,e,a),sy(n,t,a)))}function oy(e,t,n){var a=jn();jl(e,t,n,a)}function jl(e,t,n,a){var c={lane:a,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Po(e))cy(t,c);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var _=t.lastRenderedState,x=d(_,n);if(c.hasEagerState=!0,c.eagerState=x,ln(x,_))return Ct(e,t,c,0),_t===null&&Xe(),!1}catch{}finally{}if(n=zt(e,t,c,a),n!==null)return Dn(n,e,a),sy(n,t,a),!0}return!1}function Ws(e,t,n,a){if(a={lane:2,revertLane:Rf(),action:a,hasEagerState:!1,eagerState:null,next:null},Po(e)){if(t)throw Error(l(479))}else t=zt(e,n,a,2),t!==null&&Dn(t,e,2)}function Po(e){var t=e.alternate;return e===Fe||t!==null&&t===Fe}function cy(e,t){iu=Qo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function sy(e,t,n){if((n&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Ri(e,n)}}var Wo={readContext:on,use:Zo,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useLayoutEffect:kt,useInsertionEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useSyncExternalStore:kt,useId:kt,useHostTransitionStatus:kt,useFormState:kt,useActionState:kt,useOptimistic:kt,useMemoCache:kt,useCacheRefresh:kt},fy={readContext:on,use:Zo,useCallback:function(e,t){return mn().memoizedState=[e,t===void 0?null:t],e},useContext:on,useEffect:Ih,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,$o(4194308,4,Wh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return $o(4194308,4,e,t)},useInsertionEffect:function(e,t){$o(4,2,e,t)},useMemo:function(e,t){var n=mn();t=t===void 0?null:t;var a=e();if(gi){Mn(!0);try{e()}finally{Mn(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=mn();if(n!==void 0){var c=n(t);if(gi){Mn(!0);try{n(t)}finally{Mn(!1)}}}else c=t;return a.memoizedState=a.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},a.queue=e,e=e.dispatch=cg.bind(null,Fe,e),[a.memoizedState,e]},useRef:function(e){var t=mn();return e={current:e},t.memoizedState=e},useState:function(e){e=Xs(e);var t=e.queue,n=oy.bind(null,Fe,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Is,useDeferredValue:function(e,t){var n=mn();return Js(n,e,t)},useTransition:function(){var e=Xs(!1);return e=ry.bind(null,Fe,e.queue,!0,!1),mn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=Fe,c=mn();if(ot){if(n===void 0)throw Error(l(407));n=n()}else{if(n=t(),_t===null)throw Error(l(349));(it&124)!==0||Ch(a,t,n)}c.memoizedState=n;var d={value:n,getSnapshot:t};return c.queue=d,Ih(Mh.bind(null,a,d,e),[e]),a.flags|=2048,lu(9,Jo(),kh.bind(null,a,d,n,t),null),n},useId:function(){var e=mn(),t=_t.identifierPrefix;if(ot){var n=Qr,a=Vr;n=(a&~(1<<32-Ht(a)-1)).toString(32)+n,t="«"+t+"R"+n,n=Xo++,0<n&&(t+="H"+n.toString(32)),t+="»"}else n=rg++,t="«"+t+"r"+n.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:Ps,useFormState:Gh,useActionState:Gh,useOptimistic:function(e){var t=mn();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Ws.bind(null,Fe,!0,n),n.dispatch=t,[e,t]},useMemoCache:Gs,useCacheRefresh:function(){return mn().memoizedState=og.bind(null,Fe)}},dy={readContext:on,use:Zo,useCallback:ey,useContext:on,useEffect:Jh,useImperativeHandle:Fh,useInsertionEffect:$h,useLayoutEffect:Ph,useMemo:ty,useReducer:Io,useRef:Zh,useState:function(){return Io(Ir)},useDebugValue:Is,useDeferredValue:function(e,t){var n=qt();return ny(n,dt.memoizedState,e,t)},useTransition:function(){var e=Io(Ir)[0],t=qt().memoizedState;return[typeof e=="boolean"?e:Al(e),t]},useSyncExternalStore:Rh,useId:uy,useHostTransitionStatus:Ps,useFormState:Vh,useActionState:Vh,useOptimistic:function(e,t){var n=qt();return Bh(n,dt,e,t)},useMemoCache:Gs,useCacheRefresh:ly},sg={readContext:on,use:Zo,useCallback:ey,useContext:on,useEffect:Jh,useImperativeHandle:Fh,useInsertionEffect:$h,useLayoutEffect:Ph,useMemo:ty,useReducer:Qs,useRef:Zh,useState:function(){return Qs(Ir)},useDebugValue:Is,useDeferredValue:function(e,t){var n=qt();return dt===null?Js(n,e,t):ny(n,dt.memoizedState,e,t)},useTransition:function(){var e=Qs(Ir)[0],t=qt().memoizedState;return[typeof e=="boolean"?e:Al(e),t]},useSyncExternalStore:Rh,useId:uy,useHostTransitionStatus:Ps,useFormState:Xh,useActionState:Xh,useOptimistic:function(e,t){var n=qt();return dt!==null?Bh(n,dt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Gs,useCacheRefresh:ly},ou=null,Dl=0;function Fo(e){var t=Dl;return Dl+=1,ou===null&&(ou=[]),Eh(ou,e,t)}function Ul(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ec(e,t){throw t.$$typeof===A?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function hy(e){var t=e._init;return t(e._payload)}function yy(e){function t(L,z){if(e){var X=L.deletions;X===null?(L.deletions=[z],L.flags|=16):X.push(z)}}function n(L,z){if(!e)return null;for(;z!==null;)t(L,z),z=z.sibling;return null}function a(L){for(var z=new Map;L!==null;)L.key!==null?z.set(L.key,L):z.set(L.index,L),L=L.sibling;return z}function c(L,z){return L=Gr(L,z),L.index=0,L.sibling=null,L}function d(L,z,X){return L.index=X,e?(X=L.alternate,X!==null?(X=X.index,X<z?(L.flags|=67108866,z):X):(L.flags|=67108866,z)):(L.flags|=1048576,z)}function _(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function x(L,z,X,ue){return z===null||z.tag!==6?(z=gs(X,L.mode,ue),z.return=L,z):(z=c(z,X),z.return=L,z)}function U(L,z,X,ue){var Me=X.type;return Me===k?ae(L,z,X.props.children,ue,X.key):z!==null&&(z.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===te&&hy(Me)===z.type)?(z=c(z,X.props),Ul(z,X),z.return=L,z):(z=zo(X.type,X.key,X.props,null,L.mode,ue),Ul(z,X),z.return=L,z)}function Z(L,z,X,ue){return z===null||z.tag!==4||z.stateNode.containerInfo!==X.containerInfo||z.stateNode.implementation!==X.implementation?(z=_s(X,L.mode,ue),z.return=L,z):(z=c(z,X.children||[]),z.return=L,z)}function ae(L,z,X,ue,Me){return z===null||z.tag!==7?(z=fi(X,L.mode,ue,Me),z.return=L,z):(z=c(z,X),z.return=L,z)}function le(L,z,X){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=gs(""+z,L.mode,X),z.return=L,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case O:return X=zo(z.type,z.key,z.props,null,L.mode,X),Ul(X,z),X.return=L,X;case T:return z=_s(z,L.mode,X),z.return=L,z;case te:var ue=z._init;return z=ue(z._payload),le(L,z,X)}if(Ce(z)||ke(z))return z=fi(z,L.mode,X,null),z.return=L,z;if(typeof z.then=="function")return le(L,Fo(z),X);if(z.$$typeof===ee)return le(L,Ho(L,z),X);ec(L,z)}return null}function $(L,z,X,ue){var Me=z!==null?z.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return Me!==null?null:x(L,z,""+X,ue);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case O:return X.key===Me?U(L,z,X,ue):null;case T:return X.key===Me?Z(L,z,X,ue):null;case te:return Me=X._init,X=Me(X._payload),$(L,z,X,ue)}if(Ce(X)||ke(X))return Me!==null?null:ae(L,z,X,ue,null);if(typeof X.then=="function")return $(L,z,Fo(X),ue);if(X.$$typeof===ee)return $(L,z,Ho(L,X),ue);ec(L,X)}return null}function P(L,z,X,ue,Me){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return L=L.get(X)||null,x(z,L,""+ue,Me);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case O:return L=L.get(ue.key===null?X:ue.key)||null,U(z,L,ue,Me);case T:return L=L.get(ue.key===null?X:ue.key)||null,Z(z,L,ue,Me);case te:var et=ue._init;return ue=et(ue._payload),P(L,z,X,ue,Me)}if(Ce(ue)||ke(ue))return L=L.get(X)||null,ae(z,L,ue,Me,null);if(typeof ue.then=="function")return P(L,z,X,Fo(ue),Me);if(ue.$$typeof===ee)return P(L,z,X,Ho(z,ue),Me);ec(z,ue)}return null}function Ze(L,z,X,ue){for(var Me=null,et=null,Be=z,Qe=z=0,Pt=null;Be!==null&&Qe<X.length;Qe++){Be.index>Qe?(Pt=Be,Be=null):Pt=Be.sibling;var lt=$(L,Be,X[Qe],ue);if(lt===null){Be===null&&(Be=Pt);break}e&&Be&&lt.alternate===null&&t(L,Be),z=d(lt,z,Qe),et===null?Me=lt:et.sibling=lt,et=lt,Be=Pt}if(Qe===X.length)return n(L,Be),ot&&hi(L,Qe),Me;if(Be===null){for(;Qe<X.length;Qe++)Be=le(L,X[Qe],ue),Be!==null&&(z=d(Be,z,Qe),et===null?Me=Be:et.sibling=Be,et=Be);return ot&&hi(L,Qe),Me}for(Be=a(Be);Qe<X.length;Qe++)Pt=P(Be,L,Qe,X[Qe],ue),Pt!==null&&(e&&Pt.alternate!==null&&Be.delete(Pt.key===null?Qe:Pt.key),z=d(Pt,z,Qe),et===null?Me=Pt:et.sibling=Pt,et=Pt);return e&&Be.forEach(function(Ia){return t(L,Ia)}),ot&&hi(L,Qe),Me}function Ve(L,z,X,ue){if(X==null)throw Error(l(151));for(var Me=null,et=null,Be=z,Qe=z=0,Pt=null,lt=X.next();Be!==null&&!lt.done;Qe++,lt=X.next()){Be.index>Qe?(Pt=Be,Be=null):Pt=Be.sibling;var Ia=$(L,Be,lt.value,ue);if(Ia===null){Be===null&&(Be=Pt);break}e&&Be&&Ia.alternate===null&&t(L,Be),z=d(Ia,z,Qe),et===null?Me=Ia:et.sibling=Ia,et=Ia,Be=Pt}if(lt.done)return n(L,Be),ot&&hi(L,Qe),Me;if(Be===null){for(;!lt.done;Qe++,lt=X.next())lt=le(L,lt.value,ue),lt!==null&&(z=d(lt,z,Qe),et===null?Me=lt:et.sibling=lt,et=lt);return ot&&hi(L,Qe),Me}for(Be=a(Be);!lt.done;Qe++,lt=X.next())lt=P(Be,L,Qe,lt.value,ue),lt!==null&&(e&&lt.alternate!==null&&Be.delete(lt.key===null?Qe:lt.key),z=d(lt,z,Qe),et===null?Me=lt:et.sibling=lt,et=lt);return e&&Be.forEach(function(f0){return t(L,f0)}),ot&&hi(L,Qe),Me}function yt(L,z,X,ue){if(typeof X=="object"&&X!==null&&X.type===k&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case O:e:{for(var Me=X.key;z!==null;){if(z.key===Me){if(Me=X.type,Me===k){if(z.tag===7){n(L,z.sibling),ue=c(z,X.props.children),ue.return=L,L=ue;break e}}else if(z.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===te&&hy(Me)===z.type){n(L,z.sibling),ue=c(z,X.props),Ul(ue,X),ue.return=L,L=ue;break e}n(L,z);break}else t(L,z);z=z.sibling}X.type===k?(ue=fi(X.props.children,L.mode,ue,X.key),ue.return=L,L=ue):(ue=zo(X.type,X.key,X.props,null,L.mode,ue),Ul(ue,X),ue.return=L,L=ue)}return _(L);case T:e:{for(Me=X.key;z!==null;){if(z.key===Me)if(z.tag===4&&z.stateNode.containerInfo===X.containerInfo&&z.stateNode.implementation===X.implementation){n(L,z.sibling),ue=c(z,X.children||[]),ue.return=L,L=ue;break e}else{n(L,z);break}else t(L,z);z=z.sibling}ue=_s(X,L.mode,ue),ue.return=L,L=ue}return _(L);case te:return Me=X._init,X=Me(X._payload),yt(L,z,X,ue)}if(Ce(X))return Ze(L,z,X,ue);if(ke(X)){if(Me=ke(X),typeof Me!="function")throw Error(l(150));return X=Me.call(X),Ve(L,z,X,ue)}if(typeof X.then=="function")return yt(L,z,Fo(X),ue);if(X.$$typeof===ee)return yt(L,z,Ho(L,X),ue);ec(L,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,z!==null&&z.tag===6?(n(L,z.sibling),ue=c(z,X),ue.return=L,L=ue):(n(L,z),ue=gs(X,L.mode,ue),ue.return=L,L=ue),_(L)):n(L,z)}return function(L,z,X,ue){try{Dl=0;var Me=yt(L,z,X,ue);return ou=null,Me}catch(Be){if(Be===_l||Be===Yo)throw Be;var et=xn(29,Be,null,L.mode);return et.lanes=ue,et.return=L,et}finally{}}}var cu=yy(!0),vy=yy(!1),Vn=ie(null),yr=null;function ka(e){var t=e.alternate;pe(Yt,Yt.current&1),pe(Vn,e),yr===null&&(t===null||au.current!==null||t.memoizedState!==null)&&(yr=e)}function py(e){if(e.tag===22){if(pe(Yt,Yt.current),pe(Vn,e),yr===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(yr=e)}}else Ma()}function Ma(){pe(Yt,Yt.current),pe(Vn,Vn.current)}function Jr(e){xe(Vn),yr===e&&(yr=null),xe(Yt)}var Yt=ie(0);function tc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Gf(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Fs(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:v({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ef={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=jn(),c=Ua(a);c.payload=t,n!=null&&(c.callback=n),t=Ra(e,c,a),t!==null&&(Dn(t,e,a),wl(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=jn(),c=Ua(a);c.tag=1,c.payload=t,n!=null&&(c.callback=n),t=Ra(e,c,a),t!==null&&(Dn(t,e,a),wl(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=jn(),a=Ua(n);a.tag=2,t!=null&&(a.callback=t),t=Ra(e,a,n),t!==null&&(Dn(t,e,n),wl(t,e,n))}};function my(e,t,n,a,c,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,d,_):t.prototype&&t.prototype.isPureReactComponent?!o(n,a)||!o(c,d):!0}function by(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&ef.enqueueReplaceState(t,t.state,null)}function _i(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=v({},n));for(var c in e)n[c]===void 0&&(n[c]=e[c])}return n}var nc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function gy(e){nc(e)}function _y(e){console.error(e)}function Sy(e){nc(e)}function rc(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function wy(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function tf(e,t,n){return n=Ua(n),n.tag=3,n.payload={element:null},n.callback=function(){rc(e,t)},n}function Ey(e){return e=Ua(e),e.tag=3,e}function xy(e,t,n,a){var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var d=a.value;e.payload=function(){return c(d)},e.callback=function(){wy(t,n,a)}}var _=n.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){wy(t,n,a),typeof c!="function"&&(Ha===null?Ha=new Set([this]):Ha.add(this));var x=a.stack;this.componentDidCatch(a.value,{componentStack:x!==null?x:""})})}function fg(e,t,n,a,c){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&ml(t,n,c,!0),n=Vn.current,n!==null){switch(n.tag){case 13:return yr===null?Af():n.alternate===null&&Dt===0&&(Dt=3),n.flags&=-257,n.flags|=65536,n.lanes=c,a===Us?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),jf(e,a,c)),!1;case 22:return n.flags|=65536,a===Us?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),jf(e,a,c)),!1}throw Error(l(435,n.tag))}return jf(e,a,c),Af(),!1}if(ot)return t=Vn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,a!==Es&&(e=Error(l(422),{cause:a}),pl(Ke(e,n)))):(a!==Es&&(t=Error(l(423),{cause:a}),pl(Ke(t,n))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,a=Ke(a,n),c=tf(e.stateNode,a,c),ks(e,c),Dt!==4&&(Dt=2)),!1;var d=Error(l(520),{cause:a});if(d=Ke(d,n),Bl===null?Bl=[d]:Bl.push(d),Dt!==4&&(Dt=2),t===null)return!0;a=Ke(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=c&-c,n.lanes|=e,e=tf(n.stateNode,a,e),ks(n,e),!1;case 1:if(t=n.type,d=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ha===null||!Ha.has(d))))return n.flags|=65536,c&=-c,n.lanes|=c,c=Ey(c),xy(c,e,n,a),ks(n,c),!1}n=n.return}while(n!==null);return!1}var Oy=Error(l(461)),Jt=!1;function en(e,t,n,a){t.child=e===null?vy(t,null,n,a):cu(t,e.child,n,a)}function Ay(e,t,n,a,c){n=n.render;var d=t.ref;if("ref"in a){var _={};for(var x in a)x!=="ref"&&(_[x]=a[x])}else _=a;return mi(t),a=qs(e,t,n,_,d,c),x=Ks(),e!==null&&!Jt?(Hs(e,t,c),$r(e,t,c)):(ot&&x&&Ss(t),t.flags|=1,en(e,t,a,c),t.child)}function Ty(e,t,n,a,c){if(e===null){var d=n.type;return typeof d=="function"&&!bs(d)&&d.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=d,jy(e,t,d,a,c)):(e=zo(n.type,null,a,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!sf(e,c)){var _=d.memoizedProps;if(n=n.compare,n=n!==null?n:o,n(_,a)&&e.ref===t.ref)return $r(e,t,c)}return t.flags|=1,e=Gr(d,a),e.ref=t.ref,e.return=t,t.child=e}function jy(e,t,n,a,c){if(e!==null){var d=e.memoizedProps;if(o(d,a)&&e.ref===t.ref)if(Jt=!1,t.pendingProps=a=d,sf(e,c))(e.flags&131072)!==0&&(Jt=!0);else return t.lanes=e.lanes,$r(e,t,c)}return nf(e,t,n,a,c)}function Dy(e,t,n){var a=t.pendingProps,c=a.children,d=e!==null?e.memoizedState:null;if(a.mode==="hidden"){if((t.flags&128)!==0){if(a=d!==null?d.baseLanes|n:n,e!==null){for(c=t.child=e.child,d=0;c!==null;)d=d|c.lanes|c.childLanes,c=c.sibling;t.childLanes=d&~a}else t.childLanes=0,t.child=null;return Uy(e,t,a,n)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Lo(t,d!==null?d.cachePool:null),d!==null?jh(t,d):Ns(),py(t);else return t.lanes=t.childLanes=536870912,Uy(e,t,d!==null?d.baseLanes|n:n,n)}else d!==null?(Lo(t,d.cachePool),jh(t,d),Ma(),t.memoizedState=null):(e!==null&&Lo(t,null),Ns(),Ma());return en(e,t,c,n),t.child}function Uy(e,t,n,a){var c=Ds();return c=c===null?null:{parent:Lt._currentValue,pool:c},t.memoizedState={baseLanes:n,cachePool:c},e!==null&&Lo(t,null),Ns(),py(t),e!==null&&ml(e,t,a,!0),null}function ac(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(l(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function nf(e,t,n,a,c){return mi(t),n=qs(e,t,n,a,void 0,c),a=Ks(),e!==null&&!Jt?(Hs(e,t,c),$r(e,t,c)):(ot&&a&&Ss(t),t.flags|=1,en(e,t,n,c),t.child)}function Ry(e,t,n,a,c,d){return mi(t),t.updateQueue=null,n=Uh(t,a,n,c),Dh(e),a=Ks(),e!==null&&!Jt?(Hs(e,t,d),$r(e,t,d)):(ot&&a&&Ss(t),t.flags|=1,en(e,t,n,d),t.child)}function Cy(e,t,n,a,c){if(mi(t),t.stateNode===null){var d=dr,_=n.contextType;typeof _=="object"&&_!==null&&(d=on(_)),d=new n(a,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=ef,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=a,d.state=t.memoizedState,d.refs={},Rs(t),_=n.contextType,d.context=typeof _=="object"&&_!==null?on(_):dr,d.state=t.memoizedState,_=n.getDerivedStateFromProps,typeof _=="function"&&(Fs(t,n,_,a),d.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&ef.enqueueReplaceState(d,d.state,null),xl(t,a,d,c),El(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){d=t.stateNode;var x=t.memoizedProps,U=_i(n,x);d.props=U;var Z=d.context,ae=n.contextType;_=dr,typeof ae=="object"&&ae!==null&&(_=on(ae));var le=n.getDerivedStateFromProps;ae=typeof le=="function"||typeof d.getSnapshotBeforeUpdate=="function",x=t.pendingProps!==x,ae||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(x||Z!==_)&&by(t,d,a,_),Da=!1;var $=t.memoizedState;d.state=$,xl(t,a,d,c),El(),Z=t.memoizedState,x||$!==Z||Da?(typeof le=="function"&&(Fs(t,n,le,a),Z=t.memoizedState),(U=Da||my(t,n,U,a,$,Z,_))?(ae||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=Z),d.props=a,d.state=Z,d.context=_,a=U):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{d=t.stateNode,Cs(e,t),_=t.memoizedProps,ae=_i(n,_),d.props=ae,le=t.pendingProps,$=d.context,Z=n.contextType,U=dr,typeof Z=="object"&&Z!==null&&(U=on(Z)),x=n.getDerivedStateFromProps,(Z=typeof x=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==le||$!==U)&&by(t,d,a,U),Da=!1,$=t.memoizedState,d.state=$,xl(t,a,d,c),El();var P=t.memoizedState;_!==le||$!==P||Da||e!==null&&e.dependencies!==null&&Ko(e.dependencies)?(typeof x=="function"&&(Fs(t,n,x,a),P=t.memoizedState),(ae=Da||my(t,n,ae,a,$,P,U)||e!==null&&e.dependencies!==null&&Ko(e.dependencies))?(Z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(a,P,U),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(a,P,U)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&$===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&$===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=P),d.props=a,d.state=P,d.context=U,a=ae):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&$===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&$===e.memoizedState||(t.flags|=1024),a=!1)}return d=a,ac(e,t),a=(t.flags&128)!==0,d||a?(d=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&a?(t.child=cu(t,e.child,null,c),t.child=cu(t,null,n,c)):en(e,t,n,c),t.memoizedState=d.state,e=t.child):e=$r(e,t,c),e}function ky(e,t,n,a){return vl(),t.flags|=256,en(e,t,n,a),t.child}var rf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function af(e){return{baseLanes:e,cachePool:_h()}}function uf(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Qn),e}function My(e,t,n){var a=t.pendingProps,c=!1,d=(t.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(Yt.current&2)!==0),_&&(c=!0,t.flags&=-129),_=(t.flags&32)!==0,t.flags&=-33,e===null){if(ot){if(c?ka(t):Ma(),ot){var x=jt,U;if(U=x){e:{for(U=x,x=hr;U.nodeType!==8;){if(!x){x=null;break e}if(U=Wn(U.nextSibling),U===null){x=null;break e}}x=U}x!==null?(t.memoizedState={dehydrated:x,treeContext:di!==null?{id:Vr,overflow:Qr}:null,retryLane:536870912,hydrationErrors:null},U=xn(18,null,null,0),U.stateNode=x,U.return=t,t.child=U,vn=t,jt=null,U=!0):U=!1}U||vi(t)}if(x=t.memoizedState,x!==null&&(x=x.dehydrated,x!==null))return Gf(x)?t.lanes=32:t.lanes=536870912,null;Jr(t)}return x=a.children,a=a.fallback,c?(Ma(),c=t.mode,x=ic({mode:"hidden",children:x},c),a=fi(a,c,n,null),x.return=t,a.return=t,x.sibling=a,t.child=x,c=t.child,c.memoizedState=af(n),c.childLanes=uf(e,_,n),t.memoizedState=rf,a):(ka(t),lf(t,x))}if(U=e.memoizedState,U!==null&&(x=U.dehydrated,x!==null)){if(d)t.flags&256?(ka(t),t.flags&=-257,t=of(e,t,n)):t.memoizedState!==null?(Ma(),t.child=e.child,t.flags|=128,t=null):(Ma(),c=a.fallback,x=t.mode,a=ic({mode:"visible",children:a.children},x),c=fi(c,x,n,null),c.flags|=2,a.return=t,c.return=t,a.sibling=c,t.child=a,cu(t,e.child,null,n),a=t.child,a.memoizedState=af(n),a.childLanes=uf(e,_,n),t.memoizedState=rf,t=c);else if(ka(t),Gf(x)){if(_=x.nextSibling&&x.nextSibling.dataset,_)var Z=_.dgst;_=Z,a=Error(l(419)),a.stack="",a.digest=_,pl({value:a,source:null,stack:null}),t=of(e,t,n)}else if(Jt||ml(e,t,n,!1),_=(n&e.childLanes)!==0,Jt||_){if(_=_t,_!==null&&(a=n&-n,a=(a&42)!==0?1:Vu(a),a=(a&(_.suspendedLanes|n))!==0?0:a,a!==0&&a!==U.retryLane))throw U.retryLane=a,$n(e,a),Dn(_,e,a),Oy;x.data==="$?"||Af(),t=of(e,t,n)}else x.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=U.treeContext,jt=Wn(x.nextSibling),vn=t,ot=!0,yi=null,hr=!1,e!==null&&(Yn[Gn++]=Vr,Yn[Gn++]=Qr,Yn[Gn++]=di,Vr=e.id,Qr=e.overflow,di=t),t=lf(t,a.children),t.flags|=4096);return t}return c?(Ma(),c=a.fallback,x=t.mode,U=e.child,Z=U.sibling,a=Gr(U,{mode:"hidden",children:a.children}),a.subtreeFlags=U.subtreeFlags&65011712,Z!==null?c=Gr(Z,c):(c=fi(c,x,n,null),c.flags|=2),c.return=t,a.return=t,a.sibling=c,t.child=a,a=c,c=t.child,x=e.child.memoizedState,x===null?x=af(n):(U=x.cachePool,U!==null?(Z=Lt._currentValue,U=U.parent!==Z?{parent:Z,pool:Z}:U):U=_h(),x={baseLanes:x.baseLanes|n,cachePool:U}),c.memoizedState=x,c.childLanes=uf(e,_,n),t.memoizedState=rf,a):(ka(t),n=e.child,e=n.sibling,n=Gr(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(_=t.deletions,_===null?(t.deletions=[e],t.flags|=16):_.push(e)),t.child=n,t.memoizedState=null,n)}function lf(e,t){return t=ic({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function ic(e,t){return e=xn(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function of(e,t,n){return cu(t,e.child,null,n),e=lf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ny(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Os(e.return,t,n)}function cf(e,t,n,a,c){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:c}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=a,d.tail=n,d.tailMode=c)}function zy(e,t,n){var a=t.pendingProps,c=a.revealOrder,d=a.tail;if(en(e,t,a.children,n),a=Yt.current,(a&2)!==0)a=a&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ny(e,n,t);else if(e.tag===19)Ny(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}switch(pe(Yt,a),c){case"forwards":for(n=t.child,c=null;n!==null;)e=n.alternate,e!==null&&tc(e)===null&&(c=n),n=n.sibling;n=c,n===null?(c=t.child,t.child=null):(c=n.sibling,n.sibling=null),cf(t,!1,c,n,d);break;case"backwards":for(n=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&tc(e)===null){t.child=c;break}e=c.sibling,c.sibling=n,n=c,c=e}cf(t,!0,n,null,d);break;case"together":cf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $r(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ka|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(ml(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,n=Gr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Gr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function sf(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Ko(e)))}function dg(e,t,n){switch(t.tag){case 3:gt(t,t.stateNode.containerInfo),ja(t,Lt,e.memoizedState.cache),vl();break;case 27:case 5:ji(t);break;case 4:gt(t,t.stateNode.containerInfo);break;case 10:ja(t,t.type,t.memoizedProps.value);break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(ka(t),t.flags|=128,null):(n&t.child.childLanes)!==0?My(e,t,n):(ka(t),e=$r(e,t,n),e!==null?e.sibling:null);ka(t);break;case 19:var c=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(ml(e,t,n,!1),a=(n&t.childLanes)!==0),c){if(a)return zy(e,t,n);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),pe(Yt,Yt.current),a)break;return null;case 22:case 23:return t.lanes=0,Dy(e,t,n);case 24:ja(t,Lt,e.memoizedState.cache)}return $r(e,t,n)}function By(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Jt=!0;else{if(!sf(e,n)&&(t.flags&128)===0)return Jt=!1,dg(e,t,n);Jt=(e.flags&131072)!==0}else Jt=!1,ot&&(t.flags&1048576)!==0&&hh(t,qo,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var a=t.elementType,c=a._init;if(a=c(a._payload),t.type=a,typeof a=="function")bs(a)?(e=_i(a,e),t.tag=1,t=Cy(null,t,a,e,n)):(t.tag=0,t=nf(null,t,a,e,n));else{if(a!=null){if(c=a.$$typeof,c===_e){t.tag=11,t=Ay(null,t,a,e,n);break e}else if(c===Ue){t.tag=14,t=Ty(null,t,a,e,n);break e}}throw t=Ee(a)||a,Error(l(306,t,""))}}return t;case 0:return nf(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,c=_i(a,t.pendingProps),Cy(e,t,a,c,n);case 3:e:{if(gt(t,t.stateNode.containerInfo),e===null)throw Error(l(387));a=t.pendingProps;var d=t.memoizedState;c=d.element,Cs(e,t),xl(t,a,null,n);var _=t.memoizedState;if(a=_.cache,ja(t,Lt,a),a!==d.cache&&As(t,[Lt],n,!0),El(),a=_.element,d.isDehydrated)if(d={element:a,isDehydrated:!1,cache:_.cache},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){t=ky(e,t,a,n);break e}else if(a!==c){c=Ke(Error(l(424)),t),pl(c),t=ky(e,t,a,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(jt=Wn(e.firstChild),vn=t,ot=!0,yi=null,hr=!0,n=vy(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(vl(),a===c){t=$r(e,t,n);break e}en(e,t,a,n)}t=t.child}return t;case 26:return ac(e,t),e===null?(n=Lv(t.type,null,t.pendingProps,null))?t.memoizedState=n:ot||(n=t.type,e=t.pendingProps,a=gc(He.current).createElement(n),a[Rt]=t,a[We]=e,nn(a,n,e),pt(a),t.stateNode=a):t.memoizedState=Lv(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ji(t),e===null&&ot&&(a=t.stateNode=qv(t.type,t.pendingProps,He.current),vn=t,hr=!0,c=jt,Ga(t.type)?(Vf=c,jt=Wn(a.firstChild)):jt=c),en(e,t,t.pendingProps.children,n),ac(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ot&&((c=a=jt)&&(a=Hg(a,t.type,t.pendingProps,hr),a!==null?(t.stateNode=a,vn=t,jt=Wn(a.firstChild),hr=!1,c=!0):c=!1),c||vi(t)),ji(t),c=t.type,d=t.pendingProps,_=e!==null?e.memoizedProps:null,a=d.children,Hf(c,d)?a=null:_!==null&&Hf(c,_)&&(t.flags|=32),t.memoizedState!==null&&(c=qs(e,t,ag,null,null,n),Xl._currentValue=c),ac(e,t),en(e,t,a,n),t.child;case 6:return e===null&&ot&&((e=n=jt)&&(n=Lg(n,t.pendingProps,hr),n!==null?(t.stateNode=n,vn=t,jt=null,e=!0):e=!1),e||vi(t)),null;case 13:return My(e,t,n);case 4:return gt(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=cu(t,null,a,n):en(e,t,a,n),t.child;case 11:return Ay(e,t,t.type,t.pendingProps,n);case 7:return en(e,t,t.pendingProps,n),t.child;case 8:return en(e,t,t.pendingProps.children,n),t.child;case 12:return en(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,ja(t,t.type,a.value),en(e,t,a.children,n),t.child;case 9:return c=t.type._context,a=t.pendingProps.children,mi(t),c=on(c),a=a(c),t.flags|=1,en(e,t,a,n),t.child;case 14:return Ty(e,t,t.type,t.pendingProps,n);case 15:return jy(e,t,t.type,t.pendingProps,n);case 19:return zy(e,t,n);case 31:return a=t.pendingProps,n=t.mode,a={mode:a.mode,children:a.children},e===null?(n=ic(a,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=Gr(e.child,a),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Dy(e,t,n);case 24:return mi(t),a=on(Lt),e===null?(c=Ds(),c===null&&(c=_t,d=Ts(),c.pooledCache=d,d.refCount++,d!==null&&(c.pooledCacheLanes|=n),c=d),t.memoizedState={parent:a,cache:c},Rs(t),ja(t,Lt,c)):((e.lanes&n)!==0&&(Cs(e,t),xl(t,null,null,n),El()),c=e.memoizedState,d=t.memoizedState,c.parent!==a?(c={parent:a,cache:a},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),ja(t,Lt,a)):(a=d.cache,ja(t,Lt,a),a!==c.cache&&As(t,[Lt],n,!0))),en(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function Pr(e){e.flags|=4}function qy(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Xv(t)){if(t=Vn.current,t!==null&&((it&4194048)===it?yr!==null:(it&62914560)!==it&&(it&536870912)===0||t!==yr))throw Sl=Us,Sh;e.flags|=8192}}function uc(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Te():536870912,e.lanes|=t,hu|=t)}function Rl(e,t){if(!ot)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function At(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var c=e.child;c!==null;)n|=c.lanes|c.childLanes,a|=c.subtreeFlags&65011712,a|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)n|=c.lanes|c.childLanes,a|=c.subtreeFlags,a|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function hg(e,t,n){var a=t.pendingProps;switch(ws(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(t),null;case 1:return At(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Zr(Lt),ze(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(yl(t)?Pr(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,ph())),At(t),null;case 26:return n=t.memoizedState,e===null?(Pr(t),n!==null?(At(t),qy(t,n)):(At(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Pr(t),At(t),qy(t,n)):(At(t),t.flags&=-16777217):(e.memoizedProps!==a&&Pr(t),At(t),t.flags&=-16777217),null;case 27:xr(t),n=He.current;var c=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Pr(t);else{if(!a){if(t.stateNode===null)throw Error(l(166));return At(t),null}e=Re.current,yl(t)?yh(t):(e=qv(c,a,n),t.stateNode=e,Pr(t))}return At(t),null;case 5:if(xr(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Pr(t);else{if(!a){if(t.stateNode===null)throw Error(l(166));return At(t),null}if(e=Re.current,yl(t))yh(t);else{switch(c=gc(He.current),e){case 1:e=c.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=c.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=c.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=c.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof a.is=="string"?c.createElement("select",{is:a.is}):c.createElement("select"),a.multiple?e.multiple=!0:a.size&&(e.size=a.size);break;default:e=typeof a.is=="string"?c.createElement(n,{is:a.is}):c.createElement(n)}}e[Rt]=t,e[We]=a;e:for(c=t.child;c!==null;){if(c.tag===5||c.tag===6)e.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}t.stateNode=e;e:switch(nn(e,n,a),n){case"button":case"input":case"select":case"textarea":e=!!a.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Pr(t)}}return At(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&Pr(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(l(166));if(e=He.current,yl(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,c=vn,c!==null)switch(c.tag){case 27:case 5:a=c.memoizedProps}e[Rt]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||Rv(e.nodeValue,n)),e||vi(t)}else e=gc(e).createTextNode(a),e[Rt]=t,t.stateNode=e}return At(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=yl(t),a!==null&&a.dehydrated!==null){if(e===null){if(!c)throw Error(l(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(l(317));c[Rt]=t}else vl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;At(t),c=!1}else c=ph(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(Jr(t),t):(Jr(t),null)}if(Jr(t),(t.flags&128)!==0)return t.lanes=n,t;if(n=a!==null,e=e!==null&&e.memoizedState!==null,n){a=t.child,c=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(c=a.alternate.memoizedState.cachePool.pool);var d=null;a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),d!==c&&(a.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),uc(t,t.updateQueue),At(t),null;case 4:return ze(),e===null&&Nf(t.stateNode.containerInfo),At(t),null;case 10:return Zr(t.type),At(t),null;case 19:if(xe(Yt),c=t.memoizedState,c===null)return At(t),null;if(a=(t.flags&128)!==0,d=c.rendering,d===null)if(a)Rl(c,!1);else{if(Dt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=tc(e),d!==null){for(t.flags|=128,Rl(c,!1),e=d.updateQueue,t.updateQueue=e,uc(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)dh(n,e),n=n.sibling;return pe(Yt,Yt.current&1|2),t.child}e=e.sibling}c.tail!==null&&kn()>cc&&(t.flags|=128,a=!0,Rl(c,!1),t.lanes=4194304)}else{if(!a)if(e=tc(d),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,uc(t,e),Rl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!d.alternate&&!ot)return At(t),null}else 2*kn()-c.renderingStartTime>cc&&n!==536870912&&(t.flags|=128,a=!0,Rl(c,!1),t.lanes=4194304);c.isBackwards?(d.sibling=t.child,t.child=d):(e=c.last,e!==null?e.sibling=d:t.child=d,c.last=d)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=kn(),t.sibling=null,e=Yt.current,pe(Yt,a?e&1|2:e&1),t):(At(t),null);case 22:case 23:return Jr(t),zs(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(n&536870912)!==0&&(t.flags&128)===0&&(At(t),t.subtreeFlags&6&&(t.flags|=8192)):At(t),n=t.updateQueue,n!==null&&uc(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&xe(bi),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Zr(Lt),At(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function yg(e,t){switch(ws(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Zr(Lt),ze(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return xr(t),null;case 13:if(Jr(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));vl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return xe(Yt),null;case 4:return ze(),null;case 10:return Zr(t.type),null;case 22:case 23:return Jr(t),zs(),e!==null&&xe(bi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Zr(Lt),null;case 25:return null;default:return null}}function Ky(e,t){switch(ws(t),t.tag){case 3:Zr(Lt),ze();break;case 26:case 27:case 5:xr(t);break;case 4:ze();break;case 13:Jr(t);break;case 19:xe(Yt);break;case 10:Zr(t.type);break;case 22:case 23:Jr(t),zs(),e!==null&&xe(bi);break;case 24:Zr(Lt)}}function Cl(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var c=a.next;n=c;do{if((n.tag&e)===e){a=void 0;var d=n.create,_=n.inst;a=d(),_.destroy=a}n=n.next}while(n!==c)}}catch(x){bt(t,t.return,x)}}function Na(e,t,n){try{var a=t.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var d=c.next;a=d;do{if((a.tag&e)===e){var _=a.inst,x=_.destroy;if(x!==void 0){_.destroy=void 0,c=t;var U=n,Z=x;try{Z()}catch(ae){bt(c,U,ae)}}}a=a.next}while(a!==d)}}catch(ae){bt(t,t.return,ae)}}function Hy(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Th(t,n)}catch(a){bt(e,e.return,a)}}}function Ly(e,t,n){n.props=_i(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){bt(e,t,a)}}function kl(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(c){bt(e,t,c)}}function vr(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(c){bt(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(c){bt(e,t,c)}else n.current=null}function Yy(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(c){bt(e,e.return,c)}}function ff(e,t,n){try{var a=e.stateNode;Ng(a,e.type,n,t),a[We]=t}catch(c){bt(e,e.return,c)}}function Gy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ga(e.type)||e.tag===4}function df(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Gy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ga(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function hf(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=bc));else if(a!==4&&(a===27&&Ga(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(hf(e,t,n),e=e.sibling;e!==null;)hf(e,t,n),e=e.sibling}function lc(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&Ga(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(lc(e,t,n),e=e.sibling;e!==null;)lc(e,t,n),e=e.sibling}function Vy(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);nn(t,a,n),t[Rt]=e,t[We]=n}catch(d){bt(e,e.return,d)}}var Wr=!1,Mt=!1,yf=!1,Qy=typeof WeakSet=="function"?WeakSet:Set,$t=null;function vg(e,t){if(e=e.containerInfo,qf=Oc,e=w(e),E(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var c=a.anchorOffset,d=a.focusNode;a=a.focusOffset;try{n.nodeType,d.nodeType}catch{n=null;break e}var _=0,x=-1,U=-1,Z=0,ae=0,le=e,$=null;t:for(;;){for(var P;le!==n||c!==0&&le.nodeType!==3||(x=_+c),le!==d||a!==0&&le.nodeType!==3||(U=_+a),le.nodeType===3&&(_+=le.nodeValue.length),(P=le.firstChild)!==null;)$=le,le=P;for(;;){if(le===e)break t;if($===n&&++Z===c&&(x=_),$===d&&++ae===a&&(U=_),(P=le.nextSibling)!==null)break;le=$,$=le.parentNode}le=P}n=x===-1||U===-1?null:{start:x,end:U}}else n=null}n=n||{start:0,end:0}}else n=null;for(Kf={focusedElem:e,selectionRange:n},Oc=!1,$t=t;$t!==null;)if(t=$t,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,$t=e;else for(;$t!==null;){switch(t=$t,d=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,n=t,c=d.memoizedProps,d=d.memoizedState,a=n.stateNode;try{var Ze=_i(n.type,c,n.elementType===n.type);e=a.getSnapshotBeforeUpdate(Ze,d),a.__reactInternalSnapshotBeforeUpdate=e}catch(Ve){bt(n,n.return,Ve)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Yf(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Yf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,$t=e;break}$t=t.return}}function Xy(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:za(e,n),a&4&&Cl(5,n);break;case 1:if(za(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(_){bt(n,n.return,_)}else{var c=_i(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(_){bt(n,n.return,_)}}a&64&&Hy(n),a&512&&kl(n,n.return);break;case 3:if(za(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Th(e,t)}catch(_){bt(n,n.return,_)}}break;case 27:t===null&&a&4&&Vy(n);case 26:case 5:za(e,n),t===null&&a&4&&Yy(n),a&512&&kl(n,n.return);break;case 12:za(e,n);break;case 13:za(e,n),a&4&&Jy(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=xg.bind(null,n),Yg(e,n))));break;case 22:if(a=n.memoizedState!==null||Wr,!a){t=t!==null&&t.memoizedState!==null||Mt,c=Wr;var d=Mt;Wr=a,(Mt=t)&&!d?Ba(e,n,(n.subtreeFlags&8772)!==0):za(e,n),Wr=c,Mt=d}break;case 30:break;default:za(e,n)}}function Zy(e){var t=e.alternate;t!==null&&(e.alternate=null,Zy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&zn(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var xt=null,bn=!1;function Fr(e,t,n){for(n=n.child;n!==null;)Iy(e,t,n),n=n.sibling}function Iy(e,t,n){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(_n,n)}catch{}switch(n.tag){case 26:Mt||vr(n,t),Fr(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Mt||vr(n,t);var a=xt,c=bn;Ga(n.type)&&(xt=n.stateNode,bn=!1),Fr(e,t,n),Yl(n.stateNode),xt=a,bn=c;break;case 5:Mt||vr(n,t);case 6:if(a=xt,c=bn,xt=null,Fr(e,t,n),xt=a,bn=c,xt!==null)if(bn)try{(xt.nodeType===9?xt.body:xt.nodeName==="HTML"?xt.ownerDocument.body:xt).removeChild(n.stateNode)}catch(d){bt(n,t,d)}else try{xt.removeChild(n.stateNode)}catch(d){bt(n,t,d)}break;case 18:xt!==null&&(bn?(e=xt,zv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),$l(e)):zv(xt,n.stateNode));break;case 4:a=xt,c=bn,xt=n.stateNode.containerInfo,bn=!0,Fr(e,t,n),xt=a,bn=c;break;case 0:case 11:case 14:case 15:Mt||Na(2,n,t),Mt||Na(4,n,t),Fr(e,t,n);break;case 1:Mt||(vr(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&Ly(n,t,a)),Fr(e,t,n);break;case 21:Fr(e,t,n);break;case 22:Mt=(a=Mt)||n.memoizedState!==null,Fr(e,t,n),Mt=a;break;default:Fr(e,t,n)}}function Jy(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{$l(e)}catch(n){bt(t,t.return,n)}}function pg(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Qy),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Qy),t;default:throw Error(l(435,e.tag))}}function vf(e,t){var n=pg(e);t.forEach(function(a){var c=Og.bind(null,e,a);n.has(a)||(n.add(a),a.then(c,c))})}function On(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var c=n[a],d=e,_=t,x=_;e:for(;x!==null;){switch(x.tag){case 27:if(Ga(x.type)){xt=x.stateNode,bn=!1;break e}break;case 5:xt=x.stateNode,bn=!1;break e;case 3:case 4:xt=x.stateNode.containerInfo,bn=!0;break e}x=x.return}if(xt===null)throw Error(l(160));Iy(d,_,c),xt=null,bn=!1,d=c.alternate,d!==null&&(d.return=null),c.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)$y(t,e),t=t.sibling}var Pn=null;function $y(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:On(t,e),An(e),a&4&&(Na(3,e,e.return),Cl(3,e),Na(5,e,e.return));break;case 1:On(t,e),An(e),a&512&&(Mt||n===null||vr(n,n.return)),a&64&&Wr&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var c=Pn;if(On(t,e),An(e),a&512&&(Mt||n===null||vr(n,n.return)),a&4){var d=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,c=c.ownerDocument||c;t:switch(a){case"title":d=c.getElementsByTagName("title")[0],(!d||d[ni]||d[Rt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=c.createElement(a),c.head.insertBefore(d,c.querySelector("head > title"))),nn(d,a,n),d[Rt]=e,pt(d),a=d;break e;case"link":var _=Vv("link","href",c).get(a+(n.href||""));if(_){for(var x=0;x<_.length;x++)if(d=_[x],d.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&d.getAttribute("rel")===(n.rel==null?null:n.rel)&&d.getAttribute("title")===(n.title==null?null:n.title)&&d.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){_.splice(x,1);break t}}d=c.createElement(a),nn(d,a,n),c.head.appendChild(d);break;case"meta":if(_=Vv("meta","content",c).get(a+(n.content||""))){for(x=0;x<_.length;x++)if(d=_[x],d.getAttribute("content")===(n.content==null?null:""+n.content)&&d.getAttribute("name")===(n.name==null?null:n.name)&&d.getAttribute("property")===(n.property==null?null:n.property)&&d.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&d.getAttribute("charset")===(n.charSet==null?null:n.charSet)){_.splice(x,1);break t}}d=c.createElement(a),nn(d,a,n),c.head.appendChild(d);break;default:throw Error(l(468,a))}d[Rt]=e,pt(d),a=d}e.stateNode=a}else Qv(c,e.type,e.stateNode);else e.stateNode=Gv(c,a,e.memoizedProps);else d!==a?(d===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):d.count--,a===null?Qv(c,e.type,e.stateNode):Gv(c,a,e.memoizedProps)):a===null&&e.stateNode!==null&&ff(e,e.memoizedProps,n.memoizedProps)}break;case 27:On(t,e),An(e),a&512&&(Mt||n===null||vr(n,n.return)),n!==null&&a&4&&ff(e,e.memoizedProps,n.memoizedProps);break;case 5:if(On(t,e),An(e),a&512&&(Mt||n===null||vr(n,n.return)),e.flags&32){c=e.stateNode;try{ba(c,"")}catch(P){bt(e,e.return,P)}}a&4&&e.stateNode!=null&&(c=e.memoizedProps,ff(e,c,n!==null?n.memoizedProps:c)),a&1024&&(yf=!0);break;case 6:if(On(t,e),An(e),a&4){if(e.stateNode===null)throw Error(l(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(P){bt(e,e.return,P)}}break;case 3:if(wc=null,c=Pn,Pn=_c(t.containerInfo),On(t,e),Pn=c,An(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{$l(t.containerInfo)}catch(P){bt(e,e.return,P)}yf&&(yf=!1,Py(e));break;case 4:a=Pn,Pn=_c(e.stateNode.containerInfo),On(t,e),An(e),Pn=a;break;case 12:On(t,e),An(e);break;case 13:On(t,e),An(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Sf=kn()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,vf(e,a)));break;case 22:c=e.memoizedState!==null;var U=n!==null&&n.memoizedState!==null,Z=Wr,ae=Mt;if(Wr=Z||c,Mt=ae||U,On(t,e),Mt=ae,Wr=Z,An(e),a&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(n===null||U||Wr||Mt||Si(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){U=n=t;try{if(d=U.stateNode,c)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{x=U.stateNode;var le=U.memoizedProps.style,$=le!=null&&le.hasOwnProperty("display")?le.display:null;x.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(P){bt(U,U.return,P)}}}else if(t.tag===6){if(n===null){U=t;try{U.stateNode.nodeValue=c?"":U.memoizedProps}catch(P){bt(U,U.return,P)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,vf(e,n))));break;case 19:On(t,e),An(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,vf(e,a)));break;case 30:break;case 21:break;default:On(t,e),An(e)}}function An(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(Gy(a)){n=a;break}a=a.return}if(n==null)throw Error(l(160));switch(n.tag){case 27:var c=n.stateNode,d=df(e);lc(e,d,c);break;case 5:var _=n.stateNode;n.flags&32&&(ba(_,""),n.flags&=-33);var x=df(e);lc(e,x,_);break;case 3:case 4:var U=n.stateNode.containerInfo,Z=df(e);hf(e,Z,U);break;default:throw Error(l(161))}}catch(ae){bt(e,e.return,ae)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Py(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Py(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function za(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Xy(e,t.alternate,t),t=t.sibling}function Si(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Na(4,t,t.return),Si(t);break;case 1:vr(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Ly(t,t.return,n),Si(t);break;case 27:Yl(t.stateNode);case 26:case 5:vr(t,t.return),Si(t);break;case 22:t.memoizedState===null&&Si(t);break;case 30:Si(t);break;default:Si(t)}e=e.sibling}}function Ba(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,c=e,d=t,_=d.flags;switch(d.tag){case 0:case 11:case 15:Ba(c,d,n),Cl(4,d);break;case 1:if(Ba(c,d,n),a=d,c=a.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(Z){bt(a,a.return,Z)}if(a=d,c=a.updateQueue,c!==null){var x=a.stateNode;try{var U=c.shared.hiddenCallbacks;if(U!==null)for(c.shared.hiddenCallbacks=null,c=0;c<U.length;c++)Ah(U[c],x)}catch(Z){bt(a,a.return,Z)}}n&&_&64&&Hy(d),kl(d,d.return);break;case 27:Vy(d);case 26:case 5:Ba(c,d,n),n&&a===null&&_&4&&Yy(d),kl(d,d.return);break;case 12:Ba(c,d,n);break;case 13:Ba(c,d,n),n&&_&4&&Jy(c,d);break;case 22:d.memoizedState===null&&Ba(c,d,n),kl(d,d.return);break;case 30:break;default:Ba(c,d,n)}t=t.sibling}}function pf(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&bl(n))}function mf(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&bl(e))}function pr(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Wy(e,t,n,a),t=t.sibling}function Wy(e,t,n,a){var c=t.flags;switch(t.tag){case 0:case 11:case 15:pr(e,t,n,a),c&2048&&Cl(9,t);break;case 1:pr(e,t,n,a);break;case 3:pr(e,t,n,a),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&bl(e)));break;case 12:if(c&2048){pr(e,t,n,a),e=t.stateNode;try{var d=t.memoizedProps,_=d.id,x=d.onPostCommit;typeof x=="function"&&x(_,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(U){bt(t,t.return,U)}}else pr(e,t,n,a);break;case 13:pr(e,t,n,a);break;case 23:break;case 22:d=t.stateNode,_=t.alternate,t.memoizedState!==null?d._visibility&2?pr(e,t,n,a):Ml(e,t):d._visibility&2?pr(e,t,n,a):(d._visibility|=2,su(e,t,n,a,(t.subtreeFlags&10256)!==0)),c&2048&&pf(_,t);break;case 24:pr(e,t,n,a),c&2048&&mf(t.alternate,t);break;default:pr(e,t,n,a)}}function su(e,t,n,a,c){for(c=c&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var d=e,_=t,x=n,U=a,Z=_.flags;switch(_.tag){case 0:case 11:case 15:su(d,_,x,U,c),Cl(8,_);break;case 23:break;case 22:var ae=_.stateNode;_.memoizedState!==null?ae._visibility&2?su(d,_,x,U,c):Ml(d,_):(ae._visibility|=2,su(d,_,x,U,c)),c&&Z&2048&&pf(_.alternate,_);break;case 24:su(d,_,x,U,c),c&&Z&2048&&mf(_.alternate,_);break;default:su(d,_,x,U,c)}t=t.sibling}}function Ml(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,c=a.flags;switch(a.tag){case 22:Ml(n,a),c&2048&&pf(a.alternate,a);break;case 24:Ml(n,a),c&2048&&mf(a.alternate,a);break;default:Ml(n,a)}t=t.sibling}}var Nl=8192;function fu(e){if(e.subtreeFlags&Nl)for(e=e.child;e!==null;)Fy(e),e=e.sibling}function Fy(e){switch(e.tag){case 26:fu(e),e.flags&Nl&&e.memoizedState!==null&&t0(Pn,e.memoizedState,e.memoizedProps);break;case 5:fu(e);break;case 3:case 4:var t=Pn;Pn=_c(e.stateNode.containerInfo),fu(e),Pn=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Nl,Nl=16777216,fu(e),Nl=t):fu(e));break;default:fu(e)}}function ev(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function zl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];$t=a,nv(a,e)}ev(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)tv(e),e=e.sibling}function tv(e){switch(e.tag){case 0:case 11:case 15:zl(e),e.flags&2048&&Na(9,e,e.return);break;case 3:zl(e);break;case 12:zl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,oc(e)):zl(e);break;default:zl(e)}}function oc(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];$t=a,nv(a,e)}ev(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Na(8,t,t.return),oc(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,oc(t));break;default:oc(t)}e=e.sibling}}function nv(e,t){for(;$t!==null;){var n=$t;switch(n.tag){case 0:case 11:case 15:Na(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:bl(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,$t=a;else e:for(n=e;$t!==null;){a=$t;var c=a.sibling,d=a.return;if(Zy(a),a===n){$t=null;break e}if(c!==null){c.return=d,$t=c;break e}$t=d}}}var mg={getCacheForType:function(e){var t=on(Lt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},bg=typeof WeakMap=="function"?WeakMap:Map,ct=0,_t=null,nt=null,it=0,st=0,Tn=null,qa=!1,du=!1,bf=!1,ea=0,Dt=0,Ka=0,wi=0,gf=0,Qn=0,hu=0,Bl=null,gn=null,_f=!1,Sf=0,cc=1/0,sc=null,Ha=null,tn=0,La=null,yu=null,vu=0,wf=0,Ef=null,rv=null,ql=0,xf=null;function jn(){if((ct&2)!==0&&it!==0)return it&-it;if(I.T!==null){var e=nu;return e!==0?e:Rf()}return Ur()}function av(){Qn===0&&(Qn=(it&536870912)===0||ot?Fa():536870912);var e=Vn.current;return e!==null&&(e.flags|=32),Qn}function Dn(e,t,n){(e===_t&&(st===2||st===9)||e.cancelPendingCommit!==null)&&(pu(e,0),Ya(e,it,Qn,!1)),sa(e,n),((ct&2)===0||e!==_t)&&(e===_t&&((ct&2)===0&&(wi|=n),Dt===4&&Ya(e,it,Qn,!1)),mr(e))}function iv(e,t,n){if((ct&6)!==0)throw Error(l(327));var a=!n&&(t&124)===0&&(t&e.expiredLanes)===0||Zn(e,t),c=a?Sg(e,t):Tf(e,t,!0),d=a;do{if(c===0){du&&!a&&Ya(e,t,0,!1);break}else{if(n=e.current.alternate,d&&!gg(n)){c=Tf(e,t,!1),d=!1;continue}if(c===2){if(d=t,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){t=_;e:{var x=e;c=Bl;var U=x.current.memoizedState.isDehydrated;if(U&&(pu(x,_).flags|=256),_=Tf(x,_,!1),_!==2){if(bf&&!U){x.errorRecoveryDisabledLanes|=d,wi|=d,c=4;break e}d=gn,gn=c,d!==null&&(gn===null?gn=d:gn.push.apply(gn,d))}c=_}if(d=!1,c!==2)continue}}if(c===1){pu(e,0),Ya(e,t,0,!0);break}e:{switch(a=e,d=c,d){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:Ya(a,t,Qn,!qa);break e;case 2:gn=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(c=Sf+300-kn(),10<c)){if(Ya(a,t,Qn,!qa),Ne(a,0,!0)!==0)break e;a.timeoutHandle=Mv(uv.bind(null,a,n,gn,sc,_f,t,Qn,wi,hu,qa,d,2,-0,0),c);break e}uv(a,n,gn,sc,_f,t,Qn,wi,hu,qa,d,0,-0,0)}}break}while(!0);mr(e)}function uv(e,t,n,a,c,d,_,x,U,Z,ae,le,$,P){if(e.timeoutHandle=-1,le=t.subtreeFlags,(le&8192||(le&16785408)===16785408)&&(Ql={stylesheets:null,count:0,unsuspend:e0},Fy(t),le=n0(),le!==null)){e.cancelPendingCommit=le(hv.bind(null,e,t,d,n,a,c,_,x,U,ae,1,$,P)),Ya(e,d,_,!Z);return}hv(e,t,d,n,a,c,_,x,U)}function gg(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var c=n[a],d=c.getSnapshot;c=c.value;try{if(!ln(d(),c))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ya(e,t,n,a){t&=~gf,t&=~wi,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var c=t;0<c;){var d=31-Ht(c),_=1<<d;a[d]=-1,c&=~_}n!==0&&Gu(e,n,t)}function fc(){return(ct&6)===0?(Kl(0),!1):!0}function Of(){if(nt!==null){if(st===0)var e=nt.return;else e=nt,Xr=pi=null,Ls(e),ou=null,Dl=0,e=nt;for(;e!==null;)Ky(e.alternate,e),e=e.return;nt=null}}function pu(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Bg(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Of(),_t=e,nt=n=Gr(e.current,null),it=t,st=0,Tn=null,qa=!1,du=Zn(e,t),bf=!1,hu=Qn=gf=wi=Ka=Dt=0,gn=Bl=null,_f=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var c=31-Ht(a),d=1<<c;t|=e[c],a&=~d}return ea=t,Xe(),n}function lv(e,t){Fe=null,I.H=Wo,t===_l||t===Yo?(t=xh(),st=3):t===Sh?(t=xh(),st=4):st=t===Oy?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Tn=t,nt===null&&(Dt=1,rc(e,Ke(t,e.current)))}function ov(){var e=I.H;return I.H=Wo,e===null?Wo:e}function cv(){var e=I.A;return I.A=mg,e}function Af(){Dt=4,qa||(it&4194048)!==it&&Vn.current!==null||(du=!0),(Ka&134217727)===0&&(wi&134217727)===0||_t===null||Ya(_t,it,Qn,!1)}function Tf(e,t,n){var a=ct;ct|=2;var c=ov(),d=cv();(_t!==e||it!==t)&&(sc=null,pu(e,t)),t=!1;var _=Dt;e:do try{if(st!==0&&nt!==null){var x=nt,U=Tn;switch(st){case 8:Of(),_=6;break e;case 3:case 2:case 9:case 6:Vn.current===null&&(t=!0);var Z=st;if(st=0,Tn=null,mu(e,x,U,Z),n&&du){_=0;break e}break;default:Z=st,st=0,Tn=null,mu(e,x,U,Z)}}_g(),_=Dt;break}catch(ae){lv(e,ae)}while(!0);return t&&e.shellSuspendCounter++,Xr=pi=null,ct=a,I.H=c,I.A=d,nt===null&&(_t=null,it=0,Xe()),_}function _g(){for(;nt!==null;)sv(nt)}function Sg(e,t){var n=ct;ct|=2;var a=ov(),c=cv();_t!==e||it!==t?(sc=null,cc=kn()+500,pu(e,t)):du=Zn(e,t);e:do try{if(st!==0&&nt!==null){t=nt;var d=Tn;t:switch(st){case 1:st=0,Tn=null,mu(e,t,d,1);break;case 2:case 9:if(wh(d)){st=0,Tn=null,fv(t);break}t=function(){st!==2&&st!==9||_t!==e||(st=7),mr(e)},d.then(t,t);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:wh(d)?(st=0,Tn=null,fv(t)):(st=0,Tn=null,mu(e,t,d,7));break;case 5:var _=null;switch(nt.tag){case 26:_=nt.memoizedState;case 5:case 27:var x=nt;if(!_||Xv(_)){st=0,Tn=null;var U=x.sibling;if(U!==null)nt=U;else{var Z=x.return;Z!==null?(nt=Z,dc(Z)):nt=null}break t}}st=0,Tn=null,mu(e,t,d,5);break;case 6:st=0,Tn=null,mu(e,t,d,6);break;case 8:Of(),Dt=6;break e;default:throw Error(l(462))}}wg();break}catch(ae){lv(e,ae)}while(!0);return Xr=pi=null,I.H=a,I.A=c,ct=n,nt!==null?0:(_t=null,it=0,Xe(),Dt)}function wg(){for(;nt!==null&&!Ar();)sv(nt)}function sv(e){var t=By(e.alternate,e,ea);e.memoizedProps=e.pendingProps,t===null?dc(e):nt=t}function fv(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ry(n,t,t.pendingProps,t.type,void 0,it);break;case 11:t=Ry(n,t,t.pendingProps,t.type.render,t.ref,it);break;case 5:Ls(t);default:Ky(n,t),t=nt=dh(t,ea),t=By(n,t,ea)}e.memoizedProps=e.pendingProps,t===null?dc(e):nt=t}function mu(e,t,n,a){Xr=pi=null,Ls(t),ou=null,Dl=0;var c=t.return;try{if(fg(e,c,t,n,it)){Dt=1,rc(e,Ke(n,e.current)),nt=null;return}}catch(d){if(c!==null)throw nt=c,d;Dt=1,rc(e,Ke(n,e.current)),nt=null;return}t.flags&32768?(ot||a===1?e=!0:du||(it&536870912)!==0?e=!1:(qa=e=!0,(a===2||a===9||a===3||a===6)&&(a=Vn.current,a!==null&&a.tag===13&&(a.flags|=16384))),dv(t,e)):dc(t)}function dc(e){var t=e;do{if((t.flags&32768)!==0){dv(t,qa);return}e=t.return;var n=hg(t.alternate,t,ea);if(n!==null){nt=n;return}if(t=t.sibling,t!==null){nt=t;return}nt=t=e}while(t!==null);Dt===0&&(Dt=5)}function dv(e,t){do{var n=yg(e.alternate,e);if(n!==null){n.flags&=32767,nt=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){nt=e;return}nt=e=n}while(e!==null);Dt=6,nt=null}function hv(e,t,n,a,c,d,_,x,U){e.cancelPendingCommit=null;do hc();while(tn!==0);if((ct&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(d=t.lanes|t.childLanes,d|=Ft,Yu(e,n,d,_,x,U),e===_t&&(nt=_t=null,it=0),yu=t,La=e,vu=n,wf=d,Ef=c,rv=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Ag(sn,function(){return bv(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=I.T,I.T=null,c=he.p,he.p=2,_=ct,ct|=4;try{vg(e,t,n)}finally{ct=_,he.p=c,I.T=a}}tn=1,yv(),vv(),pv()}}function yv(){if(tn===1){tn=0;var e=La,t=yu,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=I.T,I.T=null;var a=he.p;he.p=2;var c=ct;ct|=4;try{$y(t,e);var d=Kf,_=w(e.containerInfo),x=d.focusedElem,U=d.selectionRange;if(_!==x&&x&&x.ownerDocument&&m(x.ownerDocument.documentElement,x)){if(U!==null&&E(x)){var Z=U.start,ae=U.end;if(ae===void 0&&(ae=Z),"selectionStart"in x)x.selectionStart=Z,x.selectionEnd=Math.min(ae,x.value.length);else{var le=x.ownerDocument||document,$=le&&le.defaultView||window;if($.getSelection){var P=$.getSelection(),Ze=x.textContent.length,Ve=Math.min(U.start,Ze),yt=U.end===void 0?Ve:Math.min(U.end,Ze);!P.extend&&Ve>yt&&(_=yt,yt=Ve,Ve=_);var L=y(x,Ve),z=y(x,yt);if(L&&z&&(P.rangeCount!==1||P.anchorNode!==L.node||P.anchorOffset!==L.offset||P.focusNode!==z.node||P.focusOffset!==z.offset)){var X=le.createRange();X.setStart(L.node,L.offset),P.removeAllRanges(),Ve>yt?(P.addRange(X),P.extend(z.node,z.offset)):(X.setEnd(z.node,z.offset),P.addRange(X))}}}}for(le=[],P=x;P=P.parentNode;)P.nodeType===1&&le.push({element:P,left:P.scrollLeft,top:P.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<le.length;x++){var ue=le[x];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}Oc=!!qf,Kf=qf=null}finally{ct=c,he.p=a,I.T=n}}e.current=t,tn=2}}function vv(){if(tn===2){tn=0;var e=La,t=yu,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=I.T,I.T=null;var a=he.p;he.p=2;var c=ct;ct|=4;try{Xy(e,t.alternate,t)}finally{ct=c,he.p=a,I.T=n}}tn=3}}function pv(){if(tn===4||tn===3){tn=0,fs();var e=La,t=yu,n=vu,a=rv;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?tn=5:(tn=0,yu=La=null,mv(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Ha=null),Qu(n),t=t.stateNode,Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(_n,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=I.T,c=he.p,he.p=2,I.T=null;try{for(var d=e.onRecoverableError,_=0;_<a.length;_++){var x=a[_];d(x.value,{componentStack:x.stack})}}finally{I.T=t,he.p=c}}(vu&3)!==0&&hc(),mr(e),c=e.pendingLanes,(n&4194090)!==0&&(c&42)!==0?e===xf?ql++:(ql=0,xf=e):ql=0,Kl(0)}}function mv(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,bl(t)))}function hc(e){return yv(),vv(),pv(),bv()}function bv(){if(tn!==5)return!1;var e=La,t=wf;wf=0;var n=Qu(vu),a=I.T,c=he.p;try{he.p=32>n?32:n,I.T=null,n=Ef,Ef=null;var d=La,_=vu;if(tn=0,yu=La=null,vu=0,(ct&6)!==0)throw Error(l(331));var x=ct;if(ct|=4,tv(d.current),Wy(d,d.current,_,n),ct=x,Kl(0,!1),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(_n,d)}catch{}return!0}finally{he.p=c,I.T=a,mv(e,t)}}function gv(e,t,n){t=Ke(n,t),t=tf(e.stateNode,t,2),e=Ra(e,t,2),e!==null&&(sa(e,2),mr(e))}function bt(e,t,n){if(e.tag===3)gv(e,e,n);else for(;t!==null;){if(t.tag===3){gv(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Ha===null||!Ha.has(a))){e=Ke(n,e),n=Ey(2),a=Ra(t,n,2),a!==null&&(xy(n,a,t,e),sa(a,2),mr(a));break}}t=t.return}}function jf(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new bg;var c=new Set;a.set(t,c)}else c=a.get(t),c===void 0&&(c=new Set,a.set(t,c));c.has(n)||(bf=!0,c.add(n),e=Eg.bind(null,e,t,n),t.then(e,e))}function Eg(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,_t===e&&(it&n)===n&&(Dt===4||Dt===3&&(it&62914560)===it&&300>kn()-Sf?(ct&2)===0&&pu(e,0):gf|=n,hu===it&&(hu=0)),mr(e)}function _v(e,t){t===0&&(t=Te()),e=$n(e,t),e!==null&&(sa(e,t),mr(e))}function xg(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),_v(e,n)}function Og(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,c=e.memoizedState;c!==null&&(n=c.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(l(314))}a!==null&&a.delete(t),_v(e,n)}function Ag(e,t){return Or(e,t)}var yc=null,bu=null,Df=!1,vc=!1,Uf=!1,Ei=0;function mr(e){e!==bu&&e.next===null&&(bu===null?yc=bu=e:bu=bu.next=e),vc=!0,Df||(Df=!0,jg())}function Kl(e,t){if(!Uf&&vc){Uf=!0;do for(var n=!1,a=yc;a!==null;){if(e!==0){var c=a.pendingLanes;if(c===0)var d=0;else{var _=a.suspendedLanes,x=a.pingedLanes;d=(1<<31-Ht(42|e)+1)-1,d&=c&~(_&~x),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(n=!0,xv(a,d))}else d=it,d=Ne(a,a===_t?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(d&3)===0||Zn(a,d)||(n=!0,xv(a,d));a=a.next}while(n);Uf=!1}}function Tg(){Sv()}function Sv(){vc=Df=!1;var e=0;Ei!==0&&(zg()&&(e=Ei),Ei=0);for(var t=kn(),n=null,a=yc;a!==null;){var c=a.next,d=wv(a,t);d===0?(a.next=null,n===null?yc=c:n.next=c,c===null&&(bu=n)):(n=a,(e!==0||(d&3)!==0)&&(vc=!0)),a=c}Kl(e)}function wv(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,c=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-Ht(d),x=1<<_,U=c[_];U===-1?((x&n)===0||(x&a)!==0)&&(c[_]=Dr(x,t)):U<=t&&(e.expiredLanes|=x),d&=~x}if(t=_t,n=it,n=Ne(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(st===2||st===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&Hu(a),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Zn(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&Hu(a),Qu(n)){case 2:case 8:n=Di;break;case 32:n=sn;break;case 268435456:n=oa;break;default:n=sn}return a=Ev.bind(null,e),n=Or(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&Hu(a),e.callbackPriority=2,e.callbackNode=null,2}function Ev(e,t){if(tn!==0&&tn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(hc()&&e.callbackNode!==n)return null;var a=it;return a=Ne(e,e===_t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(iv(e,a,t),wv(e,kn()),e.callbackNode!=null&&e.callbackNode===n?Ev.bind(null,e):null)}function xv(e,t){if(hc())return null;iv(e,t,!0)}function jg(){qg(function(){(ct&6)!==0?Or(go,Tg):Sv()})}function Rf(){return Ei===0&&(Ei=Fa()),Ei}function Ov(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Mr(""+e)}function Av(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Dg(e,t,n,a,c){if(t==="submit"&&n&&n.stateNode===c){var d=Ov((c[We]||null).action),_=a.submitter;_&&(t=(t=_[We]||null)?Ov(t.formAction):_.getAttribute("formAction"),t!==null&&(d=t,_=null));var x=new qi("action","action",null,a,c);e.push({event:x,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Ei!==0){var U=_?Av(c,_):new FormData(c);$s(n,{pending:!0,data:U,method:c.method,action:d},null,U)}}else typeof d=="function"&&(x.preventDefault(),U=_?Av(c,_):new FormData(c),$s(n,{pending:!0,data:U,method:c.method,action:d},d,U))},currentTarget:c}]})}}for(var Cf=0;Cf<Oe.length;Cf++){var kf=Oe[Cf],Ug=kf.toLowerCase(),Rg=kf[0].toUpperCase()+kf.slice(1);de(Ug,"on"+Rg)}de(J,"onAnimationEnd"),de(W,"onAnimationIteration"),de(F,"onAnimationStart"),de("dblclick","onDoubleClick"),de("focusin","onFocus"),de("focusout","onBlur"),de(re,"onTransitionRun"),de(ye,"onTransitionStart"),de(ge,"onTransitionCancel"),de(fe,"onTransitionEnd"),ir("onMouseEnter",["mouseout","mouseover"]),ir("onMouseLeave",["mouseout","mouseover"]),ir("onPointerEnter",["pointerout","pointerover"]),ir("onPointerLeave",["pointerout","pointerover"]),ar("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ar("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ar("onBeforeInput",["compositionend","keypress","textInput","paste"]),ar("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ar("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ar("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hl));function Tv(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],c=a.event;a=a.listeners;e:{var d=void 0;if(t)for(var _=a.length-1;0<=_;_--){var x=a[_],U=x.instance,Z=x.currentTarget;if(x=x.listener,U!==d&&c.isPropagationStopped())break e;d=x,c.currentTarget=Z;try{d(c)}catch(ae){nc(ae)}c.currentTarget=null,d=U}else for(_=0;_<a.length;_++){if(x=a[_],U=x.instance,Z=x.currentTarget,x=x.listener,U!==d&&c.isPropagationStopped())break e;d=x,c.currentTarget=Z;try{d(c)}catch(ae){nc(ae)}c.currentTarget=null,d=U}}}}function rt(e,t){var n=t[Xu];n===void 0&&(n=t[Xu]=new Set);var a=e+"__bubble";n.has(a)||(jv(t,e,2,!1),n.add(a))}function Mf(e,t,n){var a=0;t&&(a|=4),jv(n,e,a,t)}var pc="_reactListening"+Math.random().toString(36).slice(2);function Nf(e){if(!e[pc]){e[pc]=!0,Zu.forEach(function(n){n!=="selectionchange"&&(Cg.has(n)||Mf(n,!1,e),Mf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[pc]||(t[pc]=!0,Mf("selectionchange",!1,t))}}function jv(e,t,n,a){switch(Wv(t)){case 2:var c=i0;break;case 8:c=u0;break;default:c=Jf}n=c.bind(null,t,n,e),c=void 0,!el||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),a?c!==void 0?e.addEventListener(t,n,{capture:!0,passive:c}):e.addEventListener(t,n,!0):c!==void 0?e.addEventListener(t,n,{passive:c}):e.addEventListener(t,n,!1)}function zf(e,t,n,a,c){var d=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var _=a.tag;if(_===3||_===4){var x=a.stateNode.containerInfo;if(x===c)break;if(_===4)for(_=a.return;_!==null;){var U=_.tag;if((U===3||U===4)&&_.stateNode.containerInfo===c)return;_=_.return}for(;x!==null;){if(_=Sn(x),_===null)return;if(U=_.tag,U===5||U===6||U===26||U===27){a=d=_;continue e}x=x.parentNode}}a=a.return}_a(function(){var Z=d,ae=zi(n),le=[];e:{var $=ve.get(e);if($!==void 0){var P=qi,Ze=e;switch(e){case"keypress":if(Ea(n)===0)break e;case"keydown":case"keyup":P=Xi;break;case"focusin":Ze="focus",P=xa;break;case"focusout":Ze="blur",P=xa;break;case"beforeblur":case"afterblur":P=xa;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=Li;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=Oo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=ll;break;case J:case W:case F:P=Ao;break;case fe:P=ol;break;case"scroll":case"scrollend":P=Ki;break;case"wheel":P=Ii;break;case"copy":case"cut":case"paste":P=Vi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=ul;break;case"toggle":case"beforetoggle":P=Do}var Ve=(t&4)!==0,yt=!Ve&&(e==="scroll"||e==="scrollend"),L=Ve?$!==null?$+"Capture":null:$;Ve=[];for(var z=Z,X;z!==null;){var ue=z;if(X=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||X===null||L===null||(ue=Br(z,L),ue!=null&&Ve.push(Ll(z,ue,X))),yt)break;z=z.return}0<Ve.length&&($=new P($,Ze,null,n,ae),le.push({event:$,listeners:Ve}))}}if((t&7)===0){e:{if($=e==="mouseover"||e==="pointerover",P=e==="mouseout"||e==="pointerout",$&&n!==qn&&(Ze=n.relatedTarget||n.fromElement)&&(Sn(Ze)||Ze[St]))break e;if((P||$)&&($=ae.window===ae?ae:($=ae.ownerDocument)?$.defaultView||$.parentWindow:window,P?(Ze=n.relatedTarget||n.toElement,P=Z,Ze=Ze?Sn(Ze):null,Ze!==null&&(yt=h(Ze),Ve=Ze.tag,Ze!==yt||Ve!==5&&Ve!==27&&Ve!==6)&&(Ze=null)):(P=null,Ze=Z),P!==Ze)){if(Ve=Li,ue="onMouseLeave",L="onMouseEnter",z="mouse",(e==="pointerout"||e==="pointerover")&&(Ve=ul,ue="onPointerLeave",L="onPointerEnter",z="pointer"),yt=P==null?$:nr(P),X=Ze==null?$:nr(Ze),$=new Ve(ue,z+"leave",P,n,ae),$.target=yt,$.relatedTarget=X,ue=null,Sn(ae)===Z&&(Ve=new Ve(L,z+"enter",Ze,n,ae),Ve.target=X,Ve.relatedTarget=yt,ue=Ve),yt=ue,P&&Ze)t:{for(Ve=P,L=Ze,z=0,X=Ve;X;X=gu(X))z++;for(X=0,ue=L;ue;ue=gu(ue))X++;for(;0<z-X;)Ve=gu(Ve),z--;for(;0<X-z;)L=gu(L),X--;for(;z--;){if(Ve===L||L!==null&&Ve===L.alternate)break t;Ve=gu(Ve),L=gu(L)}Ve=null}else Ve=null;P!==null&&Dv(le,$,P,Ve,!1),Ze!==null&&yt!==null&&Dv(le,yt,Ze,Ve,!0)}}e:{if($=Z?nr(Z):window,P=$.nodeName&&$.nodeName.toLowerCase(),P==="select"||P==="input"&&$.type==="file")var Me=si;else if(Pi($))if(Hn)Me=Ta;else{Me=Yr;var et=No}else P=$.nodeName,!P||P.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?Z&&Fu(Z.elementType)&&(Me=si):Me=hl;if(Me&&(Me=Me(e,Z))){dl(le,Me,n,ae);break e}et&&et(e,$,Z),e==="focusout"&&Z&&$.type==="number"&&Z.memoizedProps.value!=null&&pa($,"number",$.value)}switch(et=Z?nr(Z):window,e){case"focusin":(Pi(et)||et.contentEditable==="true")&&(D=et,N=Z,B=null);break;case"focusout":B=N=D=null;break;case"mousedown":H=!0;break;case"contextmenu":case"mouseup":case"dragend":H=!1,C(le,n,ae);break;case"selectionchange":if(j)break;case"keydown":case"keyup":C(le,n,ae)}var Be;if(oi)e:{switch(e){case"compositionstart":var Qe="onCompositionStart";break e;case"compositionend":Qe="onCompositionEnd";break e;case"compositionupdate":Qe="onCompositionUpdate";break e}Qe=void 0}else Lr?fl(e,n)&&(Qe="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Qe="onCompositionStart");Qe&&(Ji&&n.locale!=="ko"&&(Lr||Qe!=="onCompositionStart"?Qe==="onCompositionEnd"&&Lr&&(Be=wa()):(Kn=ae,Bi="value"in Kn?Kn.value:Kn.textContent,Lr=!0)),et=mc(Z,Qe),0<et.length&&(Qe=new Qi(Qe,e,null,n,ae),le.push({event:Qe,listeners:et}),Be?Qe.data=Be:(Be=Ro(n),Be!==null&&(Qe.data=Be)))),(Be=vs?Co(e,n):ps(e,n))&&(Qe=mc(Z,"onBeforeInput"),0<Qe.length&&(et=new Qi("onBeforeInput","beforeinput",null,n,ae),le.push({event:et,listeners:Qe}),et.data=Be)),Dg(le,e,Z,n,ae)}Tv(le,t)})}function Ll(e,t,n){return{instance:e,listener:t,currentTarget:n}}function mc(e,t){for(var n=t+"Capture",a=[];e!==null;){var c=e,d=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||d===null||(c=Br(e,n),c!=null&&a.unshift(Ll(e,c,d)),c=Br(e,t),c!=null&&a.push(Ll(e,c,d))),e.tag===3)return a;e=e.return}return[]}function gu(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Dv(e,t,n,a,c){for(var d=t._reactName,_=[];n!==null&&n!==a;){var x=n,U=x.alternate,Z=x.stateNode;if(x=x.tag,U!==null&&U===a)break;x!==5&&x!==26&&x!==27||Z===null||(U=Z,c?(Z=Br(n,d),Z!=null&&_.unshift(Ll(n,Z,U))):c||(Z=Br(n,d),Z!=null&&_.push(Ll(n,Z,U)))),n=n.return}_.length!==0&&e.push({event:t,listeners:_})}var kg=/\r\n?/g,Mg=/\u0000|\uFFFD/g;function Uv(e){return(typeof e=="string"?e:""+e).replace(kg,`
`).replace(Mg,"")}function Rv(e,t){return t=Uv(t),Uv(e)===t}function bc(){}function ht(e,t,n,a,c,d){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||ba(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&ba(e,""+a);break;case"className":Rr(e,"class",a);break;case"tabIndex":Rr(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Rr(e,n,a);break;case"style":Eo(e,a,d);break;case"data":if(t!=="object"){Rr(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=Mr(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(n==="formAction"?(t!=="input"&&ht(e,t,"name",c.name,c,null),ht(e,t,"formEncType",c.formEncType,c,null),ht(e,t,"formMethod",c.formMethod,c,null),ht(e,t,"formTarget",c.formTarget,c,null)):(ht(e,t,"encType",c.encType,c,null),ht(e,t,"method",c.method,c,null),ht(e,t,"target",c.target,c,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=Mr(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=bc);break;case"onScroll":a!=null&&rt("scroll",e);break;case"onScrollEnd":a!=null&&rt("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(l(61));if(n=a.__html,n!=null){if(c.children!=null)throw Error(l(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=Mr(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":rt("beforetoggle",e),rt("toggle",e),In(e,"popover",a);break;case"xlinkActuate":wn(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":wn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":wn(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":wn(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":wn(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":wn(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":wn(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":wn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":wn(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":In(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=hn.get(n)||n,In(e,n,a))}}function Bf(e,t,n,a,c,d){switch(n){case"style":Eo(e,a,d);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(l(61));if(n=a.__html,n!=null){if(c.children!=null)throw Error(l(60));e.innerHTML=n}}break;case"children":typeof a=="string"?ba(e,a):(typeof a=="number"||typeof a=="bigint")&&ba(e,""+a);break;case"onScroll":a!=null&&rt("scroll",e);break;case"onScrollEnd":a!=null&&rt("scrollend",e);break;case"onClick":a!=null&&(e.onclick=bc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!rr.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(c=n.endsWith("Capture"),t=n.slice(2,c?n.length-7:void 0),d=e[We]||null,d=d!=null?d[n]:null,typeof d=="function"&&e.removeEventListener(t,d,c),typeof a=="function")){typeof d!="function"&&d!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,c);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):In(e,n,a)}}}function nn(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":rt("error",e),rt("load",e);var a=!1,c=!1,d;for(d in n)if(n.hasOwnProperty(d)){var _=n[d];if(_!=null)switch(d){case"src":a=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:ht(e,t,d,_,n,null)}}c&&ht(e,t,"srcSet",n.srcSet,n,null),a&&ht(e,t,"src",n.src,n,null);return;case"input":rt("invalid",e);var x=d=_=c=null,U=null,Z=null;for(a in n)if(n.hasOwnProperty(a)){var ae=n[a];if(ae!=null)switch(a){case"name":c=ae;break;case"type":_=ae;break;case"checked":U=ae;break;case"defaultChecked":Z=ae;break;case"value":d=ae;break;case"defaultValue":x=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(l(137,t));break;default:ht(e,t,a,ae,n,null)}}Pu(e,d,x,U,Z,_,c,!1),or(e);return;case"select":rt("invalid",e),a=_=d=null;for(c in n)if(n.hasOwnProperty(c)&&(x=n[c],x!=null))switch(c){case"value":d=x;break;case"defaultValue":_=x;break;case"multiple":a=x;default:ht(e,t,c,x,n,null)}t=d,n=_,e.multiple=!!a,t!=null?kr(e,!!a,t,!1):n!=null&&kr(e,!!a,n,!0);return;case"textarea":rt("invalid",e),d=c=a=null;for(_ in n)if(n.hasOwnProperty(_)&&(x=n[_],x!=null))switch(_){case"value":a=x;break;case"defaultValue":c=x;break;case"children":d=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(l(91));break;default:ht(e,t,_,x,n,null)}Wu(e,a,c,d),or(e);return;case"option":for(U in n)if(n.hasOwnProperty(U)&&(a=n[U],a!=null))switch(U){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:ht(e,t,U,a,n,null)}return;case"dialog":rt("beforetoggle",e),rt("toggle",e),rt("cancel",e),rt("close",e);break;case"iframe":case"object":rt("load",e);break;case"video":case"audio":for(a=0;a<Hl.length;a++)rt(Hl[a],e);break;case"image":rt("error",e),rt("load",e);break;case"details":rt("toggle",e);break;case"embed":case"source":case"link":rt("error",e),rt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in n)if(n.hasOwnProperty(Z)&&(a=n[Z],a!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:ht(e,t,Z,a,n,null)}return;default:if(Fu(t)){for(ae in n)n.hasOwnProperty(ae)&&(a=n[ae],a!==void 0&&Bf(e,t,ae,a,n,void 0));return}}for(x in n)n.hasOwnProperty(x)&&(a=n[x],a!=null&&ht(e,t,x,a,n,null))}function Ng(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,d=null,_=null,x=null,U=null,Z=null,ae=null;for(P in n){var le=n[P];if(n.hasOwnProperty(P)&&le!=null)switch(P){case"checked":break;case"value":break;case"defaultValue":U=le;default:a.hasOwnProperty(P)||ht(e,t,P,null,a,le)}}for(var $ in a){var P=a[$];if(le=n[$],a.hasOwnProperty($)&&(P!=null||le!=null))switch($){case"type":d=P;break;case"name":c=P;break;case"checked":Z=P;break;case"defaultChecked":ae=P;break;case"value":_=P;break;case"defaultValue":x=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(l(137,t));break;default:P!==le&&ht(e,t,$,P,a,le)}}va(e,_,x,U,Z,ae,d,c);return;case"select":P=_=x=$=null;for(d in n)if(U=n[d],n.hasOwnProperty(d)&&U!=null)switch(d){case"value":break;case"multiple":P=U;default:a.hasOwnProperty(d)||ht(e,t,d,null,a,U)}for(c in a)if(d=a[c],U=n[c],a.hasOwnProperty(c)&&(d!=null||U!=null))switch(c){case"value":$=d;break;case"defaultValue":x=d;break;case"multiple":_=d;default:d!==U&&ht(e,t,c,d,a,U)}t=x,n=_,a=P,$!=null?kr(e,!!n,$,!1):!!a!=!!n&&(t!=null?kr(e,!!n,t,!0):kr(e,!!n,n?[]:"",!1));return;case"textarea":P=$=null;for(x in n)if(c=n[x],n.hasOwnProperty(x)&&c!=null&&!a.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:ht(e,t,x,null,a,c)}for(_ in a)if(c=a[_],d=n[_],a.hasOwnProperty(_)&&(c!=null||d!=null))switch(_){case"value":$=c;break;case"defaultValue":P=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(l(91));break;default:c!==d&&ht(e,t,_,c,a,d)}ma(e,$,P);return;case"option":for(var Ze in n)if($=n[Ze],n.hasOwnProperty(Ze)&&$!=null&&!a.hasOwnProperty(Ze))switch(Ze){case"selected":e.selected=!1;break;default:ht(e,t,Ze,null,a,$)}for(U in a)if($=a[U],P=n[U],a.hasOwnProperty(U)&&$!==P&&($!=null||P!=null))switch(U){case"selected":e.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:ht(e,t,U,$,a,P)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ve in n)$=n[Ve],n.hasOwnProperty(Ve)&&$!=null&&!a.hasOwnProperty(Ve)&&ht(e,t,Ve,null,a,$);for(Z in a)if($=a[Z],P=n[Z],a.hasOwnProperty(Z)&&$!==P&&($!=null||P!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(l(137,t));break;default:ht(e,t,Z,$,a,P)}return;default:if(Fu(t)){for(var yt in n)$=n[yt],n.hasOwnProperty(yt)&&$!==void 0&&!a.hasOwnProperty(yt)&&Bf(e,t,yt,void 0,a,$);for(ae in a)$=a[ae],P=n[ae],!a.hasOwnProperty(ae)||$===P||$===void 0&&P===void 0||Bf(e,t,ae,$,a,P);return}}for(var L in n)$=n[L],n.hasOwnProperty(L)&&$!=null&&!a.hasOwnProperty(L)&&ht(e,t,L,null,a,$);for(le in a)$=a[le],P=n[le],!a.hasOwnProperty(le)||$===P||$==null&&P==null||ht(e,t,le,$,a,P)}var qf=null,Kf=null;function gc(e){return e.nodeType===9?e:e.ownerDocument}function Cv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kv(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Hf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Lf=null;function zg(){var e=window.event;return e&&e.type==="popstate"?e===Lf?!1:(Lf=e,!0):(Lf=null,!1)}var Mv=typeof setTimeout=="function"?setTimeout:void 0,Bg=typeof clearTimeout=="function"?clearTimeout:void 0,Nv=typeof Promise=="function"?Promise:void 0,qg=typeof queueMicrotask=="function"?queueMicrotask:typeof Nv<"u"?function(e){return Nv.resolve(null).then(e).catch(Kg)}:Mv;function Kg(e){setTimeout(function(){throw e})}function Ga(e){return e==="head"}function zv(e,t){var n=t,a=0,c=0;do{var d=n.nextSibling;if(e.removeChild(n),d&&d.nodeType===8)if(n=d.data,n==="/$"){if(0<a&&8>a){n=a;var _=e.ownerDocument;if(n&1&&Yl(_.documentElement),n&2&&Yl(_.body),n&4)for(n=_.head,Yl(n),_=n.firstChild;_;){var x=_.nextSibling,U=_.nodeName;_[ni]||U==="SCRIPT"||U==="STYLE"||U==="LINK"&&_.rel.toLowerCase()==="stylesheet"||n.removeChild(_),_=x}}if(c===0){e.removeChild(d),$l(t);return}c--}else n==="$"||n==="$?"||n==="$!"?c++:a=n.charCodeAt(0)-48;else a=0;n=d}while(n);$l(t)}function Yf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Yf(n),zn(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Hg(e,t,n,a){for(;e.nodeType===1;){var c=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[ni])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Wn(e.nextSibling),e===null)break}return null}function Lg(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Wn(e.nextSibling),e===null))return null;return e}function Gf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Yg(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Wn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Vf=null;function Bv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function qv(e,t,n){switch(t=gc(n),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function Yl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);zn(e)}var Xn=new Map,Kv=new Set;function _c(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ta=he.d;he.d={f:Gg,r:Vg,D:Qg,C:Xg,L:Zg,m:Ig,X:$g,S:Jg,M:Pg};function Gg(){var e=ta.f(),t=fc();return e||t}function Vg(e){var t=fn(e);t!==null&&t.tag===5&&t.type==="form"?iy(t):ta.r(e)}var _u=typeof document>"u"?null:document;function Hv(e,t,n){var a=_u;if(a&&typeof t=="string"&&t){var c=an(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof n=="string"&&(c+='[crossorigin="'+n+'"]'),Kv.has(c)||(Kv.add(c),e={rel:e,crossOrigin:n,href:t},a.querySelector(c)===null&&(t=a.createElement("link"),nn(t,"link",e),pt(t),a.head.appendChild(t)))}}function Qg(e){ta.D(e),Hv("dns-prefetch",e,null)}function Xg(e,t){ta.C(e,t),Hv("preconnect",e,t)}function Zg(e,t,n){ta.L(e,t,n);var a=_u;if(a&&e&&t){var c='link[rel="preload"][as="'+an(t)+'"]';t==="image"&&n&&n.imageSrcSet?(c+='[imagesrcset="'+an(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(c+='[imagesizes="'+an(n.imageSizes)+'"]')):c+='[href="'+an(e)+'"]';var d=c;switch(t){case"style":d=Su(e);break;case"script":d=wu(e)}Xn.has(d)||(e=v({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Xn.set(d,e),a.querySelector(c)!==null||t==="style"&&a.querySelector(Gl(d))||t==="script"&&a.querySelector(Vl(d))||(t=a.createElement("link"),nn(t,"link",e),pt(t),a.head.appendChild(t)))}}function Ig(e,t){ta.m(e,t);var n=_u;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+an(a)+'"][href="'+an(e)+'"]',d=c;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=wu(e)}if(!Xn.has(d)&&(e=v({rel:"modulepreload",href:e},t),Xn.set(d,e),n.querySelector(c)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Vl(d)))return}a=n.createElement("link"),nn(a,"link",e),pt(a),n.head.appendChild(a)}}}function Jg(e,t,n){ta.S(e,t,n);var a=_u;if(a&&e){var c=da(a).hoistableStyles,d=Su(e);t=t||"default";var _=c.get(d);if(!_){var x={loading:0,preload:null};if(_=a.querySelector(Gl(d)))x.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Xn.get(d))&&Qf(e,n);var U=_=a.createElement("link");pt(U),nn(U,"link",e),U._p=new Promise(function(Z,ae){U.onload=Z,U.onerror=ae}),U.addEventListener("load",function(){x.loading|=1}),U.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Sc(_,t,a)}_={type:"stylesheet",instance:_,count:1,state:x},c.set(d,_)}}}function $g(e,t){ta.X(e,t);var n=_u;if(n&&e){var a=da(n).hoistableScripts,c=wu(e),d=a.get(c);d||(d=n.querySelector(Vl(c)),d||(e=v({src:e,async:!0},t),(t=Xn.get(c))&&Xf(e,t),d=n.createElement("script"),pt(d),nn(d,"link",e),n.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},a.set(c,d))}}function Pg(e,t){ta.M(e,t);var n=_u;if(n&&e){var a=da(n).hoistableScripts,c=wu(e),d=a.get(c);d||(d=n.querySelector(Vl(c)),d||(e=v({src:e,async:!0,type:"module"},t),(t=Xn.get(c))&&Xf(e,t),d=n.createElement("script"),pt(d),nn(d,"link",e),n.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},a.set(c,d))}}function Lv(e,t,n,a){var c=(c=He.current)?_c(c):null;if(!c)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Su(n.href),n=da(c).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Su(n.href);var d=da(c).hoistableStyles,_=d.get(e);if(_||(c=c.ownerDocument||c,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=c.querySelector(Gl(e)))&&!d._p&&(_.instance=d,_.state.loading=5),Xn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Xn.set(e,n),d||Wg(c,e,n,_.state))),t&&a===null)throw Error(l(528,""));return _}if(t&&a!==null)throw Error(l(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=wu(n),n=da(c).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function Su(e){return'href="'+an(e)+'"'}function Gl(e){return'link[rel="stylesheet"]['+e+"]"}function Yv(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function Wg(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),nn(t,"link",n),pt(t),e.head.appendChild(t))}function wu(e){return'[src="'+an(e)+'"]'}function Vl(e){return"script[async]"+e}function Gv(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+an(n.href)+'"]');if(a)return t.instance=a,pt(a),a;var c=v({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),pt(a),nn(a,"style",c),Sc(a,n.precedence,e),t.instance=a;case"stylesheet":c=Su(n.href);var d=e.querySelector(Gl(c));if(d)return t.state.loading|=4,t.instance=d,pt(d),d;a=Yv(n),(c=Xn.get(c))&&Qf(a,c),d=(e.ownerDocument||e).createElement("link"),pt(d);var _=d;return _._p=new Promise(function(x,U){_.onload=x,_.onerror=U}),nn(d,"link",a),t.state.loading|=4,Sc(d,n.precedence,e),t.instance=d;case"script":return d=wu(n.src),(c=e.querySelector(Vl(d)))?(t.instance=c,pt(c),c):(a=n,(c=Xn.get(d))&&(a=v({},n),Xf(a,c)),e=e.ownerDocument||e,c=e.createElement("script"),pt(c),nn(c,"link",a),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,Sc(a,n.precedence,e));return t.instance}function Sc(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=a.length?a[a.length-1]:null,d=c,_=0;_<a.length;_++){var x=a[_];if(x.dataset.precedence===t)d=x;else if(d!==c)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Qf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Xf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var wc=null;function Vv(e,t,n){if(wc===null){var a=new Map,c=wc=new Map;c.set(n,a)}else c=wc,a=c.get(n),a||(a=new Map,c.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),c=0;c<n.length;c++){var d=n[c];if(!(d[ni]||d[Rt]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(t)||"";_=e+_;var x=a.get(_);x?x.push(d):a.set(_,[d])}}return a}function Qv(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Fg(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Xv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Ql=null;function e0(){}function t0(e,t,n){if(Ql===null)throw Error(l(475));var a=Ql;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var c=Su(n.href),d=e.querySelector(Gl(c));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(a.count++,a=Ec.bind(a),e.then(a,a)),t.state.loading|=4,t.instance=d,pt(d);return}d=e.ownerDocument||e,n=Yv(n),(c=Xn.get(c))&&Qf(n,c),d=d.createElement("link"),pt(d);var _=d;_._p=new Promise(function(x,U){_.onload=x,_.onerror=U}),nn(d,"link",n),t.instance=d}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(a.count++,t=Ec.bind(a),e.addEventListener("load",t),e.addEventListener("error",t))}}function n0(){if(Ql===null)throw Error(l(475));var e=Ql;return e.stylesheets&&e.count===0&&Zf(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Zf(e,e.stylesheets),e.unsuspend){var a=e.unsuspend;e.unsuspend=null,a()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function Ec(){if(this.count--,this.count===0){if(this.stylesheets)Zf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var xc=null;function Zf(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,xc=new Map,t.forEach(r0,e),xc=null,Ec.call(e))}function r0(e,t){if(!(t.state.loading&4)){var n=xc.get(e);if(n)var a=n.get(null);else{n=new Map,xc.set(e,n);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<c.length;d++){var _=c[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(n.set(_.dataset.precedence,_),a=_)}a&&n.set(null,a)}c=t.instance,_=c.getAttribute("data-precedence"),d=n.get(_)||a,d===a&&n.set(null,c),n.set(_,c),this.count++,a=Ec.bind(this),c.addEventListener("load",a),c.addEventListener("error",a),d?d.parentNode.insertBefore(c,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var Xl={$$typeof:ee,Provider:null,Consumer:null,_currentValue:je,_currentValue2:je,_threadCount:0};function a0(e,t,n,a,c,d,_,x){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ei(0),this.hiddenUpdates=ei(null),this.identifierPrefix=a,this.onUncaughtError=c,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function Zv(e,t,n,a,c,d,_,x,U,Z,ae,le){return e=new a0(e,t,n,_,x,U,Z,le),t=1,d===!0&&(t|=24),d=xn(3,null,null,t),e.current=d,d.stateNode=e,t=Ts(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:a,isDehydrated:n,cache:t},Rs(d),e}function Iv(e){return e?(e=dr,e):dr}function Jv(e,t,n,a,c,d){c=Iv(c),a.context===null?a.context=c:a.pendingContext=c,a=Ua(t),a.payload={element:n},d=d===void 0?null:d,d!==null&&(a.callback=d),n=Ra(e,a,t),n!==null&&(Dn(n,e,t),wl(n,e,t))}function $v(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function If(e,t){$v(e,t),(e=e.alternate)&&$v(e,t)}function Pv(e){if(e.tag===13){var t=$n(e,67108864);t!==null&&Dn(t,e,67108864),If(e,67108864)}}var Oc=!0;function i0(e,t,n,a){var c=I.T;I.T=null;var d=he.p;try{he.p=2,Jf(e,t,n,a)}finally{he.p=d,I.T=c}}function u0(e,t,n,a){var c=I.T;I.T=null;var d=he.p;try{he.p=8,Jf(e,t,n,a)}finally{he.p=d,I.T=c}}function Jf(e,t,n,a){if(Oc){var c=$f(a);if(c===null)zf(e,t,a,Ac,n),Fv(e,a);else if(o0(c,e,t,n,a))a.stopPropagation();else if(Fv(e,a),t&4&&-1<l0.indexOf(e)){for(;c!==null;){var d=fn(c);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=rn(d.pendingLanes);if(_!==0){var x=d;for(x.pendingLanes|=2,x.entangledLanes|=2;_;){var U=1<<31-Ht(_);x.entanglements[1]|=U,_&=~U}mr(d),(ct&6)===0&&(cc=kn()+500,Kl(0))}}break;case 13:x=$n(d,2),x!==null&&Dn(x,d,2),fc(),If(d,2)}if(d=$f(a),d===null&&zf(e,t,a,Ac,n),d===c)break;c=d}c!==null&&a.stopPropagation()}else zf(e,t,a,null,n)}}function $f(e){return e=zi(e),Pf(e)}var Ac=null;function Pf(e){if(Ac=null,e=Sn(e),e!==null){var t=h(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=p(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ac=e,null}function Wv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ds()){case go:return 2;case Di:return 8;case sn:case _o:return 32;case oa:return 268435456;default:return 32}default:return 32}}var Wf=!1,Va=null,Qa=null,Xa=null,Zl=new Map,Il=new Map,Za=[],l0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Fv(e,t){switch(e){case"focusin":case"focusout":Va=null;break;case"dragenter":case"dragleave":Qa=null;break;case"mouseover":case"mouseout":Xa=null;break;case"pointerover":case"pointerout":Zl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(t.pointerId)}}function Jl(e,t,n,a,c,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:d,targetContainers:[c]},t!==null&&(t=fn(t),t!==null&&Pv(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function o0(e,t,n,a,c){switch(t){case"focusin":return Va=Jl(Va,e,t,n,a,c),!0;case"dragenter":return Qa=Jl(Qa,e,t,n,a,c),!0;case"mouseover":return Xa=Jl(Xa,e,t,n,a,c),!0;case"pointerover":var d=c.pointerId;return Zl.set(d,Jl(Zl.get(d)||null,e,t,n,a,c)),!0;case"gotpointercapture":return d=c.pointerId,Il.set(d,Jl(Il.get(d)||null,e,t,n,a,c)),!0}return!1}function ep(e){var t=Sn(e.target);if(t!==null){var n=h(t);if(n!==null){if(t=n.tag,t===13){if(t=p(n),t!==null){e.blockedOn=t,fa(e.priority,function(){if(n.tag===13){var a=jn();a=Vu(a);var c=$n(n,a);c!==null&&Dn(c,n,a),If(n,a)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Tc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=$f(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);qn=a,n.target.dispatchEvent(a),qn=null}else return t=fn(n),t!==null&&Pv(t),e.blockedOn=n,!1;t.shift()}return!0}function tp(e,t,n){Tc(e)&&n.delete(t)}function c0(){Wf=!1,Va!==null&&Tc(Va)&&(Va=null),Qa!==null&&Tc(Qa)&&(Qa=null),Xa!==null&&Tc(Xa)&&(Xa=null),Zl.forEach(tp),Il.forEach(tp)}function jc(e,t){e.blockedOn===t&&(e.blockedOn=null,Wf||(Wf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,c0)))}var Dc=null;function np(e){Dc!==e&&(Dc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Dc===e&&(Dc=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],c=e[t+2];if(typeof a!="function"){if(Pf(a||n)===null)continue;break}var d=fn(n);d!==null&&(e.splice(t,3),t-=3,$s(d,{pending:!0,data:c,method:n.method,action:a},a,c))}}))}function $l(e){function t(U){return jc(U,e)}Va!==null&&jc(Va,e),Qa!==null&&jc(Qa,e),Xa!==null&&jc(Xa,e),Zl.forEach(t),Il.forEach(t);for(var n=0;n<Za.length;n++){var a=Za[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Za.length&&(n=Za[0],n.blockedOn===null);)ep(n),n.blockedOn===null&&Za.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var c=n[a],d=n[a+1],_=c[We]||null;if(typeof d=="function")_||np(n);else if(_){var x=null;if(d&&d.hasAttribute("formAction")){if(c=d,_=d[We]||null)x=_.formAction;else if(Pf(c)!==null)continue}else x=_.action;typeof x=="function"?n[a+1]=x:(n.splice(a,3),a-=3),np(n)}}}function Ff(e){this._internalRoot=e}Uc.prototype.render=Ff.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var n=t.current,a=jn();Jv(n,a,e,t,null,null)},Uc.prototype.unmount=Ff.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Jv(e.current,2,null,e,null,null),fc(),t[St]=null}};function Uc(e){this._internalRoot=e}Uc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ur();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Za.length&&t!==0&&t<Za[n].priority;n++);Za.splice(n,0,e),n===0&&ep(e)}};var rp=u.version;if(rp!=="19.1.0")throw Error(l(527,rp,"19.1.0"));he.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=S(t),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var s0={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rc.isDisabled&&Rc.supportsFiber)try{_n=Rc.inject(s0),Ut=Rc}catch{}}return Fl.createRoot=function(e,t){if(!s(e))throw Error(l(299));var n=!1,a="",c=gy,d=_y,_=Sy,x=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(_=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(x=t.unstable_transitionCallbacks)),t=Zv(e,1,!1,null,null,n,a,c,d,_,x,null),e[St]=t.current,Nf(e),new Ff(t)},Fl.hydrateRoot=function(e,t,n){if(!s(e))throw Error(l(299));var a=!1,c="",d=gy,_=_y,x=Sy,U=null,Z=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(_=n.onCaughtError),n.onRecoverableError!==void 0&&(x=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(U=n.unstable_transitionCallbacks),n.formState!==void 0&&(Z=n.formState)),t=Zv(e,1,!0,t,n??null,a,c,d,_,x,U,Z),t.context=Iv(null),n=t.current,a=jn(),a=Vu(a),c=Ua(a),c.callback=null,Ra(n,c,a),n=a,t.current.lanes=n,sa(t,n),mr(t),e[St]=t.current,Nf(e),new Uc(t)},Fl.version="19.1.0",Fl}var hp;function S0(){if(hp)return nd.exports;hp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(u){console.error(u)}}return r(),nd.exports=_0(),nd.exports}var w0=S0();const Vd=Ie.createContext(void 0),zu=()=>{const r=Ie.useContext(Vd);if(!r)throw new Error("useStateMachine must be used inside <StateMachine>");return r},Fn=({name:r,onEnter:u,onExit:i,transition:l,children:s})=>{const{registerState:h,unregisterState:p,currentState:g}=zu();return Ie.useEffect(()=>{const S={element:s||G.jsx(G.Fragment,{}),onEnter:u,onExit:i,transition:l};return h(r,S),()=>{p(r)}},[r,u,i,l,h,p]),g===r?G.jsx(G.Fragment,{children:s}):null},E0=({initial:r,children:u,name:i})=>{const l=`yg-${i??"#"}`,s=Ie.useCallback(()=>{const oe=window.location.hash.startsWith("#?")?window.location.hash.slice(2):"";return new URLSearchParams(oe).get(l)},[l]),h=Ie.useCallback(()=>{const oe=new URLSearchParams(window.location.hash.startsWith("#?")?window.location.hash.slice(2):""),ce=Array.from(oe.entries()).map(([Ue,te])=>{const Se=Number(te);return[Ue,!isNaN(Se)&&te!==""?Se:te]});return Object.fromEntries(ce)},[]),[p,g]=Ie.useState(()=>s()??r),S=Ie.useRef(p);Ie.useEffect(()=>{S.current=p},[p]);const[b,v]=Ie.useState(()=>h()),[A,O]=Ie.useState(0),T=Ie.useRef({}),k=Ie.useCallback((oe,ce)=>{T.current[oe]=ce,O(Ue=>Ue+1)},[]),Q=Ie.useCallback(oe=>{delete T.current[oe],O(ce=>ce+1)},[]),ne=Ie.useCallback(oe=>{g(ce=>{if(ce===oe)return ce;const Ue=ce?T.current[ce]?.transition:void 0;return Ue&&!Ue.includes(oe)?(console.warn(`Transition from "${ce}" to "${oe}" not allowed.`),ce):(ce&&T.current[ce]?.onExit?.(),T.current[oe]?.onEnter?.(),oe)})},[]),se=Ie.useCallback(oe=>{const ce=S.current;if(ce===oe)return;const Ue=ce?T.current[ce]?.transition:void 0;if(Ue&&!Ue.includes(oe)){console.warn(`Transition from "${ce}" to "${oe}" not allowed.`);return}const te=window.location.hash.startsWith("#?")?window.location.hash.slice(2):"",Se=new URLSearchParams(te);Se.set(l,oe);const be=`#?${Se.toString()}`;window.history.pushState(null,"",be),window.dispatchEvent(new HashChangeEvent("hashchange"))},[l]),me=Ie.useCallback(()=>{const oe=window.location.hash.startsWith("#?")?window.location.hash.slice(2):"",ce=new URLSearchParams(oe);ce.delete(l);const Ue=ce.toString()?`#?${ce.toString()}`:"";window.history.pushState(null,"",Ue),window.dispatchEvent(new HashChangeEvent("hashchange"))},[l]),ee=Ie.useCallback((oe,ce=!1)=>{v(Ue=>{const te=ce?Object.fromEntries(Object.entries(Ue).filter(([Ae])=>Ae.startsWith("yg-"))):{...Ue};for(const[Ae,ke]of Object.entries(oe))ke==null?delete te[Ae]:te[Ae]=ke;const Se=Object.fromEntries(Object.entries(te).map(([Ae,ke])=>[Ae,String(ke)])),be=new URLSearchParams(Se).toString();return window.location.hash=`?${be}`,te})},[]);Ie.useEffect(()=>{if(!r)return;if(!s()){const ce=window.location.hash.startsWith("#?")?window.location.hash.slice(2):"",Ue=new URLSearchParams(ce);Ue.set(l,r);const te=`#?${Ue.toString()}`;window.history.replaceState(null,"",te)}},[r,s,l]),Ie.useEffect(()=>{const oe=()=>{const ce=s();ce?ce!==S.current&&ne(ce):g(void 0),v(h())};return oe(),window.addEventListener("hashchange",oe),()=>window.removeEventListener("hashchange",oe)},[ne,s,h]);const _e=Ie.useMemo(()=>({currentState:p,gotoState:se,close:me,is:oe=>oe===p,availableTransitions:p?T.current[p]?.transition??[]:[],query:b,setQuery:ee,registerState:k,unregisterState:Q,param:l}),[p,se,me,b,ee,k,Q,l,A]);return G.jsx(Vd.Provider,{value:_e,children:p?u:null})};function eo({data:r,replace:u,to:i,children:l,className:s,...h}){const{gotoState:p,is:g,setQuery:S}=zu(),b=[s,g(i)?"active":void 0].filter(Boolean).join(" ");return G.jsx("button",{...h,className:b,onClick:()=>{p(i),r&&S(r,u)},children:l??i})}function Qd({data:r,replace:u,to:i,target:l,children:s,className:h,...p}){const{is:g,query:S,param:b}=zu(),v=[h,g(i)?"active":void 0].filter(Boolean).join(" "),A=Ie.useMemo(()=>{const O=u?Object.fromEntries(Object.entries(S).filter(([k])=>k.startsWith("yg-"))):{...S};if(O[b]=i,r)for(const[k,Q]of Object.entries(r))Q==null?delete O[k]:O[k]=Q;const T=Object.fromEntries(Object.entries(O).map(([k,Q])=>[k,String(Q)]));return`#?${new URLSearchParams(T).toString()}`},[i,r,u,S,b]);return G.jsx("a",{...p,...l?{target:l}:{},className:v,href:A,children:s??i})}function x0(){return G.jsx("div",{children:"RecordEdit"})}var Hc={exports:{}},O0=Hc.exports,yp;function A0(){return yp||(yp=1,function(r,u){(function(i,l){r.exports=l()})(O0,function(){var i=function(o,f){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,m){y.__proto__=m}||function(y,m){for(var w in m)Object.prototype.hasOwnProperty.call(m,w)&&(y[w]=m[w])})(o,f)},l=function(){return(l=Object.assign||function(o){for(var f,y=1,m=arguments.length;y<m;y++)for(var w in f=arguments[y])Object.prototype.hasOwnProperty.call(f,w)&&(o[w]=f[w]);return o}).apply(this,arguments)};function s(o,f,y){for(var m,w=0,E=f.length;w<E;w++)!m&&w in f||((m=m||Array.prototype.slice.call(f,0,w))[w]=f[w]);return o.concat(m||Array.prototype.slice.call(f))}var h=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:d0,p=Object.keys,g=Array.isArray;function S(o,f){return typeof f!="object"||p(f).forEach(function(y){o[y]=f[y]}),o}typeof Promise>"u"||h.Promise||(h.Promise=Promise);var b=Object.getPrototypeOf,v={}.hasOwnProperty;function A(o,f){return v.call(o,f)}function O(o,f){typeof f=="function"&&(f=f(b(o))),(typeof Reflect>"u"?p:Reflect.ownKeys)(f).forEach(function(y){k(o,y,f[y])})}var T=Object.defineProperty;function k(o,f,y,m){T(o,f,S(y&&A(y,"get")&&typeof y.get=="function"?{get:y.get,set:y.set,configurable:!0}:{value:y,configurable:!0,writable:!0},m))}function Q(o){return{from:function(f){return o.prototype=Object.create(f.prototype),k(o.prototype,"constructor",o),{extend:O.bind(null,o.prototype)}}}}var ne=Object.getOwnPropertyDescriptor,se=[].slice;function me(o,f,y){return se.call(o,f,y)}function ee(o,f){return f(o)}function _e(o){if(!o)throw new Error("Assertion Failed")}function oe(o){h.setImmediate?setImmediate(o):setTimeout(o,0)}function ce(o,f){if(typeof f=="string"&&A(o,f))return o[f];if(!f)return o;if(typeof f!="string"){for(var y=[],m=0,w=f.length;m<w;++m){var E=ce(o,f[m]);y.push(E)}return y}var j=f.indexOf(".");if(j!==-1){var D=o[f.substr(0,j)];return D==null?void 0:ce(D,f.substr(j+1))}}function Ue(o,f,y){if(o&&f!==void 0&&!("isFrozen"in Object&&Object.isFrozen(o)))if(typeof f!="string"&&"length"in f){_e(typeof y!="string"&&"length"in y);for(var m=0,w=f.length;m<w;++m)Ue(o,f[m],y[m])}else{var E,j,D=f.indexOf(".");D!==-1?(E=f.substr(0,D),(j=f.substr(D+1))===""?y===void 0?g(o)&&!isNaN(parseInt(E))?o.splice(E,1):delete o[E]:o[E]=y:Ue(D=!(D=o[E])||!A(o,E)?o[E]={}:D,j,y)):y===void 0?g(o)&&!isNaN(parseInt(f))?o.splice(f,1):delete o[f]:o[f]=y}}function te(o){var f,y={};for(f in o)A(o,f)&&(y[f]=o[f]);return y}var Se=[].concat;function be(o){return Se.apply([],o)}var _n="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(be([8,16,32,64].map(function(o){return["Int","Uint","Float"].map(function(f){return f+o+"Array"})}))).filter(function(o){return h[o]}),Ae=new Set(_n.map(function(o){return h[o]})),ke=null;function we(o){return ke=new WeakMap,o=function f(y){if(!y||typeof y!="object")return y;var m=ke.get(y);if(m)return m;if(g(y)){m=[],ke.set(y,m);for(var w=0,E=y.length;w<E;++w)m.push(f(y[w]))}else if(Ae.has(y.constructor))m=y;else{var j,D=b(y);for(j in m=D===Object.prototype?{}:Object.create(D),ke.set(y,m),y)A(y,j)&&(m[j]=f(y[j]))}return m}(o),ke=null,o}var Ee={}.toString;function Ce(o){return Ee.call(o).slice(8,-1)}var I=typeof Symbol<"u"?Symbol.iterator:"@@iterator",he=typeof I=="symbol"?function(o){var f;return o!=null&&(f=o[I])&&f.apply(o)}:function(){return null};function je(o,f){return f=o.indexOf(f),0<=f&&o.splice(f,1),0<=f}var Le={};function R(o){var f,y,m,w;if(arguments.length===1){if(g(o))return o.slice();if(this===Le&&typeof o=="string")return[o];if(w=he(o)){for(y=[];!(m=w.next()).done;)y.push(m.value);return y}if(o==null)return[o];if(typeof(f=o.length)!="number")return[o];for(y=new Array(f);f--;)y[f]=o[f];return y}for(f=arguments.length,y=new Array(f);f--;)y[f]=arguments[f];return y}var ie=typeof Symbol<"u"?function(o){return o[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Wa=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],yn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Wa),xe={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function pe(o,f){this.name=o,this.message=f}function Re(o,f){return o+". Errors: "+Object.keys(f).map(function(y){return f[y].toString()}).filter(function(y,m,w){return w.indexOf(y)===m}).join(`
`)}function Ye(o,f,y,m){this.failures=f,this.failedKeys=m,this.successCount=y,this.message=Re(o,f)}function He(o,f){this.name="BulkError",this.failures=Object.keys(f).map(function(y){return f[y]}),this.failuresByPos=f,this.message=Re(o,this.failures)}Q(pe).from(Error).extend({toString:function(){return this.name+": "+this.message}}),Q(Ye).from(pe),Q(He).from(pe);var Wt=yn.reduce(function(o,f){return o[f]=f+"Error",o},{}),gt=pe,ze=yn.reduce(function(o,f){var y=f+"Error";function m(w,E){this.name=y,w?typeof w=="string"?(this.message="".concat(w).concat(E?`
 `+E:""),this.inner=E||null):typeof w=="object"&&(this.message="".concat(w.name," ").concat(w.message),this.inner=w):(this.message=xe[f]||y,this.inner=null)}return Q(m).from(gt),o[f]=m,o},{});ze.Syntax=SyntaxError,ze.Type=TypeError,ze.Range=RangeError;var ji=Wa.reduce(function(o,f){return o[f+"Error"]=ze[f],o},{}),xr=yn.reduce(function(o,f){return["Syntax","Type","Range"].indexOf(f)===-1&&(o[f+"Error"]=ze[f]),o},{});function ut(){}function Or(o){return o}function Hu(o,f){return o==null||o===Or?f:function(y){return f(o(y))}}function Ar(o,f){return function(){o.apply(this,arguments),f.apply(this,arguments)}}function fs(o,f){return o===ut?f:function(){var y=o.apply(this,arguments);y!==void 0&&(arguments[0]=y);var m=this.onsuccess,w=this.onerror;this.onsuccess=null,this.onerror=null;var E=f.apply(this,arguments);return m&&(this.onsuccess=this.onsuccess?Ar(m,this.onsuccess):m),w&&(this.onerror=this.onerror?Ar(w,this.onerror):w),E!==void 0?E:y}}function kn(o,f){return o===ut?f:function(){o.apply(this,arguments);var y=this.onsuccess,m=this.onerror;this.onsuccess=this.onerror=null,f.apply(this,arguments),y&&(this.onsuccess=this.onsuccess?Ar(y,this.onsuccess):y),m&&(this.onerror=this.onerror?Ar(m,this.onerror):m)}}function ds(o,f){return o===ut?f:function(y){var m=o.apply(this,arguments);S(y,m);var w=this.onsuccess,E=this.onerror;return this.onsuccess=null,this.onerror=null,y=f.apply(this,arguments),w&&(this.onsuccess=this.onsuccess?Ar(w,this.onsuccess):w),E&&(this.onerror=this.onerror?Ar(E,this.onerror):E),m===void 0?y===void 0?void 0:y:S(m,y)}}function go(o,f){return o===ut?f:function(){return f.apply(this,arguments)!==!1&&o.apply(this,arguments)}}function Di(o,f){return o===ut?f:function(){var y=o.apply(this,arguments);if(y&&typeof y.then=="function"){for(var m=this,w=arguments.length,E=new Array(w);w--;)E[w]=arguments[w];return y.then(function(){return f.apply(m,E)})}return f.apply(this,arguments)}}xr.ModifyError=Ye,xr.DexieError=pe,xr.BulkError=He;var sn=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function _o(o){sn=o}var oa={},So=100,_n=typeof Promise>"u"?[]:function(){var o=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[o,b(o),o];var f=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[f,b(f),o]}(),Wa=_n[0],yn=_n[1],_n=_n[2],yn=yn&&yn.then,Ut=Wa&&Wa.constructor,Mn=!!_n,Ht=function(o,f){Zn.push([o,f]),Ui&&(queueMicrotask(Qu),Ui=!1)},Lu=!0,Ui=!0,Tr=[],jr=[],ca=Or,rn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:ut,pgp:!1,env:{},finalize:ut},Ne=rn,Zn=[],Dr=0,Fa=[];function Te(o){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var f=this._PSD=Ne;if(typeof o!="function"){if(o!==oa)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Yu(this,this._value))}this._state=null,this._value=null,++f.ref,function y(m,w){try{w(function(E){if(m._state===null){if(E===m)throw new TypeError("A promise cannot be resolved with itself.");var j=m._lib&&Ur();E&&typeof E.then=="function"?y(m,function(D,N){E instanceof Te?E._then(D,N):E.then(D,N)}):(m._state=!0,m._value=E,Gu(m)),j&&fa()}},Yu.bind(null,m))}catch(E){Yu(m,E)}}(this,o)}var ei={get:function(){var o=Ne,f=ti;function y(m,w){var E=this,j=!o.global&&(o!==Ne||f!==ti),D=j&&!fn(),N=new Te(function(B,H){Ri(E,new sa(ar(m,o,j,D),ar(w,o,j,D),B,H,o))});return this._consoleTask&&(N._consoleTask=this._consoleTask),N}return y.prototype=oa,y},set:function(o){k(this,"then",o&&o.prototype===oa?ei:{get:function(){return o},set:ei.set})}};function sa(o,f,y,m,w){this.onFulfilled=typeof o=="function"?o:null,this.onRejected=typeof f=="function"?f:null,this.resolve=y,this.reject=m,this.psd=w}function Yu(o,f){var y,m;jr.push(f),o._state===null&&(y=o._lib&&Ur(),f=ca(f),o._state=!1,o._value=f,m=o,Tr.some(function(w){return w._value===m._value})||Tr.push(m),Gu(o),y&&fa())}function Gu(o){var f=o._listeners;o._listeners=[];for(var y=0,m=f.length;y<m;++y)Ri(o,f[y]);var w=o._PSD;--w.ref||w.finalize(),Dr===0&&(++Dr,Ht(function(){--Dr==0&&Nn()},[]))}function Ri(o,f){if(o._state!==null){var y=o._state?f.onFulfilled:f.onRejected;if(y===null)return(o._state?f.resolve:f.reject)(o._value);++f.psd.ref,++Dr,Ht(Vu,[y,o,f])}else o._listeners.push(f)}function Vu(o,f,y){try{var m,w=f._value;!f._state&&jr.length&&(jr=[]),m=sn&&f._consoleTask?f._consoleTask.run(function(){return o(w)}):o(w),f._state||jr.indexOf(w)!==-1||function(E){for(var j=Tr.length;j;)if(Tr[--j]._value===E._value)return Tr.splice(j,1)}(f),y.resolve(m)}catch(E){y.reject(E)}finally{--Dr==0&&Nn(),--y.psd.ref||y.psd.finalize()}}function Qu(){rr(rn,function(){Ur()&&fa()})}function Ur(){var o=Lu;return Ui=Lu=!1,o}function fa(){var o,f,y;do for(;0<Zn.length;)for(o=Zn,Zn=[],y=o.length,f=0;f<y;++f){var m=o[f];m[0].apply(null,m[1])}while(0<Zn.length);Ui=Lu=!0}function Nn(){var o=Tr;Tr=[],o.forEach(function(m){m._PSD.onunhandled.call(null,m._value,m)});for(var f=Fa.slice(0),y=f.length;y;)f[--y]()}function Rt(o){return new Te(oa,!1,o)}function We(o,f){var y=Ne;return function(){var m=Ur(),w=Ne;try{return pt(y,!0),o.apply(this,arguments)}catch(E){f&&f(E)}finally{pt(w,!1),m&&fa()}}}O(Te.prototype,{then:ei,_then:function(o,f){Ri(this,new sa(null,null,o,f,Ne))},catch:function(o){if(arguments.length===1)return this.then(null,o);var f=o,y=arguments[1];return typeof f=="function"?this.then(null,function(m){return(m instanceof f?y:Rt)(m)}):this.then(null,function(m){return(m&&m.name===f?y:Rt)(m)})},finally:function(o){return this.then(function(f){return Te.resolve(o()).then(function(){return f})},function(f){return Te.resolve(o()).then(function(){return Rt(f)})})},timeout:function(o,f){var y=this;return o<1/0?new Te(function(m,w){var E=setTimeout(function(){return w(new ze.Timeout(f))},o);y.then(m,w).finally(clearTimeout.bind(null,E))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&k(Te.prototype,Symbol.toStringTag,"Dexie.Promise"),rn.env=Zu(),O(Te,{all:function(){var o=R.apply(null,arguments).map(nr);return new Te(function(f,y){o.length===0&&f([]);var m=o.length;o.forEach(function(w,E){return Te.resolve(w).then(function(j){o[E]=j,--m||f(o)},y)})})},resolve:function(o){return o instanceof Te?o:o&&typeof o.then=="function"?new Te(function(f,y){o.then(f,y)}):new Te(oa,!0,o)},reject:Rt,race:function(){var o=R.apply(null,arguments).map(nr);return new Te(function(f,y){o.map(function(m){return Te.resolve(m).then(f,y)})})},PSD:{get:function(){return Ne},set:function(o){return Ne=o}},totalEchoes:{get:function(){return ti}},newPSD:zn,usePSD:rr,scheduler:{get:function(){return Ht},set:function(o){Ht=o}},rejectionMapper:{get:function(){return ca},set:function(o){ca=o}},follow:function(o,f){return new Te(function(y,m){return zn(function(w,E){var j=Ne;j.unhandleds=[],j.onunhandled=E,j.finalize=Ar(function(){var D,N=this;D=function(){N.unhandleds.length===0?w():E(N.unhandleds[0])},Fa.push(function B(){D(),Fa.splice(Fa.indexOf(B),1)}),++Dr,Ht(function(){--Dr==0&&Nn()},[])},j.finalize),o()},f,y,m)})}}),Ut&&(Ut.allSettled&&k(Te,"allSettled",function(){var o=R.apply(null,arguments).map(nr);return new Te(function(f){o.length===0&&f([]);var y=o.length,m=new Array(y);o.forEach(function(w,E){return Te.resolve(w).then(function(j){return m[E]={status:"fulfilled",value:j}},function(j){return m[E]={status:"rejected",reason:j}}).then(function(){return--y||f(m)})})})}),Ut.any&&typeof AggregateError<"u"&&k(Te,"any",function(){var o=R.apply(null,arguments).map(nr);return new Te(function(f,y){o.length===0&&y(new AggregateError([]));var m=o.length,w=new Array(m);o.forEach(function(E,j){return Te.resolve(E).then(function(D){return f(D)},function(D){w[j]=D,--m||y(new AggregateError(w))})})})}),Ut.withResolvers&&(Te.withResolvers=Ut.withResolvers));var St={awaits:0,echoes:0,id:0},Xu=0,Ci=[],ki=0,ti=0,ni=0;function zn(o,f,y,m){var w=Ne,E=Object.create(w);return E.parent=w,E.ref=0,E.global=!1,E.id=++ni,rn.env,E.env=Mn?{Promise:Te,PromiseProp:{value:Te,configurable:!0,writable:!0},all:Te.all,race:Te.race,allSettled:Te.allSettled,any:Te.any,resolve:Te.resolve,reject:Te.reject}:{},f&&S(E,f),++w.ref,E.finalize=function(){--this.parent.ref||this.parent.finalize()},m=rr(E,o,y,m),E.ref===0&&E.finalize(),m}function Sn(){return St.id||(St.id=++Xu),++St.awaits,St.echoes+=So,St.id}function fn(){return!!St.awaits&&(--St.awaits==0&&(St.id=0),St.echoes=St.awaits*So,!0)}function nr(o){return St.echoes&&o&&o.constructor===Ut?(Sn(),o.then(function(f){return fn(),f},function(f){return fn(),Ot(f)})):o}function da(){var o=Ci[Ci.length-1];Ci.pop(),pt(o,!1)}function pt(o,f){var y,m=Ne;(f?!St.echoes||ki++&&o===Ne:!ki||--ki&&o===Ne)||queueMicrotask(f?(function(w){++ti,St.echoes&&--St.echoes!=0||(St.echoes=St.awaits=St.id=0),Ci.push(Ne),pt(w,!0)}).bind(null,o):da),o!==Ne&&(Ne=o,m===rn&&(rn.env=Zu()),Mn&&(y=rn.env.Promise,f=o.env,(m.global||o.global)&&(Object.defineProperty(h,"Promise",f.PromiseProp),y.all=f.all,y.race=f.race,y.resolve=f.resolve,y.reject=f.reject,f.allSettled&&(y.allSettled=f.allSettled),f.any&&(y.any=f.any))))}function Zu(){var o=h.Promise;return Mn?{Promise:o,PromiseProp:Object.getOwnPropertyDescriptor(h,"Promise"),all:o.all,race:o.race,allSettled:o.allSettled,any:o.any,resolve:o.resolve,reject:o.reject}:{}}function rr(o,f,y,m,w){var E=Ne;try{return pt(o,!0),f(y,m,w)}finally{pt(E,!1)}}function ar(o,f,y,m){return typeof o!="function"?o:function(){var w=Ne;y&&Sn(),pt(f,!0);try{return o.apply(this,arguments)}finally{pt(w,!1),m&&queueMicrotask(fn)}}}function ir(o){Promise===Ut&&St.echoes===0?ki===0?o():enqueueNativeMicroTask(o):setTimeout(o,0)}(""+yn).indexOf("[native code]")===-1&&(Sn=fn=ut);var Ot=Te.reject,ur="￿",Bn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",wo="String expected.",In=[],Rr="__dbnames",wn="readonly",ri="readwrite";function lr(o,f){return o?f?function(){return o.apply(this,arguments)&&f.apply(this,arguments)}:o:f}var Cr={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function ha(o){return typeof o!="string"||/\./.test(o)?function(f){return f}:function(f){return f[o]===void 0&&o in f&&delete(f=we(f))[o],f}}function Mi(){throw ze.Type()}function tt(o,f){try{var y=Iu(o),m=Iu(f);if(y!==m)return y==="Array"?1:m==="Array"?-1:y==="binary"?1:m==="binary"?-1:y==="string"?1:m==="string"?-1:y==="Date"?1:m!=="Date"?NaN:-1;switch(y){case"number":case"Date":case"string":return f<o?1:o<f?-1:0;case"binary":return function(w,E){for(var j=w.length,D=E.length,N=j<D?j:D,B=0;B<N;++B)if(w[B]!==E[B])return w[B]<E[B]?-1:1;return j===D?0:j<D?-1:1}(dn(o),dn(f));case"Array":return function(w,E){for(var j=w.length,D=E.length,N=j<D?j:D,B=0;B<N;++B){var H=tt(w[B],E[B]);if(H!==0)return H}return j===D?0:j<D?-1:1}(o,f)}}catch{}return NaN}function Iu(o){var f=typeof o;return f!="object"?f:ArrayBuffer.isView(o)?"binary":(o=Ce(o),o==="ArrayBuffer"?"binary":o)}function dn(o){return o instanceof Uint8Array?o:ArrayBuffer.isView(o)?new Uint8Array(o.buffer,o.byteOffset,o.byteLength):new Uint8Array(o)}var Ju=(mt.prototype._trans=function(o,f,y){var m=this._tx||Ne.trans,w=this.name,E=sn&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(o==="readonly"?"read":"write"," ").concat(this.name));function j(B,H,C){if(!C.schema[w])throw new ze.NotFound("Table "+w+" not part of transaction");return f(C.idbtrans,C)}var D=Ur();try{var N=m&&m.db._novip===this.db._novip?m===Ne.trans?m._promise(o,j,y):zn(function(){return m._promise(o,j,y)},{trans:m,transless:Ne.transless||Ne}):function B(H,C,Y,M){if(H.idbdb&&(H._state.openComplete||Ne.letThrough||H._vip)){var K=H._createTransaction(C,Y,H._dbSchema);try{K.create(),H._state.PR1398_maxLoop=3}catch(V){return V.name===Wt.InvalidState&&H.isOpen()&&0<--H._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),H.close({disableAutoOpen:!1}),H.open().then(function(){return B(H,C,Y,M)})):Ot(V)}return K._promise(C,function(V,q){return zn(function(){return Ne.trans=K,M(V,q,K)})}).then(function(V){if(C==="readwrite")try{K.idbtrans.commit()}catch{}return C==="readonly"?V:K._completion.then(function(){return V})})}if(H._state.openComplete)return Ot(new ze.DatabaseClosed(H._state.dbOpenError));if(!H._state.isBeingOpened){if(!H._state.autoOpen)return Ot(new ze.DatabaseClosed);H.open().catch(ut)}return H._state.dbReadyPromise.then(function(){return B(H,C,Y,M)})}(this.db,o,[this.name],j);return E&&(N._consoleTask=E,N=N.catch(function(B){return console.trace(B),Ot(B)})),N}finally{D&&fa()}},mt.prototype.get=function(o,f){var y=this;return o&&o.constructor===Object?this.where(o).first(f):o==null?Ot(new ze.Type("Invalid argument to Table.get()")):this._trans("readonly",function(m){return y.core.get({trans:m,key:o}).then(function(w){return y.hook.reading.fire(w)})}).then(f)},mt.prototype.where=function(o){if(typeof o=="string")return new this.db.WhereClause(this,o);if(g(o))return new this.db.WhereClause(this,"[".concat(o.join("+"),"]"));var f=p(o);if(f.length===1)return this.where(f[0]).equals(o[f[0]]);var y=this.schema.indexes.concat(this.schema.primKey).filter(function(D){if(D.compound&&f.every(function(B){return 0<=D.keyPath.indexOf(B)})){for(var N=0;N<f.length;++N)if(f.indexOf(D.keyPath[N])===-1)return!1;return!0}return!1}).sort(function(D,N){return D.keyPath.length-N.keyPath.length})[0];if(y&&this.db._maxKey!==ur){var E=y.keyPath.slice(0,f.length);return this.where(E).equals(E.map(function(N){return o[N]}))}!y&&sn&&console.warn("The query ".concat(JSON.stringify(o)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(f.join("+"),"]"));var m=this.schema.idxByName;function w(D,N){return tt(D,N)===0}var j=f.reduce(function(C,N){var B=C[0],H=C[1],C=m[N],Y=o[N];return[B||C,B||!C?lr(H,C&&C.multi?function(M){return M=ce(M,N),g(M)&&M.some(function(K){return w(Y,K)})}:function(M){return w(Y,ce(M,N))}):H]},[null,null]),E=j[0],j=j[1];return E?this.where(E.name).equals(o[E.keyPath]).filter(j):y?this.filter(j):this.where(f).equals("")},mt.prototype.filter=function(o){return this.toCollection().and(o)},mt.prototype.count=function(o){return this.toCollection().count(o)},mt.prototype.offset=function(o){return this.toCollection().offset(o)},mt.prototype.limit=function(o){return this.toCollection().limit(o)},mt.prototype.each=function(o){return this.toCollection().each(o)},mt.prototype.toArray=function(o){return this.toCollection().toArray(o)},mt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},mt.prototype.orderBy=function(o){return new this.db.Collection(new this.db.WhereClause(this,g(o)?"[".concat(o.join("+"),"]"):o))},mt.prototype.reverse=function(){return this.toCollection().reverse()},mt.prototype.mapToClass=function(o){var f,y=this.db,m=this.name;function w(){return f!==null&&f.apply(this,arguments)||this}(this.schema.mappedClass=o).prototype instanceof Mi&&(function(N,B){if(typeof B!="function"&&B!==null)throw new TypeError("Class extends value "+String(B)+" is not a constructor or null");function H(){this.constructor=N}i(N,B),N.prototype=B===null?Object.create(B):(H.prototype=B.prototype,new H)}(w,f=o),Object.defineProperty(w.prototype,"db",{get:function(){return y},enumerable:!1,configurable:!0}),w.prototype.table=function(){return m},o=w);for(var E=new Set,j=o.prototype;j;j=b(j))Object.getOwnPropertyNames(j).forEach(function(N){return E.add(N)});function D(N){if(!N)return N;var B,H=Object.create(o.prototype);for(B in N)if(!E.has(B))try{H[B]=N[B]}catch{}return H}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=D,this.hook("reading",D),o},mt.prototype.defineClass=function(){return this.mapToClass(function(o){S(this,o)})},mt.prototype.add=function(o,f){var y=this,m=this.schema.primKey,w=m.auto,E=m.keyPath,j=o;return E&&w&&(j=ha(E)(o)),this._trans("readwrite",function(D){return y.core.mutate({trans:D,type:"add",keys:f!=null?[f]:null,values:[j]})}).then(function(D){return D.numFailures?Te.reject(D.failures[0]):D.lastResult}).then(function(D){if(E)try{Ue(o,E,D)}catch{}return D})},mt.prototype.update=function(o,f){return typeof o!="object"||g(o)?this.where(":id").equals(o).modify(f):(o=ce(o,this.schema.primKey.keyPath),o===void 0?Ot(new ze.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(o).modify(f))},mt.prototype.put=function(o,f){var y=this,m=this.schema.primKey,w=m.auto,E=m.keyPath,j=o;return E&&w&&(j=ha(E)(o)),this._trans("readwrite",function(D){return y.core.mutate({trans:D,type:"put",values:[j],keys:f!=null?[f]:null})}).then(function(D){return D.numFailures?Te.reject(D.failures[0]):D.lastResult}).then(function(D){if(E)try{Ue(o,E,D)}catch{}return D})},mt.prototype.delete=function(o){var f=this;return this._trans("readwrite",function(y){return f.core.mutate({trans:y,type:"delete",keys:[o]})}).then(function(y){return y.numFailures?Te.reject(y.failures[0]):void 0})},mt.prototype.clear=function(){var o=this;return this._trans("readwrite",function(f){return o.core.mutate({trans:f,type:"deleteRange",range:Cr})}).then(function(f){return f.numFailures?Te.reject(f.failures[0]):void 0})},mt.prototype.bulkGet=function(o){var f=this;return this._trans("readonly",function(y){return f.core.getMany({keys:o,trans:y}).then(function(m){return m.map(function(w){return f.hook.reading.fire(w)})})})},mt.prototype.bulkAdd=function(o,f,y){var m=this,w=Array.isArray(f)?f:void 0,E=(y=y||(w?void 0:f))?y.allKeys:void 0;return this._trans("readwrite",function(j){var B=m.schema.primKey,D=B.auto,B=B.keyPath;if(B&&w)throw new ze.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(w&&w.length!==o.length)throw new ze.InvalidArgument("Arguments objects and keys must have the same length");var N=o.length,B=B&&D?o.map(ha(B)):o;return m.core.mutate({trans:j,type:"add",keys:w,values:B,wantResults:E}).then(function(K){var C=K.numFailures,Y=K.results,M=K.lastResult,K=K.failures;if(C===0)return E?Y:M;throw new He("".concat(m.name,".bulkAdd(): ").concat(C," of ").concat(N," operations failed"),K)})})},mt.prototype.bulkPut=function(o,f,y){var m=this,w=Array.isArray(f)?f:void 0,E=(y=y||(w?void 0:f))?y.allKeys:void 0;return this._trans("readwrite",function(j){var B=m.schema.primKey,D=B.auto,B=B.keyPath;if(B&&w)throw new ze.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(w&&w.length!==o.length)throw new ze.InvalidArgument("Arguments objects and keys must have the same length");var N=o.length,B=B&&D?o.map(ha(B)):o;return m.core.mutate({trans:j,type:"put",keys:w,values:B,wantResults:E}).then(function(K){var C=K.numFailures,Y=K.results,M=K.lastResult,K=K.failures;if(C===0)return E?Y:M;throw new He("".concat(m.name,".bulkPut(): ").concat(C," of ").concat(N," operations failed"),K)})})},mt.prototype.bulkUpdate=function(o){var f=this,y=this.core,m=o.map(function(j){return j.key}),w=o.map(function(j){return j.changes}),E=[];return this._trans("readwrite",function(j){return y.getMany({trans:j,keys:m,cache:"clone"}).then(function(D){var N=[],B=[];o.forEach(function(C,Y){var M=C.key,K=C.changes,V=D[Y];if(V){for(var q=0,J=Object.keys(K);q<J.length;q++){var W=J[q],F=K[W];if(W===f.schema.primKey.keyPath){if(tt(F,M)!==0)throw new ze.Constraint("Cannot update primary key in bulkUpdate()")}else Ue(V,W,F)}E.push(Y),N.push(M),B.push(V)}});var H=N.length;return y.mutate({trans:j,type:"put",keys:N,values:B,updates:{keys:m,changeSpecs:w}}).then(function(C){var Y=C.numFailures,M=C.failures;if(Y===0)return H;for(var K=0,V=Object.keys(M);K<V.length;K++){var q,J=V[K],W=E[Number(J)];W!=null&&(q=M[J],delete M[J],M[W]=q)}throw new He("".concat(f.name,".bulkUpdate(): ").concat(Y," of ").concat(H," operations failed"),M)})})})},mt.prototype.bulkDelete=function(o){var f=this,y=o.length;return this._trans("readwrite",function(m){return f.core.mutate({trans:m,type:"delete",keys:o})}).then(function(j){var w=j.numFailures,E=j.lastResult,j=j.failures;if(w===0)return E;throw new He("".concat(f.name,".bulkDelete(): ").concat(w," of ").concat(y," operations failed"),j)})},mt);function mt(){}function or(o){function f(j,D){if(D){for(var N=arguments.length,B=new Array(N-1);--N;)B[N-1]=arguments[N];return y[j].subscribe.apply(null,B),o}if(typeof j=="string")return y[j]}var y={};f.addEventType=E;for(var m=1,w=arguments.length;m<w;++m)E(arguments[m]);return f;function E(j,D,N){if(typeof j!="object"){var B;D=D||go;var H={subscribers:[],fire:N=N||ut,subscribe:function(C){H.subscribers.indexOf(C)===-1&&(H.subscribers.push(C),H.fire=D(H.fire,C))},unsubscribe:function(C){H.subscribers=H.subscribers.filter(function(Y){return Y!==C}),H.fire=H.subscribers.reduce(D,N)}};return y[j]=f[j]=H}p(B=j).forEach(function(C){var Y=B[C];if(g(Y))E(C,B[C][0],B[C][1]);else{if(Y!=="asap")throw new ze.InvalidArgument("Invalid event config");var M=E(C,Or,function(){for(var K=arguments.length,V=new Array(K);K--;)V[K]=arguments[K];M.subscribers.forEach(function(q){oe(function(){q.apply(null,V)})})})}})}}function ya(o,f){return Q(f).from({prototype:o}),f}function Jn(o,f){return!(o.filter||o.algorithm||o.or)&&(f?o.justLimit:!o.replayFilter)}function $u(o,f){o.filter=lr(o.filter,f)}function an(o,f,y){var m=o.replayFilter;o.replayFilter=m?function(){return lr(m(),f())}:f,o.justLimit=y&&!m}function va(o,f){if(o.isPrimKey)return f.primaryKey;var y=f.getIndexByKeyPath(o.index);if(!y)throw new ze.Schema("KeyPath "+o.index+" on object store "+f.name+" is not indexed");return y}function Pu(o,f,y){var m=va(o,f.schema);return f.openCursor({trans:y,values:!o.keysOnly,reverse:o.dir==="prev",unique:!!o.unique,query:{index:m,range:o.range}})}function pa(o,f,y,m){var w=o.replayFilter?lr(o.filter,o.replayFilter()):o.filter;if(o.or){var E={},j=function(D,N,B){var H,C;w&&!w(N,B,function(Y){return N.stop(Y)},function(Y){return N.fail(Y)})||((C=""+(H=N.primaryKey))=="[object ArrayBuffer]"&&(C=""+new Uint8Array(H)),A(E,C)||(E[C]=!0,f(D,N,B)))};return Promise.all([o.or._iterate(j,y),kr(Pu(o,m,y),o.algorithm,j,!o.keysOnly&&o.valueMapper)])}return kr(Pu(o,m,y),lr(o.algorithm,w),f,!o.keysOnly&&o.valueMapper)}function kr(o,f,y,m){var w=We(m?function(E,j,D){return y(m(E),j,D)}:y);return o.then(function(E){if(E)return E.start(function(){var j=function(){return E.continue()};f&&!f(E,function(D){return j=D},function(D){E.stop(D),j=ut},function(D){E.fail(D),j=ut})||w(E.value,E,function(D){return j=D}),j()})})}var ma=(Wu.prototype.execute=function(o){var f=this["@@propmod"];if(f.add!==void 0){var y=f.add;if(g(y))return s(s([],g(o)?o:[],!0),y).sort();if(typeof y=="number")return(Number(o)||0)+y;if(typeof y=="bigint")try{return BigInt(o)+y}catch{return BigInt(0)+y}throw new TypeError("Invalid term ".concat(y))}if(f.remove!==void 0){var m=f.remove;if(g(m))return g(o)?o.filter(function(w){return!m.includes(w)}).sort():[];if(typeof m=="number")return Number(o)-m;if(typeof m=="bigint")try{return BigInt(o)-m}catch{return BigInt(0)-m}throw new TypeError("Invalid subtrahend ".concat(m))}return y=(y=f.replacePrefix)===null||y===void 0?void 0:y[0],y&&typeof o=="string"&&o.startsWith(y)?f.replacePrefix[1]+o.substring(y.length):o},Wu);function Wu(o){this["@@propmod"]=o}var ba=(at.prototype._read=function(o,f){var y=this._ctx;return y.error?y.table._trans(null,Ot.bind(null,y.error)):y.table._trans("readonly",o).then(f)},at.prototype._write=function(o){var f=this._ctx;return f.error?f.table._trans(null,Ot.bind(null,f.error)):f.table._trans("readwrite",o,"locked")},at.prototype._addAlgorithm=function(o){var f=this._ctx;f.algorithm=lr(f.algorithm,o)},at.prototype._iterate=function(o,f){return pa(this._ctx,o,f,this._ctx.table.core)},at.prototype.clone=function(o){var f=Object.create(this.constructor.prototype),y=Object.create(this._ctx);return o&&S(y,o),f._ctx=y,f},at.prototype.raw=function(){return this._ctx.valueMapper=null,this},at.prototype.each=function(o){var f=this._ctx;return this._read(function(y){return pa(f,o,y,f.table.core)})},at.prototype.count=function(o){var f=this;return this._read(function(y){var m=f._ctx,w=m.table.core;if(Jn(m,!0))return w.count({trans:y,query:{index:va(m,w.schema),range:m.range}}).then(function(j){return Math.min(j,m.limit)});var E=0;return pa(m,function(){return++E,!1},y,w).then(function(){return E})}).then(o)},at.prototype.sortBy=function(o,f){var y=o.split(".").reverse(),m=y[0],w=y.length-1;function E(N,B){return B?E(N[y[B]],B-1):N[m]}var j=this._ctx.dir==="next"?1:-1;function D(N,B){return tt(E(N,w),E(B,w))*j}return this.toArray(function(N){return N.sort(D)}).then(f)},at.prototype.toArray=function(o){var f=this;return this._read(function(y){var m=f._ctx;if(m.dir==="next"&&Jn(m,!0)&&0<m.limit){var w=m.valueMapper,E=va(m,m.table.core.schema);return m.table.core.query({trans:y,limit:m.limit,values:!0,query:{index:E,range:m.range}}).then(function(D){return D=D.result,w?D.map(w):D})}var j=[];return pa(m,function(D){return j.push(D)},y,m.table.core).then(function(){return j})},o)},at.prototype.offset=function(o){var f=this._ctx;return o<=0||(f.offset+=o,Jn(f)?an(f,function(){var y=o;return function(m,w){return y===0||(y===1?--y:w(function(){m.advance(y),y=0}),!1)}}):an(f,function(){var y=o;return function(){return--y<0}})),this},at.prototype.limit=function(o){return this._ctx.limit=Math.min(this._ctx.limit,o),an(this._ctx,function(){var f=o;return function(y,m,w){return--f<=0&&m(w),0<=f}},!0),this},at.prototype.until=function(o,f){return $u(this._ctx,function(y,m,w){return!o(y.value)||(m(w),f)}),this},at.prototype.first=function(o){return this.limit(1).toArray(function(f){return f[0]}).then(o)},at.prototype.last=function(o){return this.reverse().first(o)},at.prototype.filter=function(o){var f;return $u(this._ctx,function(y){return o(y.value)}),(f=this._ctx).isMatch=lr(f.isMatch,o),this},at.prototype.and=function(o){return this.filter(o)},at.prototype.or=function(o){return new this.db.WhereClause(this._ctx.table,o,this)},at.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},at.prototype.desc=function(){return this.reverse()},at.prototype.eachKey=function(o){var f=this._ctx;return f.keysOnly=!f.isMatch,this.each(function(y,m){o(m.key,m)})},at.prototype.eachUniqueKey=function(o){return this._ctx.unique="unique",this.eachKey(o)},at.prototype.eachPrimaryKey=function(o){var f=this._ctx;return f.keysOnly=!f.isMatch,this.each(function(y,m){o(m.primaryKey,m)})},at.prototype.keys=function(o){var f=this._ctx;f.keysOnly=!f.isMatch;var y=[];return this.each(function(m,w){y.push(w.key)}).then(function(){return y}).then(o)},at.prototype.primaryKeys=function(o){var f=this._ctx;if(f.dir==="next"&&Jn(f,!0)&&0<f.limit)return this._read(function(m){var w=va(f,f.table.core.schema);return f.table.core.query({trans:m,values:!1,limit:f.limit,query:{index:w,range:f.range}})}).then(function(m){return m.result}).then(o);f.keysOnly=!f.isMatch;var y=[];return this.each(function(m,w){y.push(w.primaryKey)}).then(function(){return y}).then(o)},at.prototype.uniqueKeys=function(o){return this._ctx.unique="unique",this.keys(o)},at.prototype.firstKey=function(o){return this.limit(1).keys(function(f){return f[0]}).then(o)},at.prototype.lastKey=function(o){return this.reverse().firstKey(o)},at.prototype.distinct=function(){var o=this._ctx,o=o.index&&o.table.schema.idxByName[o.index];if(!o||!o.multi)return this;var f={};return $u(this._ctx,function(w){var m=w.primaryKey.toString(),w=A(f,m);return f[m]=!0,!w}),this},at.prototype.modify=function(o){var f=this,y=this._ctx;return this._write(function(m){var w,E,j;j=typeof o=="function"?o:(w=p(o),E=w.length,function(q){for(var J=!1,W=0;W<E;++W){var F=w[W],re=o[F],ye=ce(q,F);re instanceof ma?(Ue(q,F,re.execute(ye)),J=!0):ye!==re&&(Ue(q,F,re),J=!0)}return J});var D=y.table.core,C=D.schema.primaryKey,N=C.outbound,B=C.extractKey,H=200,C=f.db._options.modifyChunkSize;C&&(H=typeof C=="object"?C[D.name]||C["*"]||200:C);function Y(q,F){var W=F.failures,F=F.numFailures;K+=q-F;for(var re=0,ye=p(W);re<ye.length;re++){var ge=ye[re];M.push(W[ge])}}var M=[],K=0,V=[];return f.clone().primaryKeys().then(function(q){function J(F){var re=Math.min(H,q.length-F);return D.getMany({trans:m,keys:q.slice(F,F+re),cache:"immutable"}).then(function(ye){for(var ge=[],fe=[],ve=N?[]:null,Oe=[],de=0;de<re;++de){var De=ye[de],Ke={value:we(De),primKey:q[F+de]};j.call(Ke,Ke.value,Ke)!==!1&&(Ke.value==null?Oe.push(q[F+de]):N||tt(B(De),B(Ke.value))===0?(fe.push(Ke.value),N&&ve.push(q[F+de])):(Oe.push(q[F+de]),ge.push(Ke.value)))}return Promise.resolve(0<ge.length&&D.mutate({trans:m,type:"add",values:ge}).then(function(Ge){for(var Je in Ge.failures)Oe.splice(parseInt(Je),1);Y(ge.length,Ge)})).then(function(){return(0<fe.length||W&&typeof o=="object")&&D.mutate({trans:m,type:"put",keys:ve,values:fe,criteria:W,changeSpec:typeof o!="function"&&o,isAdditionalChunk:0<F}).then(function(Ge){return Y(fe.length,Ge)})}).then(function(){return(0<Oe.length||W&&o===Ni)&&D.mutate({trans:m,type:"delete",keys:Oe,criteria:W,isAdditionalChunk:0<F}).then(function(Ge){return Y(Oe.length,Ge)})}).then(function(){return q.length>F+re&&J(F+H)})})}var W=Jn(y)&&y.limit===1/0&&(typeof o!="function"||o===Ni)&&{index:y.index,range:y.range};return J(0).then(function(){if(0<M.length)throw new Ye("Error modifying one or more objects",M,K,V);return q.length})})})},at.prototype.delete=function(){var o=this._ctx,f=o.range;return Jn(o)&&(o.isPrimKey||f.type===3)?this._write(function(y){var m=o.table.core.schema.primaryKey,w=f;return o.table.core.count({trans:y,query:{index:m,range:w}}).then(function(E){return o.table.core.mutate({trans:y,type:"deleteRange",range:w}).then(function(j){var D=j.failures;if(j.lastResult,j.results,j=j.numFailures,j)throw new Ye("Could not delete some values",Object.keys(D).map(function(N){return D[N]}),E-j);return E-j})})}):this.modify(Ni)},at);function at(){}var Ni=function(o,f){return f.value=null};function Eo(o,f){return o<f?-1:o===f?0:1}function Fu(o,f){return f<o?-1:o===f?0:1}function hn(o,f,y){return o=o instanceof Nr?new o.Collection(o):o,o._ctx.error=new(y||TypeError)(f),o}function ga(o){return new o.Collection(o,function(){return zi("")}).limit(0)}function Mr(o,f,y,m){var w,E,j,D,N,B,H,C=y.length;if(!y.every(function(K){return typeof K=="string"}))return hn(o,wo);function Y(K){w=K==="next"?function(q){return q.toUpperCase()}:function(q){return q.toLowerCase()},E=K==="next"?function(q){return q.toLowerCase()}:function(q){return q.toUpperCase()},j=K==="next"?Eo:Fu;var V=y.map(function(q){return{lower:E(q),upper:w(q)}}).sort(function(q,J){return j(q.lower,J.lower)});D=V.map(function(q){return q.upper}),N=V.map(function(q){return q.lower}),H=(B=K)==="next"?"":m}Y("next"),o=new o.Collection(o,function(){return qn(D[0],N[C-1]+m)}),o._ondirectionchange=function(K){Y(K)};var M=0;return o._addAlgorithm(function(K,V,q){var J=K.key;if(typeof J!="string")return!1;var W=E(J);if(f(W,N,M))return!0;for(var F=null,re=M;re<C;++re){var ye=function(ge,fe,ve,Oe,de,De){for(var Ke=Math.min(ge.length,Oe.length),Ge=-1,Je=0;Je<Ke;++Je){var Ft=fe[Je];if(Ft!==Oe[Je])return de(ge[Je],ve[Je])<0?ge.substr(0,Je)+ve[Je]+ve.substr(Je+1):de(ge[Je],Oe[Je])<0?ge.substr(0,Je)+Oe[Je]+ve.substr(Je+1):0<=Ge?ge.substr(0,Ge)+fe[Ge]+ve.substr(Ge+1):null;de(ge[Je],Ft)<0&&(Ge=Je)}return Ke<Oe.length&&De==="next"?ge+ve.substr(ge.length):Ke<ge.length&&De==="prev"?ge.substr(0,ve.length):Ge<0?null:ge.substr(0,Ge)+Oe[Ge]+ve.substr(Ge+1)}(J,W,D[re],N[re],j,B);ye===null&&F===null?M=re+1:(F===null||0<j(F,ye))&&(F=ye)}return V(F!==null?function(){K.continue(F+H)}:q),!1}),o}function qn(o,f,y,m){return{type:2,lower:o,upper:f,lowerOpen:y,upperOpen:m}}function zi(o){return{type:1,lower:o,upper:o}}var Nr=(Object.defineProperty(wt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),wt.prototype.between=function(o,f,y,m){y=y!==!1,m=m===!0;try{return 0<this._cmp(o,f)||this._cmp(o,f)===0&&(y||m)&&(!y||!m)?ga(this):new this.Collection(this,function(){return qn(o,f,!y,!m)})}catch{return hn(this,Bn)}},wt.prototype.equals=function(o){return o==null?hn(this,Bn):new this.Collection(this,function(){return zi(o)})},wt.prototype.above=function(o){return o==null?hn(this,Bn):new this.Collection(this,function(){return qn(o,void 0,!0)})},wt.prototype.aboveOrEqual=function(o){return o==null?hn(this,Bn):new this.Collection(this,function(){return qn(o,void 0,!1)})},wt.prototype.below=function(o){return o==null?hn(this,Bn):new this.Collection(this,function(){return qn(void 0,o,!1,!0)})},wt.prototype.belowOrEqual=function(o){return o==null?hn(this,Bn):new this.Collection(this,function(){return qn(void 0,o)})},wt.prototype.startsWith=function(o){return typeof o!="string"?hn(this,wo):this.between(o,o+ur,!0,!0)},wt.prototype.startsWithIgnoreCase=function(o){return o===""?this.startsWith(o):Mr(this,function(f,y){return f.indexOf(y[0])===0},[o],ur)},wt.prototype.equalsIgnoreCase=function(o){return Mr(this,function(f,y){return f===y[0]},[o],"")},wt.prototype.anyOfIgnoreCase=function(){var o=R.apply(Le,arguments);return o.length===0?ga(this):Mr(this,function(f,y){return y.indexOf(f)!==-1},o,"")},wt.prototype.startsWithAnyOfIgnoreCase=function(){var o=R.apply(Le,arguments);return o.length===0?ga(this):Mr(this,function(f,y){return y.some(function(m){return f.indexOf(m)===0})},o,ur)},wt.prototype.anyOf=function(){var o=this,f=R.apply(Le,arguments),y=this._cmp;try{f.sort(y)}catch{return hn(this,Bn)}if(f.length===0)return ga(this);var m=new this.Collection(this,function(){return qn(f[0],f[f.length-1])});m._ondirectionchange=function(E){y=E==="next"?o._ascending:o._descending,f.sort(y)};var w=0;return m._addAlgorithm(function(E,j,D){for(var N=E.key;0<y(N,f[w]);)if(++w===f.length)return j(D),!1;return y(N,f[w])===0||(j(function(){E.continue(f[w])}),!1)}),m},wt.prototype.notEqual=function(o){return this.inAnyRange([[-1/0,o],[o,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},wt.prototype.noneOf=function(){var o=R.apply(Le,arguments);if(o.length===0)return new this.Collection(this);try{o.sort(this._ascending)}catch{return hn(this,Bn)}var f=o.reduce(function(y,m){return y?y.concat([[y[y.length-1][1],m]]):[[-1/0,m]]},null);return f.push([o[o.length-1],this.db._maxKey]),this.inAnyRange(f,{includeLowers:!1,includeUppers:!1})},wt.prototype.inAnyRange=function(J,f){var y=this,m=this._cmp,w=this._ascending,E=this._descending,j=this._min,D=this._max;if(J.length===0)return ga(this);if(!J.every(function(W){return W[0]!==void 0&&W[1]!==void 0&&w(W[0],W[1])<=0}))return hn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ze.InvalidArgument);var N=!f||f.includeLowers!==!1,B=f&&f.includeUppers===!0,H,C=w;function Y(W,F){return C(W[0],F[0])}try{(H=J.reduce(function(W,F){for(var re=0,ye=W.length;re<ye;++re){var ge=W[re];if(m(F[0],ge[1])<0&&0<m(F[1],ge[0])){ge[0]=j(ge[0],F[0]),ge[1]=D(ge[1],F[1]);break}}return re===ye&&W.push(F),W},[])).sort(Y)}catch{return hn(this,Bn)}var M=0,K=B?function(W){return 0<w(W,H[M][1])}:function(W){return 0<=w(W,H[M][1])},V=N?function(W){return 0<E(W,H[M][0])}:function(W){return 0<=E(W,H[M][0])},q=K,J=new this.Collection(this,function(){return qn(H[0][0],H[H.length-1][1],!N,!B)});return J._ondirectionchange=function(W){C=W==="next"?(q=K,w):(q=V,E),H.sort(Y)},J._addAlgorithm(function(W,F,re){for(var ye,ge=W.key;q(ge);)if(++M===H.length)return F(re),!1;return!K(ye=ge)&&!V(ye)||(y._cmp(ge,H[M][1])===0||y._cmp(ge,H[M][0])===0||F(function(){C===w?W.continue(H[M][0]):W.continue(H[M][1])}),!1)}),J},wt.prototype.startsWithAnyOf=function(){var o=R.apply(Le,arguments);return o.every(function(f){return typeof f=="string"})?o.length===0?ga(this):this.inAnyRange(o.map(function(f){return[f,f+ur]})):hn(this,"startsWithAnyOf() only works with strings")},wt);function wt(){}function En(o){return We(function(f){return zr(f),o(f.target.error),!1})}function zr(o){o.stopPropagation&&o.stopPropagation(),o.preventDefault&&o.preventDefault()}var _a="storagemutated",Br="x-storagemutated-1",Xt=or(null,_a),el=(un.prototype._lock=function(){return _e(!Ne.global),++this._reculock,this._reculock!==1||Ne.global||(Ne.lockOwnerFor=this),this},un.prototype._unlock=function(){if(_e(!Ne.global),--this._reculock==0)for(Ne.global||(Ne.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var o=this._blockedFuncs.shift();try{rr(o[1],o[0])}catch{}}return this},un.prototype._locked=function(){return this._reculock&&Ne.lockOwnerFor!==this},un.prototype.create=function(o){var f=this;if(!this.mode)return this;var y=this.db.idbdb,m=this.db._state.dbOpenError;if(_e(!this.idbtrans),!o&&!y)switch(m&&m.name){case"DatabaseClosedError":throw new ze.DatabaseClosed(m);case"MissingAPIError":throw new ze.MissingAPI(m.message,m);default:throw new ze.OpenFailed(m)}if(!this.active)throw new ze.TransactionInactive;return _e(this._completion._state===null),(o=this.idbtrans=o||(this.db.core||y).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=We(function(w){zr(w),f._reject(o.error)}),o.onabort=We(function(w){zr(w),f.active&&f._reject(new ze.Abort(o.error)),f.active=!1,f.on("abort").fire(w)}),o.oncomplete=We(function(){f.active=!1,f._resolve(),"mutatedParts"in o&&Xt.storagemutated.fire(o.mutatedParts)}),this},un.prototype._promise=function(o,f,y){var m=this;if(o==="readwrite"&&this.mode!=="readwrite")return Ot(new ze.ReadOnly("Transaction is readonly"));if(!this.active)return Ot(new ze.TransactionInactive);if(this._locked())return new Te(function(E,j){m._blockedFuncs.push([function(){m._promise(o,f,y).then(E,j)},Ne])});if(y)return zn(function(){var E=new Te(function(j,D){m._lock();var N=f(j,D,m);N&&N.then&&N.then(j,D)});return E.finally(function(){return m._unlock()}),E._lib=!0,E});var w=new Te(function(E,j){var D=f(E,j,m);D&&D.then&&D.then(E,j)});return w._lib=!0,w},un.prototype._root=function(){return this.parent?this.parent._root():this},un.prototype.waitFor=function(o){var f,y=this._root(),m=Te.resolve(o);y._waitingFor?y._waitingFor=y._waitingFor.then(function(){return m}):(y._waitingFor=m,y._waitingQueue=[],f=y.idbtrans.objectStore(y.storeNames[0]),function E(){for(++y._spinCount;y._waitingQueue.length;)y._waitingQueue.shift()();y._waitingFor&&(f.get(-1/0).onsuccess=E)}());var w=y._waitingFor;return new Te(function(E,j){m.then(function(D){return y._waitingQueue.push(We(E.bind(null,D)))},function(D){return y._waitingQueue.push(We(j.bind(null,D)))}).finally(function(){y._waitingFor===w&&(y._waitingFor=null)})})},un.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new ze.Abort))},un.prototype.table=function(o){var f=this._memoizedTables||(this._memoizedTables={});if(A(f,o))return f[o];var y=this.schema[o];if(!y)throw new ze.NotFound("Table "+o+" not part of transaction");return y=new this.db.Table(o,y,this),y.core=this.db.core.table(o),f[o]=y},un);function un(){}function Kn(o,f,y,m,w,E,j){return{name:o,keyPath:f,unique:y,multi:m,auto:w,compound:E,src:(y&&!j?"&":"")+(m?"*":"")+(w?"++":"")+Bi(f)}}function Bi(o){return typeof o=="string"?o:o?"["+[].join.call(o,"+")+"]":""}function Sa(o,f,y){return{name:o,primKey:f,indexes:y,mappedClass:null,idxByName:(m=function(w){return[w.name,w]},y.reduce(function(w,E,j){return j=m(E,j),j&&(w[j[0]]=j[1]),w},{}))};var m}var wa=function(o){try{return o.only([[]]),wa=function(){return[[]]},[[]]}catch{return wa=function(){return ur},ur}};function Ea(o){return o==null?function(){}:typeof o=="string"?(f=o).split(".").length===1?function(y){return y[f]}:function(y){return ce(y,f)}:function(y){return ce(y,o)};var f}function ai(o){return[].slice.call(o)}var xo=0;function Nt(o){return o==null?":id":typeof o=="string"?o:"[".concat(o.join("+"),"]")}function qr(o,f,N){function m(q){if(q.type===3)return null;if(q.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var M=q.lower,K=q.upper,V=q.lowerOpen,q=q.upperOpen;return M===void 0?K===void 0?null:f.upperBound(K,!!q):K===void 0?f.lowerBound(M,!!V):f.bound(M,K,!!V,!!q)}function w(Y){var M,K=Y.name;return{name:K,schema:Y,mutate:function(V){var q=V.trans,J=V.type,W=V.keys,F=V.values,re=V.range;return new Promise(function(ye,ge){ye=We(ye);var fe=q.objectStore(K),ve=fe.keyPath==null,Oe=J==="put"||J==="add";if(!Oe&&J!=="delete"&&J!=="deleteRange")throw new Error("Invalid operation type: "+J);var de,De=(W||F||{length:1}).length;if(W&&F&&W.length!==F.length)throw new Error("Given keys array must have same length as given values array.");if(De===0)return ye({numFailures:0,failures:{},results:[],lastResult:void 0});function Ke(It){++Ft,zr(It)}var Ge=[],Je=[],Ft=0;if(J==="deleteRange"){if(re.type===4)return ye({numFailures:Ft,failures:Je,results:[],lastResult:void 0});re.type===3?Ge.push(de=fe.clear()):Ge.push(de=fe.delete(m(re)))}else{var ve=Oe?ve?[F,W]:[F,null]:[W,null],Xe=ve[0],Ct=ve[1];if(Oe)for(var zt=0;zt<De;++zt)Ge.push(de=Ct&&Ct[zt]!==void 0?fe[J](Xe[zt],Ct[zt]):fe[J](Xe[zt])),de.onerror=Ke;else for(zt=0;zt<De;++zt)Ge.push(de=fe[J](Xe[zt])),de.onerror=Ke}function $n(It){It=It.target.result,Ge.forEach(function(Ln,dr){return Ln.error!=null&&(Je[dr]=Ln.error)}),ye({numFailures:Ft,failures:Je,results:J==="delete"?W:Ge.map(function(Ln){return Ln.result}),lastResult:It})}de.onerror=function(It){Ke(It),$n(It)},de.onsuccess=$n})},getMany:function(V){var q=V.trans,J=V.keys;return new Promise(function(W,F){W=We(W);for(var re,ye=q.objectStore(K),ge=J.length,fe=new Array(ge),ve=0,Oe=0,de=function(Ge){Ge=Ge.target,fe[Ge._pos]=Ge.result,++Oe===ve&&W(fe)},De=En(F),Ke=0;Ke<ge;++Ke)J[Ke]!=null&&((re=ye.get(J[Ke]))._pos=Ke,re.onsuccess=de,re.onerror=De,++ve);ve===0&&W(fe)})},get:function(V){var q=V.trans,J=V.key;return new Promise(function(W,F){W=We(W);var re=q.objectStore(K).get(J);re.onsuccess=function(ye){return W(ye.target.result)},re.onerror=En(F)})},query:(M=B,function(V){return new Promise(function(q,J){q=We(q);var W,F,re,ve=V.trans,ye=V.values,ge=V.limit,de=V.query,fe=ge===1/0?void 0:ge,Oe=de.index,de=de.range,ve=ve.objectStore(K),Oe=Oe.isPrimaryKey?ve:ve.index(Oe.name),de=m(de);if(ge===0)return q({result:[]});M?((fe=ye?Oe.getAll(de,fe):Oe.getAllKeys(de,fe)).onsuccess=function(De){return q({result:De.target.result})},fe.onerror=En(J)):(W=0,F=!ye&&"openKeyCursor"in Oe?Oe.openKeyCursor(de):Oe.openCursor(de),re=[],F.onsuccess=function(De){var Ke=F.result;return Ke?(re.push(ye?Ke.value:Ke.primaryKey),++W===ge?q({result:re}):void Ke.continue()):q({result:re})},F.onerror=En(J))})}),openCursor:function(V){var q=V.trans,J=V.values,W=V.query,F=V.reverse,re=V.unique;return new Promise(function(ye,ge){ye=We(ye);var Oe=W.index,fe=W.range,ve=q.objectStore(K),ve=Oe.isPrimaryKey?ve:ve.index(Oe.name),Oe=F?re?"prevunique":"prev":re?"nextunique":"next",de=!J&&"openKeyCursor"in ve?ve.openKeyCursor(m(fe),Oe):ve.openCursor(m(fe),Oe);de.onerror=En(ge),de.onsuccess=We(function(De){var Ke,Ge,Je,Ft,Xe=de.result;Xe?(Xe.___id=++xo,Xe.done=!1,Ke=Xe.continue.bind(Xe),Ge=(Ge=Xe.continuePrimaryKey)&&Ge.bind(Xe),Je=Xe.advance.bind(Xe),Ft=function(){throw new Error("Cursor not stopped")},Xe.trans=q,Xe.stop=Xe.continue=Xe.continuePrimaryKey=Xe.advance=function(){throw new Error("Cursor not started")},Xe.fail=We(ge),Xe.next=function(){var Ct=this,zt=1;return this.start(function(){return zt--?Ct.continue():Ct.stop()}).then(function(){return Ct})},Xe.start=function(Ct){function zt(){if(de.result)try{Ct()}catch(It){Xe.fail(It)}else Xe.done=!0,Xe.start=function(){throw new Error("Cursor behind last entry")},Xe.stop()}var $n=new Promise(function(It,Ln){It=We(It),de.onerror=En(Ln),Xe.fail=Ln,Xe.stop=function(dr){Xe.stop=Xe.continue=Xe.continuePrimaryKey=Xe.advance=Ft,It(dr)}});return de.onsuccess=We(function(It){de.onsuccess=zt,zt()}),Xe.continue=Ke,Xe.continuePrimaryKey=Ge,Xe.advance=Je,zt(),$n},ye(Xe)):ye(null)},ge)})},count:function(V){var q=V.query,J=V.trans,W=q.index,F=q.range;return new Promise(function(re,ye){var ge=J.objectStore(K),fe=W.isPrimaryKey?ge:ge.index(W.name),ge=m(F),fe=ge?fe.count(ge):fe.count();fe.onsuccess=We(function(ve){return re(ve.target.result)}),fe.onerror=En(ye)})}}}var E,j,D,H=(j=N,D=ai((E=o).objectStoreNames),{schema:{name:E.name,tables:D.map(function(Y){return j.objectStore(Y)}).map(function(Y){var M=Y.keyPath,q=Y.autoIncrement,K=g(M),V={},q={name:Y.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:M==null,compound:K,keyPath:M,autoIncrement:q,unique:!0,extractKey:Ea(M)},indexes:ai(Y.indexNames).map(function(J){return Y.index(J)}).map(function(re){var W=re.name,F=re.unique,ye=re.multiEntry,re=re.keyPath,ye={name:W,compound:g(re),keyPath:re,unique:F,multiEntry:ye,extractKey:Ea(re)};return V[Nt(re)]=ye}),getIndexByKeyPath:function(J){return V[Nt(J)]}};return V[":id"]=q.primaryKey,M!=null&&(V[Nt(M)]=q.primaryKey),q})},hasGetAll:0<D.length&&"getAll"in j.objectStore(D[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),N=H.schema,B=H.hasGetAll,H=N.tables.map(w),C={};return H.forEach(function(Y){return C[Y.name]=Y}),{stack:"dbcore",transaction:o.transaction.bind(o),table:function(Y){if(!C[Y])throw new Error("Table '".concat(Y,"' not found"));return C[Y]},MIN_KEY:-1/0,MAX_KEY:wa(f),schema:N}}function qi(o,f,y,m){var w=y.IDBKeyRange;return y.indexedDB,{dbcore:(m=qr(f,w,m),o.dbcore.reduce(function(E,j){return j=j.create,l(l({},E),j(E))},m))}}function cr(o,m){var y=m.db,m=qi(o._middlewares,y,o._deps,m);o.core=m.dbcore,o.tables.forEach(function(w){var E=w.name;o.core.schema.tables.some(function(j){return j.name===E})&&(w.core=o.core.table(E),o[E]instanceof o.Table&&(o[E].core=w.core))})}function Ki(o,f,y,m){y.forEach(function(w){var E=m[w];f.forEach(function(j){var D=function N(B,H){return ne(B,H)||(B=b(B))&&N(B,H)}(j,w);(!D||"value"in D&&D.value===void 0)&&(j===o.Transaction.prototype||j instanceof o.Transaction?k(j,w,{get:function(){return this.table(w)},set:function(N){T(this,w,{value:N,writable:!0,configurable:!0,enumerable:!0})}}):j[w]=new o.Table(w,E))})})}function ii(o,f){f.forEach(function(y){for(var m in y)y[m]instanceof o.Table&&delete y[m]})}function tl(o,f){return o._cfg.version-f._cfg.version}function ui(o,f,y,m){var w=o._dbSchema;y.objectStoreNames.contains("$meta")&&!w.$meta&&(w.$meta=Sa("$meta",Ao("")[0],[]),o._storeNames.push("$meta"));var E=o._createTransaction("readwrite",o._storeNames,w);E.create(y),E._completion.catch(m);var j=E._reject.bind(E),D=Ne.transless||Ne;zn(function(){return Ne.trans=E,Ne.transless=D,f!==0?(cr(o,y),B=f,((N=E).storeNames.includes("$meta")?N.table("$meta").get("version").then(function(H){return H??B}):Te.resolve(B)).then(function(H){return Y=H,M=E,K=y,V=[],H=(C=o)._versions,q=C._dbSchema=xa(0,C.idbdb,K),(H=H.filter(function(J){return J._cfg.version>=Y})).length!==0?(H.forEach(function(J){V.push(function(){var W=q,F=J._cfg.dbschema;Gi(C,W,K),Gi(C,F,K),q=C._dbSchema=F;var re=Li(W,F);re.add.forEach(function(Oe){nl(K,Oe[0],Oe[1].primKey,Oe[1].indexes)}),re.change.forEach(function(Oe){if(Oe.recreate)throw new ze.Upgrade("Not yet support for changing primary key");var de=K.objectStore(Oe.name);Oe.add.forEach(function(De){return Yi(de,De)}),Oe.change.forEach(function(De){de.deleteIndex(De.name),Yi(de,De)}),Oe.del.forEach(function(De){return de.deleteIndex(De)})});var ye=J._cfg.contentUpgrade;if(ye&&J._cfg.version>Y){cr(C,K),M._memoizedTables={};var ge=te(F);re.del.forEach(function(Oe){ge[Oe]=W[Oe]}),ii(C,[C.Transaction.prototype]),Ki(C,[C.Transaction.prototype],p(ge),ge),M.schema=ge;var fe,ve=ie(ye);return ve&&Sn(),re=Te.follow(function(){var Oe;(fe=ye(M))&&ve&&(Oe=fn.bind(null,null),fe.then(Oe,Oe))}),fe&&typeof fe.then=="function"?Te.resolve(fe):re.then(function(){return fe})}}),V.push(function(W){var F,re,ye=J._cfg.dbschema;F=ye,re=W,[].slice.call(re.db.objectStoreNames).forEach(function(ge){return F[ge]==null&&re.db.deleteObjectStore(ge)}),ii(C,[C.Transaction.prototype]),Ki(C,[C.Transaction.prototype],C._storeNames,C._dbSchema),M.schema=C._dbSchema}),V.push(function(W){C.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(C.idbdb.version/10)===J._cfg.version?(C.idbdb.deleteObjectStore("$meta"),delete C._dbSchema.$meta,C._storeNames=C._storeNames.filter(function(F){return F!=="$meta"})):W.objectStore("$meta").put(J._cfg.version,"version"))})}),function J(){return V.length?Te.resolve(V.shift()(M.idbtrans)).then(J):Te.resolve()}().then(function(){Oo(q,K)})):Te.resolve();var C,Y,M,K,V,q}).catch(j)):(p(w).forEach(function(H){nl(y,H,w[H].primKey,w[H].indexes)}),cr(o,y),void Te.follow(function(){return o.on.populate.fire(E)}).catch(j));var N,B})}function Hi(o,f){Oo(o._dbSchema,f),f.db.version%10!=0||f.objectStoreNames.contains("$meta")||f.db.createObjectStore("$meta").add(Math.ceil(f.db.version/10-1),"version");var y=xa(0,o.idbdb,f);Gi(o,o._dbSchema,f);for(var m=0,w=Li(y,o._dbSchema).change;m<w.length;m++){var E=function(j){if(j.change.length||j.recreate)return console.warn("Unable to patch indexes of table ".concat(j.name," because it has changes on the type of index or primary key.")),{value:void 0};var D=f.objectStore(j.name);j.add.forEach(function(N){sn&&console.debug("Dexie upgrade patch: Creating missing index ".concat(j.name,".").concat(N.src)),Yi(D,N)})}(w[m]);if(typeof E=="object")return E.value}}function Li(o,f){var y,m={del:[],add:[],change:[]};for(y in o)f[y]||m.del.push(y);for(y in f){var w=o[y],E=f[y];if(w){var j={name:y,def:E,recreate:!1,del:[],add:[],change:[]};if(""+(w.primKey.keyPath||"")!=""+(E.primKey.keyPath||"")||w.primKey.auto!==E.primKey.auto)j.recreate=!0,m.change.push(j);else{var D=w.idxByName,N=E.idxByName,B=void 0;for(B in D)N[B]||j.del.push(B);for(B in N){var H=D[B],C=N[B];H?H.src!==C.src&&j.change.push(C):j.add.push(C)}(0<j.del.length||0<j.add.length||0<j.change.length)&&m.change.push(j)}}else m.add.push([y,E])}return m}function nl(o,f,y,m){var w=o.db.createObjectStore(f,y.keyPath?{keyPath:y.keyPath,autoIncrement:y.auto}:{autoIncrement:y.auto});return m.forEach(function(E){return Yi(w,E)}),w}function Oo(o,f){p(o).forEach(function(y){f.db.objectStoreNames.contains(y)||(sn&&console.debug("Dexie: Creating missing table",y),nl(f,y,o[y].primKey,o[y].indexes))})}function Yi(o,f){o.createIndex(f.name,f.keyPath,{unique:f.unique,multiEntry:f.multi})}function xa(o,f,y){var m={};return me(f.objectStoreNames,0).forEach(function(w){for(var E=y.objectStore(w),j=Kn(Bi(B=E.keyPath),B||"",!0,!1,!!E.autoIncrement,B&&typeof B!="string",!0),D=[],N=0;N<E.indexNames.length;++N){var H=E.index(E.indexNames[N]),B=H.keyPath,H=Kn(H.name,B,!!H.unique,!!H.multiEntry,!1,B&&typeof B!="string",!1);D.push(H)}m[w]=Sa(w,j,D)}),m}function Gi(o,f,y){for(var m=y.db.objectStoreNames,w=0;w<m.length;++w){var E=m[w],j=y.objectStore(E);o._hasGetAll="getAll"in j;for(var D=0;D<j.indexNames.length;++D){var N=j.indexNames[D],B=j.index(N).keyPath,H=typeof B=="string"?B:"["+me(B).join("+")+"]";!f[E]||(B=f[E].idxByName[H])&&(B.name=N,delete f[E].idxByName[H],f[E].idxByName[N]=B)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&h.WorkerGlobalScope&&h instanceof h.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(o._hasGetAll=!1)}function Ao(o){return o.split(",").map(function(f,y){var m=(f=f.trim()).replace(/([&*]|\+\+)/g,""),w=/^\[/.test(m)?m.match(/^\[(.*)\]$/)[1].split("+"):m;return Kn(m,w||null,/\&/.test(f),/\*/.test(f),/\+\+/.test(f),g(w),y===0)})}var hs=(Vi.prototype._parseStoresSpec=function(o,f){p(o).forEach(function(y){if(o[y]!==null){var m=Ao(o[y]),w=m.shift();if(w.unique=!0,w.multi)throw new ze.Schema("Primary key cannot be multi-valued");m.forEach(function(E){if(E.auto)throw new ze.Schema("Only primary key can be marked as autoIncrement (++)");if(!E.keyPath)throw new ze.Schema("Index must have a name and cannot be an empty string")}),f[y]=Sa(y,w,m)}})},Vi.prototype.stores=function(y){var f=this.db;this._cfg.storesSource=this._cfg.storesSource?S(this._cfg.storesSource,y):y;var y=f._versions,m={},w={};return y.forEach(function(E){S(m,E._cfg.storesSource),w=E._cfg.dbschema={},E._parseStoresSpec(m,w)}),f._dbSchema=w,ii(f,[f._allTables,f,f.Transaction.prototype]),Ki(f,[f._allTables,f,f.Transaction.prototype,this._cfg.tables],p(w),w),f._storeNames=p(w),this},Vi.prototype.upgrade=function(o){return this._cfg.contentUpgrade=Di(this._cfg.contentUpgrade||ut,o),this},Vi);function Vi(){}function rl(o,f){var y=o._dbNamesDB;return y||(y=o._dbNamesDB=new Hn(Rr,{addons:[],indexedDB:o,IDBKeyRange:f})).version(1).stores({dbnames:"name"}),y.table("dbnames")}function Qi(o){return o&&typeof o.databases=="function"}function al(o){return zn(function(){return Ne.letThrough=!0,o()})}function il(o){return!("from"in o)}var Zt=function(o,f){if(!this){var y=new Zt;return o&&"d"in o&&S(y,o),y}S(this,arguments.length?{d:1,from:o,to:1<arguments.length?f:o}:{d:0})};function li(o,f,y){var m=tt(f,y);if(!isNaN(m)){if(0<m)throw RangeError();if(il(o))return S(o,{from:f,to:y,d:1});var w=o.l,m=o.r;if(tt(y,o.from)<0)return w?li(w,f,y):o.l={from:f,to:y,d:1,l:null,r:null},jo(o);if(0<tt(f,o.to))return m?li(m,f,y):o.r={from:f,to:y,d:1,l:null,r:null},jo(o);tt(f,o.from)<0&&(o.from=f,o.l=null,o.d=m?m.d+1:1),0<tt(y,o.to)&&(o.to=y,o.r=null,o.d=o.l?o.l.d+1:1),y=!o.r,w&&!o.l&&Kr(o,w),m&&y&&Kr(o,m)}}function Kr(o,f){il(f)||function y(m,N){var E=N.from,j=N.to,D=N.l,N=N.r;li(m,E,j),D&&y(m,D),N&&y(m,N)}(o,f)}function To(o,f){var y=Xi(f),m=y.next();if(m.done)return!1;for(var w=m.value,E=Xi(o),j=E.next(w.from),D=j.value;!m.done&&!j.done;){if(tt(D.from,w.to)<=0&&0<=tt(D.to,w.from))return!0;tt(w.from,D.from)<0?w=(m=y.next(D.from)).value:D=(j=E.next(w.from)).value}return!1}function Xi(o){var f=il(o)?null:{s:0,n:o};return{next:function(y){for(var m=0<arguments.length;f;)switch(f.s){case 0:if(f.s=1,m)for(;f.n.l&&tt(y,f.n.from)<0;)f={up:f,n:f.n.l,s:1};else for(;f.n.l;)f={up:f,n:f.n.l,s:1};case 1:if(f.s=2,!m||tt(y,f.n.to)<=0)return{value:f.n,done:!1};case 2:if(f.n.r){f.s=3,f={up:f,n:f.n.r,s:0};continue}case 3:f=f.up}return{done:!0}}}}function jo(o){var f,y,m=(((f=o.r)===null||f===void 0?void 0:f.d)||0)-(((y=o.l)===null||y===void 0?void 0:y.d)||0),w=1<m?"r":m<-1?"l":"";w&&(f=w=="r"?"l":"r",y=l({},o),m=o[w],o.from=m.from,o.to=m.to,o[w]=m[w],y[w]=m[f],(o[f]=y).d=ul(y)),o.d=ul(o)}function ul(y){var f=y.r,y=y.l;return(f?y?Math.max(f.d,y.d):f.d:y?y.d:0)+1}function Zi(o,f){return p(f).forEach(function(y){o[y]?Kr(o[y],f[y]):o[y]=function m(w){var E,j,D={};for(E in w)A(w,E)&&(j=w[E],D[E]=!j||typeof j!="object"||Ae.has(j.constructor)?j:m(j));return D}(f[y])}),o}function ll(o,f){return o.all||f.all||Object.keys(o).some(function(y){return f[y]&&To(f[y],o[y])})}O(Zt.prototype,((yn={add:function(o){return Kr(this,o),this},addKey:function(o){return li(this,o,o),this},addKeys:function(o){var f=this;return o.forEach(function(y){return li(f,y,y)}),this},hasKey:function(o){var f=Xi(this).next(o).value;return f&&tt(f.from,o)<=0&&0<=tt(f.to,o)}})[I]=function(){return Xi(this)},yn));var Hr={},ol={},cl=!1;function Ii(o){Zi(ol,o),cl||(cl=!0,setTimeout(function(){cl=!1,sl(ol,!(ol={}))},0))}function sl(o,f){f===void 0&&(f=!1);var y=new Set;if(o.all)for(var m=0,w=Object.values(Hr);m<w.length;m++)Do(j=w[m],o,y,f);else for(var E in o){var j,D=/^idb\:\/\/(.*)\/(.*)\//.exec(E);D&&(E=D[1],D=D[2],(j=Hr["idb://".concat(E,"/").concat(D)])&&Do(j,o,y,f))}y.forEach(function(N){return N()})}function Do(o,f,y,m){for(var w=[],E=0,j=Object.entries(o.queries.query);E<j.length;E++){for(var D=j[E],N=D[0],B=[],H=0,C=D[1];H<C.length;H++){var Y=C[H];ll(f,Y.obsSet)?Y.subscribers.forEach(function(q){return y.add(q)}):m&&B.push(Y)}m&&w.push([N,B])}if(m)for(var M=0,K=w;M<K.length;M++){var V=K[M],N=V[0],B=V[1];o.queries.query[N]=B}}function ys(o){var f=o._state,y=o._deps.indexedDB;if(f.isBeingOpened||o.idbdb)return f.dbReadyPromise.then(function(){return f.dbOpenError?Ot(f.dbOpenError):o});f.isBeingOpened=!0,f.dbOpenError=null,f.openComplete=!1;var m=f.openCanceller,w=Math.round(10*o.verno),E=!1;function j(){if(f.openCanceller!==m)throw new ze.DatabaseClosed("db.open() was cancelled")}function D(){return new Te(function(Y,M){if(j(),!y)throw new ze.MissingAPI;var K=o.name,V=f.autoSchema||!w?y.open(K):y.open(K,w);if(!V)throw new ze.MissingAPI;V.onerror=En(M),V.onblocked=We(o._fireOnBlocked),V.onupgradeneeded=We(function(q){var J;H=V.transaction,f.autoSchema&&!o._options.allowEmptyDB?(V.onerror=zr,H.abort(),V.result.close(),(J=y.deleteDatabase(K)).onsuccess=J.onerror=We(function(){M(new ze.NoSuchDatabase("Database ".concat(K," doesnt exist")))})):(H.onerror=En(M),q=q.oldVersion>Math.pow(2,62)?0:q.oldVersion,C=q<1,o.idbdb=V.result,E&&Hi(o,H),ui(o,q/10,H,M))},M),V.onsuccess=We(function(){H=null;var q,J,W,F,re,ye=o.idbdb=V.result,ge=me(ye.objectStoreNames);if(0<ge.length)try{var fe=ye.transaction((F=ge).length===1?F[0]:F,"readonly");if(f.autoSchema)J=ye,W=fe,(q=o).verno=J.version/10,W=q._dbSchema=xa(0,J,W),q._storeNames=me(J.objectStoreNames,0),Ki(q,[q._allTables],p(W),W);else if(Gi(o,o._dbSchema,fe),((re=Li(xa(0,(re=o).idbdb,fe),re._dbSchema)).add.length||re.change.some(function(ve){return ve.add.length||ve.change.length}))&&!E)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),ye.close(),w=ye.version+1,E=!0,Y(D());cr(o,fe)}catch{}In.push(o),ye.onversionchange=We(function(ve){f.vcFired=!0,o.on("versionchange").fire(ve)}),ye.onclose=We(function(ve){o.on("close").fire(ve)}),C&&(re=o._deps,fe=K,ye=re.indexedDB,re=re.IDBKeyRange,Qi(ye)||fe===Rr||rl(ye,re).put({name:fe}).catch(ut)),Y()},M)}).catch(function(Y){switch(Y?.name){case"UnknownError":if(0<f.PR1398_maxLoop)return f.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),D();break;case"VersionError":if(0<w)return w=0,D()}return Te.reject(Y)})}var N,B=f.dbReadyResolve,H=null,C=!1;return Te.race([m,(typeof navigator>"u"?Te.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(Y){function M(){return indexedDB.databases().finally(Y)}N=setInterval(M,100),M()}).finally(function(){return clearInterval(N)}):Promise.resolve()).then(D)]).then(function(){return j(),f.onReadyBeingFired=[],Te.resolve(al(function(){return o.on.ready.fire(o.vip)})).then(function Y(){if(0<f.onReadyBeingFired.length){var M=f.onReadyBeingFired.reduce(Di,ut);return f.onReadyBeingFired=[],Te.resolve(al(function(){return M(o.vip)})).then(Y)}})}).finally(function(){f.openCanceller===m&&(f.onReadyBeingFired=null,f.isBeingOpened=!1)}).catch(function(Y){f.dbOpenError=Y;try{H&&H.abort()}catch{}return m===f.openCanceller&&o._close(),Ot(Y)}).finally(function(){f.openComplete=!0,B()}).then(function(){var Y;return C&&(Y={},o.tables.forEach(function(M){M.schema.indexes.forEach(function(K){K.name&&(Y["idb://".concat(o.name,"/").concat(M.name,"/").concat(K.name)]=new Zt(-1/0,[[[]]]))}),Y["idb://".concat(o.name,"/").concat(M.name,"/")]=Y["idb://".concat(o.name,"/").concat(M.name,"/:dels")]=new Zt(-1/0,[[[]]])}),Xt(_a).fire(Y),sl(Y,!0)),o})}function oi(o){function f(E){return o.next(E)}var y=w(f),m=w(function(E){return o.throw(E)});function w(E){return function(N){var D=E(N),N=D.value;return D.done?N:N&&typeof N.then=="function"?N.then(y,m):g(N)?Promise.all(N).then(y,m):y(N)}}return w(f)()}function sr(o,f,y){for(var m=g(o)?o.slice():[o],w=0;w<y;++w)m.push(f);return m}var vs={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(o){return l(l({},o),{table:function(f){var y=o.table(f),m=y.schema,w={},E=[];function j(C,Y,M){var K=Nt(C),V=w[K]=w[K]||[],q=C==null?0:typeof C=="string"?1:C.length,J=0<Y,J=l(l({},M),{name:J?"".concat(K,"(virtual-from:").concat(M.name,")"):M.name,lowLevelIndex:M,isVirtual:J,keyTail:Y,keyLength:q,extractKey:Ea(C),unique:!J&&M.unique});return V.push(J),J.isPrimaryKey||E.push(J),1<q&&j(q===2?C[0]:C.slice(0,q-1),Y+1,M),V.sort(function(W,F){return W.keyTail-F.keyTail}),J}f=j(m.primaryKey.keyPath,0,m.primaryKey),w[":id"]=[f];for(var D=0,N=m.indexes;D<N.length;D++){var B=N[D];j(B.keyPath,0,B)}function H(C){var Y,M=C.query.index;return M.isVirtual?l(l({},C),{query:{index:M.lowLevelIndex,range:(Y=C.query.range,M=M.keyTail,{type:Y.type===1?2:Y.type,lower:sr(Y.lower,Y.lowerOpen?o.MAX_KEY:o.MIN_KEY,M),lowerOpen:!0,upper:sr(Y.upper,Y.upperOpen?o.MIN_KEY:o.MAX_KEY,M),upperOpen:!0})}}):C}return l(l({},y),{schema:l(l({},m),{primaryKey:f,indexes:E,getIndexByKeyPath:function(C){return(C=w[Nt(C)])&&C[0]}}),count:function(C){return y.count(H(C))},query:function(C){return y.query(H(C))},openCursor:function(C){var Y=C.query.index,M=Y.keyTail,K=Y.isVirtual,V=Y.keyLength;return K?y.openCursor(H(C)).then(function(J){return J&&q(J)}):y.openCursor(C);function q(J){return Object.create(J,{continue:{value:function(W){W!=null?J.continue(sr(W,C.reverse?o.MAX_KEY:o.MIN_KEY,M)):C.unique?J.continue(J.key.slice(0,V).concat(C.reverse?o.MIN_KEY:o.MAX_KEY,M)):J.continue()}},continuePrimaryKey:{value:function(W,F){J.continuePrimaryKey(sr(W,o.MAX_KEY,M),F)}},primaryKey:{get:function(){return J.primaryKey}},key:{get:function(){var W=J.key;return V===1?W[0]:W.slice(0,V)}},value:{get:function(){return J.value}}})}}})}})}};function Ji(o,f,y,m){return y=y||{},m=m||"",p(o).forEach(function(w){var E,j,D;A(f,w)?(E=o[w],j=f[w],typeof E=="object"&&typeof j=="object"&&E&&j?(D=Ce(E))!==Ce(j)?y[m+w]=f[w]:D==="Object"?Ji(E,j,y,m+w+"."):E!==j&&(y[m+w]=f[w]):E!==j&&(y[m+w]=f[w])):y[m+w]=void 0}),p(f).forEach(function(w){A(o,w)||(y[m+w]=f[w])}),y}function $i(o,f){return f.type==="delete"?f.keys:f.keys||f.values.map(o.extractKey)}var Uo={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(o){return l(l({},o),{table:function(f){var y=o.table(f),m=y.schema.primaryKey;return l(l({},y),{mutate:function(w){var E=Ne.trans,j=E.table(f).hook,D=j.deleting,N=j.creating,B=j.updating;switch(w.type){case"add":if(N.fire===ut)break;return E._promise("readwrite",function(){return H(w)},!0);case"put":if(N.fire===ut&&B.fire===ut)break;return E._promise("readwrite",function(){return H(w)},!0);case"delete":if(D.fire===ut)break;return E._promise("readwrite",function(){return H(w)},!0);case"deleteRange":if(D.fire===ut)break;return E._promise("readwrite",function(){return function C(Y,M,K){return y.query({trans:Y,values:!1,query:{index:m,range:M},limit:K}).then(function(V){var q=V.result;return H({type:"delete",keys:q,trans:Y}).then(function(J){return 0<J.numFailures?Promise.reject(J.failures[0]):q.length<K?{failures:[],numFailures:0,lastResult:void 0}:C(Y,l(l({},M),{lower:q[q.length-1],lowerOpen:!0}),K)})})}(w.trans,w.range,1e4)},!0)}return y.mutate(w);function H(C){var Y,M,K,V=Ne.trans,q=C.keys||$i(m,C);if(!q)throw new Error("Keys missing");return(C=C.type==="add"||C.type==="put"?l(l({},C),{keys:q}):l({},C)).type!=="delete"&&(C.values=s([],C.values)),C.keys&&(C.keys=s([],C.keys)),Y=y,K=q,((M=C).type==="add"?Promise.resolve([]):Y.getMany({trans:M.trans,keys:K,cache:"immutable"})).then(function(J){var W=q.map(function(F,re){var ye,ge,fe,ve=J[re],Oe={onerror:null,onsuccess:null};return C.type==="delete"?D.fire.call(Oe,F,ve,V):C.type==="add"||ve===void 0?(ye=N.fire.call(Oe,F,C.values[re],V),F==null&&ye!=null&&(C.keys[re]=F=ye,m.outbound||Ue(C.values[re],m.keyPath,F))):(ye=Ji(ve,C.values[re]),(ge=B.fire.call(Oe,ye,F,ve,V))&&(fe=C.values[re],Object.keys(ge).forEach(function(de){A(fe,de)?fe[de]=ge[de]:Ue(fe,de,ge[de])}))),Oe});return y.mutate(C).then(function(F){for(var re=F.failures,ye=F.results,ge=F.numFailures,F=F.lastResult,fe=0;fe<q.length;++fe){var ve=(ye||q)[fe],Oe=W[fe];ve==null?Oe.onerror&&Oe.onerror(re[fe]):Oe.onsuccess&&Oe.onsuccess(C.type==="put"&&J[fe]?C.values[fe]:ve)}return{failures:re,results:ye,numFailures:ge,lastResult:F}}).catch(function(F){return W.forEach(function(re){return re.onerror&&re.onerror(F)}),Promise.reject(F)})})}}})}})}};function fl(o,f,y){try{if(!f||f.keys.length<o.length)return null;for(var m=[],w=0,E=0;w<f.keys.length&&E<o.length;++w)tt(f.keys[w],o[E])===0&&(m.push(y?we(f.values[w]):f.values[w]),++E);return m.length===o.length?m:null}catch{return null}}var Ro={stack:"dbcore",level:-1,create:function(o){return{table:function(f){var y=o.table(f);return l(l({},y),{getMany:function(m){if(!m.cache)return y.getMany(m);var w=fl(m.keys,m.trans._cache,m.cache==="clone");return w?Te.resolve(w):y.getMany(m).then(function(E){return m.trans._cache={keys:m.keys,values:m.cache==="clone"?we(E):E},E})},mutate:function(m){return m.type!=="add"&&(m.trans._cache=null),y.mutate(m)}})}}}};function Lr(o,f){return o.trans.mode==="readonly"&&!!o.subscr&&!o.trans.explicit&&o.trans.db._options.cache!=="disabled"&&!f.schema.primaryKey.outbound}function Co(o,f){switch(o){case"query":return f.values&&!f.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var ps={stack:"dbcore",level:0,name:"Observability",create:function(o){var f=o.schema.name,y=new Zt(o.MIN_KEY,o.MAX_KEY);return l(l({},o),{transaction:function(m,w,E){if(Ne.subscr&&w!=="readonly")throw new ze.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Ne.querier));return o.transaction(m,w,E)},table:function(m){var w=o.table(m),E=w.schema,j=E.primaryKey,C=E.indexes,D=j.extractKey,N=j.outbound,B=j.autoIncrement&&C.filter(function(M){return M.compound&&M.keyPath.includes(j.keyPath)}),H=l(l({},w),{mutate:function(M){function K(de){return de="idb://".concat(f,"/").concat(m,"/").concat(de),F[de]||(F[de]=new Zt)}var V,q,J,W=M.trans,F=M.mutatedParts||(M.mutatedParts={}),re=K(""),ye=K(":dels"),ge=M.type,Oe=M.type==="deleteRange"?[M.range]:M.type==="delete"?[M.keys]:M.values.length<50?[$i(j,M).filter(function(de){return de}),M.values]:[],fe=Oe[0],ve=Oe[1],Oe=M.trans._cache;return g(fe)?(re.addKeys(fe),(Oe=ge==="delete"||fe.length===ve.length?fl(fe,Oe):null)||ye.addKeys(fe),(Oe||ve)&&(V=K,q=Oe,J=ve,E.indexes.forEach(function(de){var De=V(de.name||"");function Ke(Je){return Je!=null?de.extractKey(Je):null}function Ge(Je){return de.multiEntry&&g(Je)?Je.forEach(function(Ft){return De.addKey(Ft)}):De.addKey(Je)}(q||J).forEach(function(Je,Ct){var Xe=q&&Ke(q[Ct]),Ct=J&&Ke(J[Ct]);tt(Xe,Ct)!==0&&(Xe!=null&&Ge(Xe),Ct!=null&&Ge(Ct))})}))):fe?(ve={from:(ve=fe.lower)!==null&&ve!==void 0?ve:o.MIN_KEY,to:(ve=fe.upper)!==null&&ve!==void 0?ve:o.MAX_KEY},ye.add(ve),re.add(ve)):(re.add(y),ye.add(y),E.indexes.forEach(function(de){return K(de.name).add(y)})),w.mutate(M).then(function(de){return!fe||M.type!=="add"&&M.type!=="put"||(re.addKeys(de.results),B&&B.forEach(function(De){for(var Ke=M.values.map(function(Xe){return De.extractKey(Xe)}),Ge=De.keyPath.findIndex(function(Xe){return Xe===j.keyPath}),Je=0,Ft=de.results.length;Je<Ft;++Je)Ke[Je][Ge]=de.results[Je];K(De.name).addKeys(Ke)})),W.mutatedParts=Zi(W.mutatedParts||{},F),de})}}),C=function(K){var V=K.query,K=V.index,V=V.range;return[K,new Zt((K=V.lower)!==null&&K!==void 0?K:o.MIN_KEY,(V=V.upper)!==null&&V!==void 0?V:o.MAX_KEY)]},Y={get:function(M){return[j,new Zt(M.key)]},getMany:function(M){return[j,new Zt().addKeys(M.keys)]},count:C,query:C,openCursor:C};return p(Y).forEach(function(M){H[M]=function(K){var V=Ne.subscr,q=!!V,J=Lr(Ne,w)&&Co(M,K)?K.obsSet={}:V;if(q){var W=function(ve){return ve="idb://".concat(f,"/").concat(m,"/").concat(ve),J[ve]||(J[ve]=new Zt)},F=W(""),re=W(":dels"),V=Y[M](K),q=V[0],V=V[1];if((M==="query"&&q.isPrimaryKey&&!K.values?re:W(q.name||"")).add(V),!q.isPrimaryKey){if(M!=="count"){var ye=M==="query"&&N&&K.values&&w.query(l(l({},K),{values:!1}));return w[M].apply(this,arguments).then(function(ve){if(M==="query"){if(N&&K.values)return ye.then(function(Ke){return Ke=Ke.result,F.addKeys(Ke),ve});var Oe=K.values?ve.result.map(D):ve.result;(K.values?F:re).addKeys(Oe)}else if(M==="openCursor"){var de=ve,De=K.values;return de&&Object.create(de,{key:{get:function(){return re.addKey(de.primaryKey),de.key}},primaryKey:{get:function(){var Ke=de.primaryKey;return re.addKey(Ke),Ke}},value:{get:function(){return De&&F.addKey(de.primaryKey),de.value}}})}return ve})}re.add(y)}}return w[M].apply(this,arguments)}}),H}})}};function ko(o,f,y){if(y.numFailures===0)return f;if(f.type==="deleteRange")return null;var m=f.keys?f.keys.length:"values"in f&&f.values?f.values.length:1;return y.numFailures===m?null:(f=l({},f),g(f.keys)&&(f.keys=f.keys.filter(function(w,E){return!(E in y.failures)})),"values"in f&&g(f.values)&&(f.values=f.values.filter(function(w,E){return!(E in y.failures)})),f)}function Pi(o,f){return y=o,((m=f).lower===void 0||(m.lowerOpen?0<tt(y,m.lower):0<=tt(y,m.lower)))&&(o=o,(f=f).upper===void 0||(f.upperOpen?tt(o,f.upper)<0:tt(o,f.upper)<=0));var y,m}function dl(o,f,Y,m,w,E){if(!Y||Y.length===0)return o;var j=f.query.index,D=j.multiEntry,N=f.query.range,B=m.schema.primaryKey.extractKey,H=j.extractKey,C=(j.lowLevelIndex||j).extractKey,Y=Y.reduce(function(M,K){var V=M,q=[];if(K.type==="add"||K.type==="put")for(var J=new Zt,W=K.values.length-1;0<=W;--W){var F,re=K.values[W],ye=B(re);J.hasKey(ye)||(F=H(re),(D&&g(F)?F.some(function(de){return Pi(de,N)}):Pi(F,N))&&(J.addKey(ye),q.push(re)))}switch(K.type){case"add":var ge=new Zt().addKeys(f.values?M.map(function(De){return B(De)}):M),V=M.concat(f.values?q.filter(function(De){return De=B(De),!ge.hasKey(De)&&(ge.addKey(De),!0)}):q.map(function(De){return B(De)}).filter(function(De){return!ge.hasKey(De)&&(ge.addKey(De),!0)}));break;case"put":var fe=new Zt().addKeys(K.values.map(function(De){return B(De)}));V=M.filter(function(De){return!fe.hasKey(f.values?B(De):De)}).concat(f.values?q:q.map(function(De){return B(De)}));break;case"delete":var ve=new Zt().addKeys(K.keys);V=M.filter(function(De){return!ve.hasKey(f.values?B(De):De)});break;case"deleteRange":var Oe=K.range;V=M.filter(function(De){return!Pi(B(De),Oe)})}return V},o);return Y===o?o:(Y.sort(function(M,K){return tt(C(M),C(K))||tt(B(M),B(K))}),f.limit&&f.limit<1/0&&(Y.length>f.limit?Y.length=f.limit:o.length===f.limit&&Y.length<f.limit&&(w.dirty=!0)),E?Object.freeze(Y):Y)}function Oa(o,f){return tt(o.lower,f.lower)===0&&tt(o.upper,f.upper)===0&&!!o.lowerOpen==!!f.lowerOpen&&!!o.upperOpen==!!f.upperOpen}function ci(o,f){return function(y,m,w,E){if(y===void 0)return m!==void 0?-1:0;if(m===void 0)return 1;if((m=tt(y,m))===0){if(w&&E)return 0;if(w)return 1;if(E)return-1}return m}(o.lower,f.lower,o.lowerOpen,f.lowerOpen)<=0&&0<=function(y,m,w,E){if(y===void 0)return m!==void 0?1:0;if(m===void 0)return-1;if((m=tt(y,m))===0){if(w&&E)return 0;if(w)return-1;if(E)return 1}return m}(o.upper,f.upper,o.upperOpen,f.upperOpen)}function ms(o,f,y,m){o.subscribers.add(y),m.addEventListener("abort",function(){var w,E;o.subscribers.delete(y),o.subscribers.size===0&&(w=o,E=f,setTimeout(function(){w.subscribers.size===0&&je(E,w)},3e3))})}var Wi={stack:"dbcore",level:0,name:"Cache",create:function(o){var f=o.schema.name;return l(l({},o),{transaction:function(y,m,w){var E,j,D=o.transaction(y,m,w);return m==="readwrite"&&(j=(E=new AbortController).signal,w=function(N){return function(){if(E.abort(),m==="readwrite"){for(var B=new Set,H=0,C=y;H<C.length;H++){var Y=C[H],M=Hr["idb://".concat(f,"/").concat(Y)];if(M){var K=o.table(Y),V=M.optimisticOps.filter(function(De){return De.trans===D});if(D._explicit&&N&&D.mutatedParts)for(var q=0,J=Object.values(M.queries.query);q<J.length;q++)for(var W=0,F=(ge=J[q]).slice();W<F.length;W++)ll((fe=F[W]).obsSet,D.mutatedParts)&&(je(ge,fe),fe.subscribers.forEach(function(De){return B.add(De)}));else if(0<V.length){M.optimisticOps=M.optimisticOps.filter(function(De){return De.trans!==D});for(var re=0,ye=Object.values(M.queries.query);re<ye.length;re++)for(var ge,fe,ve,Oe=0,de=(ge=ye[re]).slice();Oe<de.length;Oe++)(fe=de[Oe]).res!=null&&D.mutatedParts&&(N&&!fe.dirty?(ve=Object.isFrozen(fe.res),ve=dl(fe.res,fe.req,V,K,fe,ve),fe.dirty?(je(ge,fe),fe.subscribers.forEach(function(De){return B.add(De)})):ve!==fe.res&&(fe.res=ve,fe.promise=Te.resolve({result:ve}))):(fe.dirty&&je(ge,fe),fe.subscribers.forEach(function(De){return B.add(De)})))}}}B.forEach(function(De){return De()})}}},D.addEventListener("abort",w(!1),{signal:j}),D.addEventListener("error",w(!1),{signal:j}),D.addEventListener("complete",w(!0),{signal:j})),D},table:function(y){var m=o.table(y),w=m.schema.primaryKey;return l(l({},m),{mutate:function(E){var j=Ne.trans;if(w.outbound||j.db._options.cache==="disabled"||j.explicit||j.idbtrans.mode!=="readwrite")return m.mutate(E);var D=Hr["idb://".concat(f,"/").concat(y)];return D?(j=m.mutate(E),E.type!=="add"&&E.type!=="put"||!(50<=E.values.length||$i(w,E).some(function(N){return N==null}))?(D.optimisticOps.push(E),E.mutatedParts&&Ii(E.mutatedParts),j.then(function(N){0<N.numFailures&&(je(D.optimisticOps,E),(N=ko(0,E,N))&&D.optimisticOps.push(N),E.mutatedParts&&Ii(E.mutatedParts))}),j.catch(function(){je(D.optimisticOps,E),E.mutatedParts&&Ii(E.mutatedParts)})):j.then(function(N){var B=ko(0,l(l({},E),{values:E.values.map(function(H,C){var Y;return N.failures[C]?H:(H=(Y=w.keyPath)!==null&&Y!==void 0&&Y.includes(".")?we(H):l({},H),Ue(H,w.keyPath,N.results[C]),H)})}),N);D.optimisticOps.push(B),queueMicrotask(function(){return E.mutatedParts&&Ii(E.mutatedParts)})}),j):m.mutate(E)},query:function(E){if(!Lr(Ne,m)||!Co("query",E))return m.query(E);var j=((B=Ne.trans)===null||B===void 0?void 0:B.db._options.cache)==="immutable",C=Ne,D=C.requery,N=C.signal,B=function(K,V,q,J){var W=Hr["idb://".concat(K,"/").concat(V)];if(!W)return[];if(!(V=W.queries[q]))return[null,!1,W,null];var F=V[(J.query?J.query.index.name:null)||""];if(!F)return[null,!1,W,null];switch(q){case"query":var re=F.find(function(ye){return ye.req.limit===J.limit&&ye.req.values===J.values&&Oa(ye.req.query.range,J.query.range)});return re?[re,!0,W,F]:[F.find(function(ye){return("limit"in ye.req?ye.req.limit:1/0)>=J.limit&&(!J.values||ye.req.values)&&ci(ye.req.query.range,J.query.range)}),!1,W,F];case"count":return re=F.find(function(ye){return Oa(ye.req.query.range,J.query.range)}),[re,!!re,W,F]}}(f,y,"query",E),H=B[0],C=B[1],Y=B[2],M=B[3];return H&&C?H.obsSet=E.obsSet:(C=m.query(E).then(function(K){var V=K.result;if(H&&(H.res=V),j){for(var q=0,J=V.length;q<J;++q)Object.freeze(V[q]);Object.freeze(V)}else K.result=we(V);return K}).catch(function(K){return M&&H&&je(M,H),Promise.reject(K)}),H={obsSet:E.obsSet,promise:C,subscribers:new Set,type:"query",req:E,dirty:!1},M?M.push(H):(M=[H],(Y=Y||(Hr["idb://".concat(f,"/").concat(y)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[E.query.index.name||""]=M)),ms(H,M,D,N),H.promise.then(function(K){return{result:dl(K.result,E,Y?.optimisticOps,m,H,j)}})}})}})}};function si(o,f){return new Proxy(o,{get:function(y,m,w){return m==="db"?f:Reflect.get(y,m,w)}})}var Hn=(Et.prototype.version=function(o){if(isNaN(o)||o<.1)throw new ze.Type("Given version is not a positive number");if(o=Math.round(10*o)/10,this.idbdb||this._state.isBeingOpened)throw new ze.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,o);var f=this._versions,y=f.filter(function(m){return m._cfg.version===o})[0];return y||(y=new this.Version(o),f.push(y),f.sort(tl),y.stores({}),this._state.autoSchema=!1,y)},Et.prototype._whenReady=function(o){var f=this;return this.idbdb&&(this._state.openComplete||Ne.letThrough||this._vip)?o():new Te(function(y,m){if(f._state.openComplete)return m(new ze.DatabaseClosed(f._state.dbOpenError));if(!f._state.isBeingOpened){if(!f._state.autoOpen)return void m(new ze.DatabaseClosed);f.open().catch(ut)}f._state.dbReadyPromise.then(y,m)}).then(o)},Et.prototype.use=function(o){var f=o.stack,y=o.create,m=o.level,w=o.name;return w&&this.unuse({stack:f,name:w}),o=this._middlewares[f]||(this._middlewares[f]=[]),o.push({stack:f,create:y,level:m??10,name:w}),o.sort(function(E,j){return E.level-j.level}),this},Et.prototype.unuse=function(o){var f=o.stack,y=o.name,m=o.create;return f&&this._middlewares[f]&&(this._middlewares[f]=this._middlewares[f].filter(function(w){return m?w.create!==m:!!y&&w.name!==y})),this},Et.prototype.open=function(){var o=this;return rr(rn,function(){return ys(o)})},Et.prototype._close=function(){var o=this._state,f=In.indexOf(this);if(0<=f&&In.splice(f,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}o.isBeingOpened||(o.dbReadyPromise=new Te(function(y){o.dbReadyResolve=y}),o.openCanceller=new Te(function(y,m){o.cancelOpen=m}))},Et.prototype.close=function(y){var f=(y===void 0?{disableAutoOpen:!0}:y).disableAutoOpen,y=this._state;f?(y.isBeingOpened&&y.cancelOpen(new ze.DatabaseClosed),this._close(),y.autoOpen=!1,y.dbOpenError=new ze.DatabaseClosed):(this._close(),y.autoOpen=this._options.autoOpen||y.isBeingOpened,y.openComplete=!1,y.dbOpenError=null)},Et.prototype.delete=function(o){var f=this;o===void 0&&(o={disableAutoOpen:!0});var y=0<arguments.length&&typeof arguments[0]!="object",m=this._state;return new Te(function(w,E){function j(){f.close(o);var D=f._deps.indexedDB.deleteDatabase(f.name);D.onsuccess=We(function(){var N,B,H;N=f._deps,B=f.name,H=N.indexedDB,N=N.IDBKeyRange,Qi(H)||B===Rr||rl(H,N).delete(B).catch(ut),w()}),D.onerror=En(E),D.onblocked=f._fireOnBlocked}if(y)throw new ze.InvalidArgument("Invalid closeOptions argument to db.delete()");m.isBeingOpened?m.dbReadyPromise.then(j):j()})},Et.prototype.backendDB=function(){return this.idbdb},Et.prototype.isOpen=function(){return this.idbdb!==null},Et.prototype.hasBeenClosed=function(){var o=this._state.dbOpenError;return o&&o.name==="DatabaseClosed"},Et.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Et.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Et.prototype,"tables",{get:function(){var o=this;return p(this._allTables).map(function(f){return o._allTables[f]})},enumerable:!1,configurable:!0}),Et.prototype.transaction=function(){var o=(function(f,y,m){var w=arguments.length;if(w<2)throw new ze.InvalidArgument("Too few arguments");for(var E=new Array(w-1);--w;)E[w-1]=arguments[w];return m=E.pop(),[f,be(E),m]}).apply(this,arguments);return this._transaction.apply(this,o)},Et.prototype._transaction=function(o,f,y){var m=this,w=Ne.trans;w&&w.db===this&&o.indexOf("!")===-1||(w=null);var E,j,D=o.indexOf("?")!==-1;o=o.replace("!","").replace("?","");try{if(j=f.map(function(B){if(B=B instanceof m.Table?B.name:B,typeof B!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return B}),o=="r"||o===wn)E=wn;else{if(o!="rw"&&o!=ri)throw new ze.InvalidArgument("Invalid transaction mode: "+o);E=ri}if(w){if(w.mode===wn&&E===ri){if(!D)throw new ze.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");w=null}w&&j.forEach(function(B){if(w&&w.storeNames.indexOf(B)===-1){if(!D)throw new ze.SubTransaction("Table "+B+" not included in parent transaction.");w=null}}),D&&w&&!w.active&&(w=null)}}catch(B){return w?w._promise(null,function(H,C){C(B)}):Ot(B)}var N=(function B(H,C,Y,M,K){return Te.resolve().then(function(){var V=Ne.transless||Ne,q=H._createTransaction(C,Y,H._dbSchema,M);if(q.explicit=!0,V={trans:q,transless:V},M)q.idbtrans=M.idbtrans;else try{q.create(),q.idbtrans._explicit=!0,H._state.PR1398_maxLoop=3}catch(F){return F.name===Wt.InvalidState&&H.isOpen()&&0<--H._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),H.close({disableAutoOpen:!1}),H.open().then(function(){return B(H,C,Y,null,K)})):Ot(F)}var J,W=ie(K);return W&&Sn(),V=Te.follow(function(){var F;(J=K.call(q,q))&&(W?(F=fn.bind(null,null),J.then(F,F)):typeof J.next=="function"&&typeof J.throw=="function"&&(J=oi(J)))},V),(J&&typeof J.then=="function"?Te.resolve(J).then(function(F){return q.active?F:Ot(new ze.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):V.then(function(){return J})).then(function(F){return M&&q._resolve(),q._completion.then(function(){return F})}).catch(function(F){return q._reject(F),Ot(F)})})}).bind(null,this,E,j,w,y);return w?w._promise(E,N,"lock"):Ne.trans?rr(Ne.transless,function(){return m._whenReady(N)}):this._whenReady(N)},Et.prototype.table=function(o){if(!A(this._allTables,o))throw new ze.InvalidTable("Table ".concat(o," does not exist"));return this._allTables[o]},Et);function Et(o,f){var y=this;this._middlewares={},this.verno=0;var m=Et.dependencies;this._options=f=l({addons:Et.addons,autoOpen:!0,indexedDB:m.indexedDB,IDBKeyRange:m.IDBKeyRange,cache:"cloned"},f),this._deps={indexedDB:f.indexedDB,IDBKeyRange:f.IDBKeyRange},m=f.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var w,E,j,D,N,B={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:ut,dbReadyPromise:null,cancelOpen:ut,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:f.autoOpen};B.dbReadyPromise=new Te(function(C){B.dbReadyResolve=C}),B.openCanceller=new Te(function(C,Y){B.cancelOpen=Y}),this._state=B,this.name=o,this.on=or(this,"populate","blocked","versionchange","close",{ready:[Di,ut]}),this.on.ready.subscribe=ee(this.on.ready.subscribe,function(C){return function(Y,M){Et.vip(function(){var K,V=y._state;V.openComplete?(V.dbOpenError||Te.resolve().then(Y),M&&C(Y)):V.onReadyBeingFired?(V.onReadyBeingFired.push(Y),M&&C(Y)):(C(Y),K=y,M||C(function q(){K.on.ready.unsubscribe(Y),K.on.ready.unsubscribe(q)}))})}}),this.Collection=(w=this,ya(ba.prototype,function(J,q){this.db=w;var M=Cr,K=null;if(q)try{M=q()}catch(W){K=W}var V=J._ctx,q=V.table,J=q.hook.reading.fire;this._ctx={table:q,index:V.index,isPrimKey:!V.index||q.schema.primKey.keyPath&&V.index===q.schema.primKey.name,range:M,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:K,or:V.or,valueMapper:J!==Or?J:null}})),this.Table=(E=this,ya(Ju.prototype,function(C,Y,M){this.db=E,this._tx=M,this.name=C,this.schema=Y,this.hook=E._allTables[C]?E._allTables[C].hook:or(null,{creating:[fs,ut],reading:[Hu,Or],updating:[ds,ut],deleting:[kn,ut]})})),this.Transaction=(j=this,ya(el.prototype,function(C,Y,M,K,V){var q=this;this.db=j,this.mode=C,this.storeNames=Y,this.schema=M,this.chromeTransactionDurability=K,this.idbtrans=null,this.on=or(this,"complete","error","abort"),this.parent=V||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Te(function(J,W){q._resolve=J,q._reject=W}),this._completion.then(function(){q.active=!1,q.on.complete.fire()},function(J){var W=q.active;return q.active=!1,q.on.error.fire(J),q.parent?q.parent._reject(J):W&&q.idbtrans&&q.idbtrans.abort(),Ot(J)})})),this.Version=(D=this,ya(hs.prototype,function(C){this.db=D,this._cfg={version:C,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(N=this,ya(Nr.prototype,function(C,Y,M){if(this.db=N,this._ctx={table:C,index:Y===":id"?null:Y,or:M},this._cmp=this._ascending=tt,this._descending=function(K,V){return tt(V,K)},this._max=function(K,V){return 0<tt(K,V)?K:V},this._min=function(K,V){return tt(K,V)<0?K:V},this._IDBKeyRange=N._deps.IDBKeyRange,!this._IDBKeyRange)throw new ze.MissingAPI})),this.on("versionchange",function(C){0<C.newVersion?console.warn("Another connection wants to upgrade database '".concat(y.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(y.name,"'. Closing db now to resume the delete request.")),y.close({disableAutoOpen:!1})}),this.on("blocked",function(C){!C.newVersion||C.newVersion<C.oldVersion?console.warn("Dexie.delete('".concat(y.name,"') was blocked")):console.warn("Upgrade '".concat(y.name,"' blocked by other connection holding version ").concat(C.oldVersion/10))}),this._maxKey=wa(f.IDBKeyRange),this._createTransaction=function(C,Y,M,K){return new y.Transaction(C,Y,M,y._options.chromeTransactionDurability,K)},this._fireOnBlocked=function(C){y.on("blocked").fire(C),In.filter(function(Y){return Y.name===y.name&&Y!==y&&!Y._state.vcFired}).map(function(Y){return Y.on("versionchange").fire(C)})},this.use(Ro),this.use(Wi),this.use(ps),this.use(vs),this.use(Uo);var H=new Proxy(this,{get:function(C,Y,M){if(Y==="_vip")return!0;if(Y==="table")return function(V){return si(y.table(V),H)};var K=Reflect.get(C,Y,M);return K instanceof Ju?si(K,H):Y==="tables"?K.map(function(V){return si(V,H)}):Y==="_createTransaction"?function(){return si(K.apply(this,arguments),H)}:K}});this.vip=H,m.forEach(function(C){return C(y)})}var Aa,yn=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Mo=(Fi.prototype.subscribe=function(o,f,y){return this._subscribe(o&&typeof o!="function"?o:{next:o,error:f,complete:y})},Fi.prototype[yn]=function(){return this},Fi);function Fi(o){this._subscribe=o}try{Aa={indexedDB:h.indexedDB||h.mozIndexedDB||h.webkitIndexedDB||h.msIndexedDB,IDBKeyRange:h.IDBKeyRange||h.webkitIDBKeyRange}}catch{Aa={indexedDB:null,IDBKeyRange:null}}function No(o){var f,y=!1,m=new Mo(function(w){var E=ie(o),j,D=!1,N={},B={},H={get closed(){return D},unsubscribe:function(){D||(D=!0,j&&j.abort(),C&&Xt.storagemutated.unsubscribe(M))}};w.start&&w.start(H);var C=!1,Y=function(){return ir(K)},M=function(V){Zi(N,V),ll(B,N)&&Y()},K=function(){var V,q,J;!D&&Aa.indexedDB&&(N={},V={},j&&j.abort(),j=new AbortController,J=function(W){var F=Ur();try{E&&Sn();var re=zn(o,W);return re=E?re.finally(fn):re}finally{F&&fa()}}(q={subscr:V,signal:j.signal,requery:Y,querier:o,trans:null}),Promise.resolve(J).then(function(W){y=!0,f=W,D||q.signal.aborted||(N={},function(F){for(var re in F)if(A(F,re))return;return 1}(B=V)||C||(Xt(_a,M),C=!0),ir(function(){return!D&&w.next&&w.next(W)}))},function(W){y=!1,["DatabaseClosedError","AbortError"].includes(W?.name)||D||ir(function(){D||w.error&&w.error(W)})}))};return setTimeout(Y,0),H});return m.hasValue=function(){return y},m.getValue=function(){return f},m}var Yr=Hn;function hl(o){var f=fr;try{fr=!0,Xt.storagemutated.fire(o),sl(o,!0)}finally{fr=f}}O(Yr,l(l({},xr),{delete:function(o){return new Yr(o,{addons:[]}).delete()},exists:function(o){return new Yr(o,{addons:[]}).open().then(function(f){return f.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(o){try{return f=Yr.dependencies,y=f.indexedDB,f=f.IDBKeyRange,(Qi(y)?Promise.resolve(y.databases()).then(function(m){return m.map(function(w){return w.name}).filter(function(w){return w!==Rr})}):rl(y,f).toCollection().primaryKeys()).then(o)}catch{return Ot(new ze.MissingAPI)}var f,y},defineClass:function(){return function(o){S(this,o)}},ignoreTransaction:function(o){return Ne.trans?rr(Ne.transless,o):o()},vip:al,async:function(o){return function(){try{var f=oi(o.apply(this,arguments));return f&&typeof f.then=="function"?f:Te.resolve(f)}catch(y){return Ot(y)}}},spawn:function(o,f,y){try{var m=oi(o.apply(y,f||[]));return m&&typeof m.then=="function"?m:Te.resolve(m)}catch(w){return Ot(w)}},currentTransaction:{get:function(){return Ne.trans||null}},waitFor:function(o,f){return f=Te.resolve(typeof o=="function"?Yr.ignoreTransaction(o):o).timeout(f||6e4),Ne.trans?Ne.trans.waitFor(f):f},Promise:Te,debug:{get:function(){return sn},set:function(o){_o(o)}},derive:Q,extend:S,props:O,override:ee,Events:or,on:Xt,liveQuery:No,extendObservabilitySet:Zi,getByKeyPath:ce,setByKeyPath:Ue,delByKeyPath:function(o,f){typeof f=="string"?Ue(o,f,void 0):"length"in f&&[].map.call(f,function(y){Ue(o,y,void 0)})},shallowClone:te,deepClone:we,getObjectDiff:Ji,cmp:tt,asap:oe,minKey:-1/0,addons:[],connections:In,errnames:Wt,dependencies:Aa,cache:Hr,semVer:"4.0.11",version:"4.0.11".split(".").map(function(o){return parseInt(o)}).reduce(function(o,f,y){return o+f/Math.pow(10,2*y)})})),Yr.maxKey=wa(Yr.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Xt(_a,function(o){fr||(o=new CustomEvent(Br,{detail:o}),fr=!0,dispatchEvent(o),fr=!1)}),addEventListener(Br,function(o){o=o.detail,fr||hl(o)}));var Ta,fr=!1,ln=function(){};return typeof BroadcastChannel<"u"&&((ln=function(){(Ta=new BroadcastChannel(Br)).onmessage=function(o){return o.data&&hl(o.data)}})(),typeof Ta.unref=="function"&&Ta.unref(),Xt(_a,function(o){fr||Ta.postMessage(o)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(o){if(!Hn.disableBfCache&&o.persisted){sn&&console.debug("Dexie: handling persisted pagehide"),Ta?.close();for(var f=0,y=In;f<y.length;f++)y[f].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(o){!Hn.disableBfCache&&o.persisted&&(sn&&console.debug("Dexie: handling persisted pageshow"),ln(),hl({all:new Zt(-1/0,[[]])}))})),Te.rejectionMapper=function(o,f){return!o||o instanceof pe||o instanceof TypeError||o instanceof SyntaxError||!o.name||!ji[o.name]?o:(f=new ji[o.name](f||o.message,o),"stack"in o&&k(f,"stack",{get:function(){return this.inner.stack}}),f)},_o(sn),l(Hn,Object.freeze({__proto__:null,Dexie:Hn,liveQuery:No,Entity:Mi,cmp:tt,PropModification:ma,replacePrefix:function(o,f){return new ma({replacePrefix:[o,f]})},add:function(o){return new ma({add:o})},remove:function(o){return new ma({remove:o})},default:Hn,RangeSet:Zt,mergeRanges:Kr,rangesOverlap:To}),{default:Hn}),Hn})}(Hc)),Hc.exports}var T0=A0();const _d=mm(T0),vp=Symbol.for("Dexie"),Tt=globalThis[vp]||(globalThis[vp]=_d);if(_d.semVer!==Tt.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${_d.semVer} and ${Tt.semVer}`);const{liveQuery:xi,mergeRanges:B1,rangesOverlap:q1,RangeSet:K1,cmp:j0,Entity:H1,PropModification:pp,replacePrefix:L1,add:Y1,remove:G1}=Tt;function D0(r,u,i){var l,s;typeof r=="function"?(l=u||[],s=i):(l=[],s=u);var h=Wl.useRef({hasResult:!1,result:s,error:null}),p=Wl.useReducer(function(b){return b+1},0);p[0];var g=p[1],S=Wl.useMemo(function(){var b=typeof r=="function"?r():r;if(!b||typeof b.subscribe!="function")throw r===b?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!h.current.hasResult&&typeof window<"u"&&(typeof b.hasValue!="function"||b.hasValue()))if(typeof b.getValue=="function")h.current.result=b.getValue(),h.current.hasResult=!0;else{var v=b.subscribe(function(A){h.current.result=A,h.current.hasResult=!0});typeof v=="function"?v():v.unsubscribe()}return b},l);if(Wl.useDebugValue(h.current.result),Wl.useEffect(function(){var b=S.subscribe(function(v){var A=h.current;(A.error!==null||A.result!==v)&&(A.error=null,A.result=v,A.hasResult=!0,g())},function(v){var A=h.current;A.error!==v&&(A.error=v,g())});return typeof b=="function"?b:b.unsubscribe.bind(b)},l),h.current.error)throw h.current.error;return h.current.result}function yo(r,u,i){return D0(function(){return xi(r)},u||[],i)}var Sd=function(r,u){return Sd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,l){i.__proto__=l}||function(i,l){for(var s in l)Object.prototype.hasOwnProperty.call(l,s)&&(i[s]=l[s])},Sd(r,u)};function ua(r,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");Sd(r,u);function i(){this.constructor=r}r.prototype=u===null?Object.create(u):(i.prototype=u.prototype,new i)}function U0(r,u,i,l){function s(h){return h instanceof i?h:new i(function(p){p(h)})}return new(i||(i=Promise))(function(h,p){function g(v){try{b(l.next(v))}catch(A){p(A)}}function S(v){try{b(l.throw(v))}catch(A){p(A)}}function b(v){v.done?h(v.value):s(v.value).then(g,S)}b((l=l.apply(r,u||[])).next())})}function bm(r,u){var i={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},l,s,h,p=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return p.next=g(0),p.throw=g(1),p.return=g(2),typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function g(b){return function(v){return S([b,v])}}function S(b){if(l)throw new TypeError("Generator is already executing.");for(;p&&(p=0,b[0]&&(i=0)),i;)try{if(l=1,s&&(h=b[0]&2?s.return:b[0]?s.throw||((h=s.return)&&h.call(s),0):s.next)&&!(h=h.call(s,b[1])).done)return h;switch(s=0,h&&(b=[b[0]&2,h.value]),b[0]){case 0:case 1:h=b;break;case 4:return i.label++,{value:b[1],done:!1};case 5:i.label++,s=b[1],b=[0];continue;case 7:b=i.ops.pop(),i.trys.pop();continue;default:if(h=i.trys,!(h=h.length>0&&h[h.length-1])&&(b[0]===6||b[0]===2)){i=0;continue}if(b[0]===3&&(!h||b[1]>h[0]&&b[1]<h[3])){i.label=b[1];break}if(b[0]===6&&i.label<h[1]){i.label=h[1],h=b;break}if(h&&i.label<h[2]){i.label=h[2],i.ops.push(b);break}h[2]&&i.ops.pop(),i.trys.pop();continue}b=u.call(r,i)}catch(v){b=[6,v],s=0}finally{l=h=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}}function Uu(r){var u=typeof Symbol=="function"&&Symbol.iterator,i=u&&r[u],l=0;if(i)return i.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&l>=r.length&&(r=void 0),{value:r&&r[l++],done:!r}}};throw new TypeError(u?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ai(r,u){var i=typeof Symbol=="function"&&r[Symbol.iterator];if(!i)return r;var l=i.call(r),s,h=[],p;try{for(;(u===void 0||u-- >0)&&!(s=l.next()).done;)h.push(s.value)}catch(g){p={error:g}}finally{try{s&&!s.done&&(i=l.return)&&i.call(l)}finally{if(p)throw p.error}}return h}function Ru(r,u,i){if(i||arguments.length===2)for(var l=0,s=u.length,h;l<s;l++)(h||!(l in u))&&(h||(h=Array.prototype.slice.call(u,0,l)),h[l]=u[l]);return r.concat(h||Array.prototype.slice.call(u))}function Au(r){return this instanceof Au?(this.v=r,this):new Au(r)}function R0(r,u,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=i.apply(r,u||[]),s,h=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",p),s[Symbol.asyncIterator]=function(){return this},s;function p(T){return function(k){return Promise.resolve(k).then(T,A)}}function g(T,k){l[T]&&(s[T]=function(Q){return new Promise(function(ne,se){h.push([T,Q,ne,se])>1||S(T,Q)})},k&&(s[T]=k(s[T])))}function S(T,k){try{b(l[T](k))}catch(Q){O(h[0][3],Q)}}function b(T){T.value instanceof Au?Promise.resolve(T.value.v).then(v,A):O(h[0][2],T)}function v(T){S("next",T)}function A(T){S("throw",T)}function O(T,k){T(k),h.shift(),h.length&&S(h[0][0],h[0][1])}}function C0(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var u=r[Symbol.asyncIterator],i;return u?u.call(r):(r=typeof Uu=="function"?Uu(r):r[Symbol.iterator](),i={},l("next"),l("throw"),l("return"),i[Symbol.asyncIterator]=function(){return this},i);function l(h){i[h]=r[h]&&function(p){return new Promise(function(g,S){p=r[h](p),s(g,S,p.done,p.value)})}}function s(h,p,g,S){Promise.resolve(S).then(function(b){h({value:b,done:g})},p)}}function vt(r){return typeof r=="function"}function Xd(r){var u=function(l){Error.call(l),l.stack=new Error().stack},i=r(u);return i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i}var ud=Xd(function(r){return function(i){r(this),this.message=i?i.length+` errors occurred during unsubscription:
`+i.map(function(l,s){return s+1+") "+l.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=i}});function Xc(r,u){if(r){var i=r.indexOf(u);0<=i&&r.splice(i,1)}}var Bu=function(){function r(u){this.initialTeardown=u,this.closed=!1,this._parentage=null,this._finalizers=null}return r.prototype.unsubscribe=function(){var u,i,l,s,h;if(!this.closed){this.closed=!0;var p=this._parentage;if(p)if(this._parentage=null,Array.isArray(p))try{for(var g=Uu(p),S=g.next();!S.done;S=g.next()){var b=S.value;b.remove(this)}}catch(Q){u={error:Q}}finally{try{S&&!S.done&&(i=g.return)&&i.call(g)}finally{if(u)throw u.error}}else p.remove(this);var v=this.initialTeardown;if(vt(v))try{v()}catch(Q){h=Q instanceof ud?Q.errors:[Q]}var A=this._finalizers;if(A){this._finalizers=null;try{for(var O=Uu(A),T=O.next();!T.done;T=O.next()){var k=T.value;try{mp(k)}catch(Q){h=h??[],Q instanceof ud?h=Ru(Ru([],Ai(h)),Ai(Q.errors)):h.push(Q)}}}catch(Q){l={error:Q}}finally{try{T&&!T.done&&(s=O.return)&&s.call(O)}finally{if(l)throw l.error}}}if(h)throw new ud(h)}},r.prototype.add=function(u){var i;if(u&&u!==this)if(this.closed)mp(u);else{if(u instanceof r){if(u.closed||u._hasParent(this))return;u._addParent(this)}(this._finalizers=(i=this._finalizers)!==null&&i!==void 0?i:[]).push(u)}},r.prototype._hasParent=function(u){var i=this._parentage;return i===u||Array.isArray(i)&&i.includes(u)},r.prototype._addParent=function(u){var i=this._parentage;this._parentage=Array.isArray(i)?(i.push(u),i):i?[i,u]:u},r.prototype._removeParent=function(u){var i=this._parentage;i===u?this._parentage=null:Array.isArray(i)&&Xc(i,u)},r.prototype.remove=function(u){var i=this._finalizers;i&&Xc(i,u),u instanceof r&&u._removeParent(this)},r.EMPTY=function(){var u=new r;return u.closed=!0,u}(),r}(),gm=Bu.EMPTY;function _m(r){return r instanceof Bu||r&&"closed"in r&&vt(r.remove)&&vt(r.add)&&vt(r.unsubscribe)}function mp(r){vt(r)?r():r.unsubscribe()}var k0={Promise:void 0},M0={setTimeout:function(r,u){for(var i=[],l=2;l<arguments.length;l++)i[l-2]=arguments[l];return setTimeout.apply(void 0,Ru([r,u],Ai(i)))},clearTimeout:function(r){return clearTimeout(r)},delegate:void 0};function Sm(r){M0.setTimeout(function(){throw r})}function bp(){}function Lc(r){r()}var Zd=function(r){ua(u,r);function u(i){var l=r.call(this)||this;return l.isStopped=!1,i?(l.destination=i,_m(i)&&i.add(l)):l.destination=B0,l}return u.create=function(i,l,s){return new Cu(i,l,s)},u.prototype.next=function(i){this.isStopped||this._next(i)},u.prototype.error=function(i){this.isStopped||(this.isStopped=!0,this._error(i))},u.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},u.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,r.prototype.unsubscribe.call(this),this.destination=null)},u.prototype._next=function(i){this.destination.next(i)},u.prototype._error=function(i){try{this.destination.error(i)}finally{this.unsubscribe()}},u.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},u}(Bu),N0=function(){function r(u){this.partialObserver=u}return r.prototype.next=function(u){var i=this.partialObserver;if(i.next)try{i.next(u)}catch(l){Cc(l)}},r.prototype.error=function(u){var i=this.partialObserver;if(i.error)try{i.error(u)}catch(l){Cc(l)}else Cc(u)},r.prototype.complete=function(){var u=this.partialObserver;if(u.complete)try{u.complete()}catch(i){Cc(i)}},r}(),Cu=function(r){ua(u,r);function u(i,l,s){var h=r.call(this)||this,p;return vt(i)||!i?p={next:i??void 0,error:l??void 0,complete:s??void 0}:p=i,h.destination=new N0(p),h}return u}(Zd);function Cc(r){Sm(r)}function z0(r){throw r}var B0={closed:!0,next:bp,error:z0,complete:bp},Id=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function ns(r){return r}function q0(r){return r.length===0?ns:r.length===1?r[0]:function(i){return r.reduce(function(l,s){return s(l)},i)}}var Qt=function(){function r(u){u&&(this._subscribe=u)}return r.prototype.lift=function(u){var i=new r;return i.source=this,i.operator=u,i},r.prototype.subscribe=function(u,i,l){var s=this,h=H0(u)?u:new Cu(u,i,l);return Lc(function(){var p=s,g=p.operator,S=p.source;h.add(g?g.call(h,S):S?s._subscribe(h):s._trySubscribe(h))}),h},r.prototype._trySubscribe=function(u){try{return this._subscribe(u)}catch(i){u.error(i)}},r.prototype.forEach=function(u,i){var l=this;return i=gp(i),new i(function(s,h){var p=new Cu({next:function(g){try{u(g)}catch(S){h(S),p.unsubscribe()}},error:h,complete:s});l.subscribe(p)})},r.prototype._subscribe=function(u){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(u)},r.prototype[Id]=function(){return this},r.prototype.pipe=function(){for(var u=[],i=0;i<arguments.length;i++)u[i]=arguments[i];return q0(u)(this)},r.prototype.toPromise=function(u){var i=this;return u=gp(u),new u(function(l,s){var h;i.subscribe(function(p){return h=p},function(p){return s(p)},function(){return l(h)})})},r.create=function(u){return new r(u)},r}();function gp(r){var u;return(u=r??k0.Promise)!==null&&u!==void 0?u:Promise}function K0(r){return r&&vt(r.next)&&vt(r.error)&&vt(r.complete)}function H0(r){return r&&r instanceof Zd||K0(r)&&_m(r)}function L0(r){return vt(r?.lift)}function qu(r){return function(u){if(L0(u))return u.lift(function(i){try{return r(i,this)}catch(l){this.error(l)}});throw new TypeError("Unable to lift unknown Observable type")}}function ku(r,u,i,l,s){return new Y0(r,u,i,l,s)}var Y0=function(r){ua(u,r);function u(i,l,s,h,p,g){var S=r.call(this,i)||this;return S.onFinalize=p,S.shouldUnsubscribe=g,S._next=l?function(b){try{l(b)}catch(v){i.error(v)}}:r.prototype._next,S._error=h?function(b){try{h(b)}catch(v){i.error(v)}finally{this.unsubscribe()}}:r.prototype._error,S._complete=s?function(){try{s()}catch(b){i.error(b)}finally{this.unsubscribe()}}:r.prototype._complete,S}return u.prototype.unsubscribe=function(){var i;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var l=this.closed;r.prototype.unsubscribe.call(this),!l&&((i=this.onFinalize)===null||i===void 0||i.call(this))}},u}(Zd),G0=Xd(function(r){return function(){r(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),vo=function(r){ua(u,r);function u(){var i=r.call(this)||this;return i.closed=!1,i.currentObservers=null,i.observers=[],i.isStopped=!1,i.hasError=!1,i.thrownError=null,i}return u.prototype.lift=function(i){var l=new _p(this,this);return l.operator=i,l},u.prototype._throwIfClosed=function(){if(this.closed)throw new G0},u.prototype.next=function(i){var l=this;Lc(function(){var s,h;if(l._throwIfClosed(),!l.isStopped){l.currentObservers||(l.currentObservers=Array.from(l.observers));try{for(var p=Uu(l.currentObservers),g=p.next();!g.done;g=p.next()){var S=g.value;S.next(i)}}catch(b){s={error:b}}finally{try{g&&!g.done&&(h=p.return)&&h.call(p)}finally{if(s)throw s.error}}}})},u.prototype.error=function(i){var l=this;Lc(function(){if(l._throwIfClosed(),!l.isStopped){l.hasError=l.isStopped=!0,l.thrownError=i;for(var s=l.observers;s.length;)s.shift().error(i)}})},u.prototype.complete=function(){var i=this;Lc(function(){if(i._throwIfClosed(),!i.isStopped){i.isStopped=!0;for(var l=i.observers;l.length;)l.shift().complete()}})},u.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(u.prototype,"observed",{get:function(){var i;return((i=this.observers)===null||i===void 0?void 0:i.length)>0},enumerable:!1,configurable:!0}),u.prototype._trySubscribe=function(i){return this._throwIfClosed(),r.prototype._trySubscribe.call(this,i)},u.prototype._subscribe=function(i){return this._throwIfClosed(),this._checkFinalizedStatuses(i),this._innerSubscribe(i)},u.prototype._innerSubscribe=function(i){var l=this,s=this,h=s.hasError,p=s.isStopped,g=s.observers;return h||p?gm:(this.currentObservers=null,g.push(i),new Bu(function(){l.currentObservers=null,Xc(g,i)}))},u.prototype._checkFinalizedStatuses=function(i){var l=this,s=l.hasError,h=l.thrownError,p=l.isStopped;s?i.error(h):p&&i.complete()},u.prototype.asObservable=function(){var i=new Qt;return i.source=this,i},u.create=function(i,l){return new _p(i,l)},u}(Qt),_p=function(r){ua(u,r);function u(i,l){var s=r.call(this)||this;return s.destination=i,s.source=l,s}return u.prototype.next=function(i){var l,s;(s=(l=this.destination)===null||l===void 0?void 0:l.next)===null||s===void 0||s.call(l,i)},u.prototype.error=function(i){var l,s;(s=(l=this.destination)===null||l===void 0?void 0:l.error)===null||s===void 0||s.call(l,i)},u.prototype.complete=function(){var i,l;(l=(i=this.destination)===null||i===void 0?void 0:i.complete)===null||l===void 0||l.call(i)},u.prototype._subscribe=function(i){var l,s;return(s=(l=this.source)===null||l===void 0?void 0:l.subscribe(i))!==null&&s!==void 0?s:gm},u}(vo),er=function(r){ua(u,r);function u(i){var l=r.call(this)||this;return l._value=i,l}return Object.defineProperty(u.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),u.prototype._subscribe=function(i){var l=r.prototype._subscribe.call(this,i);return!l.closed&&i.next(this._value),l},u.prototype.getValue=function(){var i=this,l=i.hasError,s=i.thrownError,h=i._value;if(l)throw s;return this._throwIfClosed(),h},u.prototype.next=function(i){r.prototype.next.call(this,this._value=i)},u}(vo),V0={now:function(){return Date.now()}},Q0=function(r){ua(u,r);function u(i,l){return r.call(this)||this}return u.prototype.schedule=function(i,l){return this},u}(Bu),Sp={setInterval:function(r,u){for(var i=[],l=2;l<arguments.length;l++)i[l-2]=arguments[l];return setInterval.apply(void 0,Ru([r,u],Ai(i)))},clearInterval:function(r){return clearInterval(r)},delegate:void 0},X0=function(r){ua(u,r);function u(i,l){var s=r.call(this,i,l)||this;return s.scheduler=i,s.work=l,s.pending=!1,s}return u.prototype.schedule=function(i,l){var s;if(l===void 0&&(l=0),this.closed)return this;this.state=i;var h=this.id,p=this.scheduler;return h!=null&&(this.id=this.recycleAsyncId(p,h,l)),this.pending=!0,this.delay=l,this.id=(s=this.id)!==null&&s!==void 0?s:this.requestAsyncId(p,this.id,l),this},u.prototype.requestAsyncId=function(i,l,s){return s===void 0&&(s=0),Sp.setInterval(i.flush.bind(i,this),s)},u.prototype.recycleAsyncId=function(i,l,s){if(s===void 0&&(s=0),s!=null&&this.delay===s&&this.pending===!1)return l;l!=null&&Sp.clearInterval(l)},u.prototype.execute=function(i,l){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var s=this._execute(i,l);if(s)return s;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},u.prototype._execute=function(i,l){var s=!1,h;try{this.work(i)}catch(p){s=!0,h=p||new Error("Scheduled action threw falsy error")}if(s)return this.unsubscribe(),h},u.prototype.unsubscribe=function(){if(!this.closed){var i=this,l=i.id,s=i.scheduler,h=s.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Xc(h,this),l!=null&&(this.id=this.recycleAsyncId(s,l,null)),this.delay=null,r.prototype.unsubscribe.call(this)}},u}(Q0),wp=function(){function r(u,i){i===void 0&&(i=r.now),this.schedulerActionCtor=u,this.now=i}return r.prototype.schedule=function(u,i,l){return i===void 0&&(i=0),new this.schedulerActionCtor(this,u).schedule(l,i)},r.now=V0.now,r}(),Z0=function(r){ua(u,r);function u(i,l){l===void 0&&(l=wp.now);var s=r.call(this,i,l)||this;return s.actions=[],s._active=!1,s}return u.prototype.flush=function(i){var l=this.actions;if(this._active){l.push(i);return}var s;this._active=!0;do if(s=i.execute(i.state,i.delay))break;while(i=l.shift());if(this._active=!1,s){for(;i=l.shift();)i.unsubscribe();throw s}},u}(wp),I0=new Z0(X0),J0=I0,$0=new Qt(function(r){return r.complete()});function P0(r){return r&&vt(r.schedule)}function Jd(r){return r[r.length-1]}function W0(r){return vt(Jd(r))?r.pop():void 0}function $d(r){return P0(Jd(r))?r.pop():void 0}function F0(r,u){return typeof Jd(r)=="number"?r.pop():u}var Pd=function(r){return r&&typeof r.length=="number"&&typeof r!="function"};function wm(r){return vt(r?.then)}function Em(r){return vt(r[Id])}function xm(r){return Symbol.asyncIterator&&vt(r?.[Symbol.asyncIterator])}function Om(r){return new TypeError("You provided "+(r!==null&&typeof r=="object"?"an invalid object":"'"+r+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function e_(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Am=e_();function Tm(r){return vt(r?.[Am])}function jm(r){return R0(this,arguments,function(){var i,l,s,h;return bm(this,function(p){switch(p.label){case 0:i=r.getReader(),p.label=1;case 1:p.trys.push([1,,9,10]),p.label=2;case 2:return[4,Au(i.read())];case 3:return l=p.sent(),s=l.value,h=l.done,h?[4,Au(void 0)]:[3,5];case 4:return[2,p.sent()];case 5:return[4,Au(s)];case 6:return[4,p.sent()];case 7:return p.sent(),[3,2];case 8:return[3,10];case 9:return i.releaseLock(),[7];case 10:return[2]}})})}function Dm(r){return vt(r?.getReader)}function la(r){if(r instanceof Qt)return r;if(r!=null){if(Em(r))return t_(r);if(Pd(r))return n_(r);if(wm(r))return r_(r);if(xm(r))return Um(r);if(Tm(r))return a_(r);if(Dm(r))return i_(r)}throw Om(r)}function t_(r){return new Qt(function(u){var i=r[Id]();if(vt(i.subscribe))return i.subscribe(u);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function n_(r){return new Qt(function(u){for(var i=0;i<r.length&&!u.closed;i++)u.next(r[i]);u.complete()})}function r_(r){return new Qt(function(u){r.then(function(i){u.closed||(u.next(i),u.complete())},function(i){return u.error(i)}).then(null,Sm)})}function a_(r){return new Qt(function(u){var i,l;try{for(var s=Uu(r),h=s.next();!h.done;h=s.next()){var p=h.value;if(u.next(p),u.closed)return}}catch(g){i={error:g}}finally{try{h&&!h.done&&(l=s.return)&&l.call(s)}finally{if(i)throw i.error}}u.complete()})}function Um(r){return new Qt(function(u){u_(r,u).catch(function(i){return u.error(i)})})}function i_(r){return Um(jm(r))}function u_(r,u){var i,l,s,h;return U0(this,void 0,void 0,function(){var p,g;return bm(this,function(S){switch(S.label){case 0:S.trys.push([0,5,6,11]),i=C0(r),S.label=1;case 1:return[4,i.next()];case 2:if(l=S.sent(),!!l.done)return[3,4];if(p=l.value,u.next(p),u.closed)return[2];S.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return g=S.sent(),s={error:g},[3,11];case 6:return S.trys.push([6,,9,10]),l&&!l.done&&(h=i.return)?[4,h.call(i)]:[3,8];case 7:S.sent(),S.label=8;case 8:return[3,10];case 9:if(s)throw s.error;return[7];case 10:return[7];case 11:return u.complete(),[2]}})})}function $a(r,u,i,l,s){l===void 0&&(l=0),s===void 0&&(s=!1);var h=u.schedule(function(){i(),s?r.add(this.schedule(null,l)):this.unsubscribe()},l);if(r.add(h),!s)return h}function Rm(r,u){return u===void 0&&(u=0),qu(function(i,l){i.subscribe(ku(l,function(s){return $a(l,r,function(){return l.next(s)},u)},function(){return $a(l,r,function(){return l.complete()},u)},function(s){return $a(l,r,function(){return l.error(s)},u)}))})}function Cm(r,u){return u===void 0&&(u=0),qu(function(i,l){l.add(r.schedule(function(){return i.subscribe(l)},u))})}function l_(r,u){return la(r).pipe(Cm(u),Rm(u))}function o_(r,u){return la(r).pipe(Cm(u),Rm(u))}function c_(r,u){return new Qt(function(i){var l=0;return u.schedule(function(){l===r.length?i.complete():(i.next(r[l++]),i.closed||this.schedule())})})}function s_(r,u){return new Qt(function(i){var l;return $a(i,u,function(){l=r[Am](),$a(i,u,function(){var s,h,p;try{s=l.next(),h=s.value,p=s.done}catch(g){i.error(g);return}p?i.complete():i.next(h)},0,!0)}),function(){return vt(l?.return)&&l.return()}})}function km(r,u){if(!r)throw new Error("Iterable cannot be null");return new Qt(function(i){$a(i,u,function(){var l=r[Symbol.asyncIterator]();$a(i,u,function(){l.next().then(function(s){s.done?i.complete():i.next(s.value)})},0,!0)})})}function f_(r,u){return km(jm(r),u)}function d_(r,u){if(r!=null){if(Em(r))return l_(r,u);if(Pd(r))return c_(r,u);if(wm(r))return o_(r,u);if(xm(r))return km(r,u);if(Tm(r))return s_(r,u);if(Dm(r))return f_(r,u)}throw Om(r)}function Er(r,u){return u?d_(r,u):la(r)}function ia(){for(var r=[],u=0;u<arguments.length;u++)r[u]=arguments[u];var i=$d(r);return Er(r,i)}function Ep(r,u){var i=vt(r)?r:function(){return r},l=function(s){return s.error(i())};return new Qt(l)}var h_=Xd(function(r){return function(){r(this),this.name="EmptyError",this.message="no elements in sequence"}});function Tu(r,u){return new Promise(function(i,l){var s=new Cu({next:function(h){i(h),s.unsubscribe()},error:l,complete:function(){l(new h_)}});r.subscribe(s)})}function y_(r){return r instanceof Date&&!isNaN(r)}function rs(r,u){return qu(function(i,l){var s=0;i.subscribe(ku(l,function(h){l.next(r.call(u,h,s++))}))})}var v_=Array.isArray;function p_(r,u){return v_(u)?r.apply(void 0,Ru([],Ai(u))):r(u)}function Mm(r){return rs(function(u){return p_(r,u)})}var m_=Array.isArray,b_=Object.getPrototypeOf,g_=Object.prototype,__=Object.keys;function S_(r){if(r.length===1){var u=r[0];if(m_(u))return{args:u,keys:null};if(w_(u)){var i=__(u);return{args:i.map(function(l){return u[l]}),keys:i}}}return{args:r,keys:null}}function w_(r){return r&&typeof r=="object"&&b_(r)===g_}function E_(r,u){return r.reduce(function(i,l,s){return i[l]=u[s],i},{})}function Zc(){for(var r=[],u=0;u<arguments.length;u++)r[u]=arguments[u];var i=$d(r),l=W0(r),s=S_(r),h=s.args,p=s.keys;if(h.length===0)return Er([],i);var g=new Qt(x_(h,i,p?function(S){return E_(p,S)}:ns));return l?g.pipe(Mm(l)):g}function x_(r,u,i){return i===void 0&&(i=ns),function(l){xp(u,function(){for(var s=r.length,h=new Array(s),p=s,g=s,S=function(v){xp(u,function(){var A=Er(r[v],u),O=!1;A.subscribe(ku(l,function(T){h[v]=T,O||(O=!0,g--),g||l.next(i(h.slice()))},function(){--p||l.complete()}))},l)},b=0;b<s;b++)S(b)},l)}}function xp(r,u,i){r?$a(i,r,u):u()}function O_(r,u,i,l,s,h,p,g){var S=[],b=0,v=0,A=!1,O=function(){A&&!S.length&&!b&&u.complete()},T=function(Q){return b<l?k(Q):S.push(Q)},k=function(Q){b++;var ne=!1;la(i(Q,v++)).subscribe(ku(u,function(se){u.next(se)},function(){ne=!0},void 0,function(){if(ne)try{b--;for(var se=function(){var me=S.shift();p||k(me)};S.length&&b<l;)se();O()}catch(me){u.error(me)}}))};return r.subscribe(ku(u,T,function(){A=!0,O()})),function(){}}function Wd(r,u,i){return i===void 0&&(i=1/0),vt(u)?Wd(function(l,s){return rs(function(h,p){return u(l,h,s,p)})(la(r(l,s)))},i):(typeof u=="number"&&(i=u),qu(function(l,s){return O_(l,s,r,i)}))}function A_(r){return r===void 0&&(r=1/0),Wd(ns,r)}var T_=["addListener","removeListener"],j_=["addEventListener","removeEventListener"],D_=["on","off"];function Sr(r,u,i,l){if(vt(i)&&(l=i,i=void 0),l)return Sr(r,u,i).pipe(Mm(l));var s=Ai(C_(r)?j_.map(function(g){return function(S){return r[g](u,S,i)}}):U_(r)?T_.map(Op(r,u)):R_(r)?D_.map(Op(r,u)):[],2),h=s[0],p=s[1];if(!h&&Pd(r))return Wd(function(g){return Sr(g,u,i)})(la(r));if(!h)throw new TypeError("Invalid event target");return new Qt(function(g){var S=function(){for(var b=[],v=0;v<arguments.length;v++)b[v]=arguments[v];return g.next(1<b.length?b:b[0])};return h(S),function(){return p(S)}})}function Op(r,u){return function(i){return function(l){return r[i](u,l)}}}function U_(r){return vt(r.addListener)&&vt(r.removeListener)}function R_(r){return vt(r.on)&&vt(r.off)}function C_(r){return vt(r.addEventListener)&&vt(r.removeEventListener)}function k_(r,u,i){return i===void 0&&(i=J0),new Qt(function(l){var s=y_(r)?+r-i.now():r;s<0&&(s=0);var h=0;return i.schedule(function(){l.closed||(l.next(h++),l.complete())},s)})}function Nm(){for(var r=[],u=0;u<arguments.length;u++)r[u]=arguments[u];var i=$d(r),l=F0(r,1/0),s=r;return s.length?s.length===1?la(s[0]):A_(l)(Er(s,i)):$0}function M_(r,u){return qu(function(i,l){var s=0;i.subscribe(ku(l,function(h){return r.call(u,h,s++)&&l.next(h)}))})}function N_(r){r===void 0&&(r={});var u=r.connector,i=u===void 0?function(){return new vo}:u,l=r.resetOnError,s=l===void 0?!0:l,h=r.resetOnComplete,p=h===void 0?!0:h,g=r.resetOnRefCountZero,S=g===void 0?!0:g;return function(b){var v,A,O,T=0,k=!1,Q=!1,ne=function(){A?.unsubscribe(),A=void 0},se=function(){ne(),v=O=void 0,k=Q=!1},me=function(){var ee=v;se(),ee?.unsubscribe()};return qu(function(ee,_e){T++,!Q&&!k&&ne();var oe=O=O??i();_e.add(function(){T--,T===0&&!Q&&!k&&(A=ld(me,S))}),oe.subscribe(_e),!v&&T>0&&(v=new Cu({next:function(ce){return oe.next(ce)},error:function(ce){Q=!0,ne(),A=ld(se,s,ce),oe.error(ce)},complete:function(){k=!0,ne(),A=ld(se,p),oe.complete()}}),la(ee).subscribe(v))})(b)}}function ld(r,u){for(var i=[],l=2;l<arguments.length;l++)i[l-2]=arguments[l];if(u===!0){r();return}if(u!==!1){var s=new Cu({next:function(){s.unsubscribe(),r()}});return la(u.apply(void 0,Ru([],Ai(i)))).subscribe(s)}}var wd=function(r,u){return wd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,l){i.__proto__=l}||function(i,l){for(var s in l)Object.prototype.hasOwnProperty.call(l,s)&&(i[s]=l[s])},wd(r,u)};function Ku(r,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function i(){this.constructor=r}wd(r,u),r.prototype=u===null?Object.create(u):(i.prototype=u.prototype,new i)}function qe(r,u,i,l){return new(i||(i=Promise))(function(s,h){function p(b){try{S(l.next(b))}catch(v){h(v)}}function g(b){try{S(l.throw(b))}catch(v){h(v)}}function S(b){var v;b.done?s(b.value):(v=b.value,v instanceof i?v:new i(function(A){A(v)})).then(p,g)}S((l=l.apply(r,[])).next())})}function zm(r,u){var i,l,s,h,p={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return h={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function g(S){return function(b){return function(v){if(i)throw new TypeError("Generator is already executing.");for(;p;)try{if(i=1,l&&(s=2&v[0]?l.return:v[0]?l.throw||((s=l.return)&&s.call(l),0):l.next)&&!(s=s.call(l,v[1])).done)return s;switch(l=0,s&&(v=[2&v[0],s.value]),v[0]){case 0:case 1:s=v;break;case 4:return p.label++,{value:v[1],done:!1};case 5:p.label++,l=v[1],v=[0];continue;case 7:v=p.ops.pop(),p.trys.pop();continue;default:if(s=p.trys,!((s=s.length>0&&s[s.length-1])||v[0]!==6&&v[0]!==2)){p=0;continue}if(v[0]===3&&(!s||v[1]>s[0]&&v[1]<s[3])){p.label=v[1];break}if(v[0]===6&&p.label<s[1]){p.label=s[1],s=v;break}if(s&&p.label<s[2]){p.label=s[2],p.ops.push(v);break}s[2]&&p.ops.pop(),p.trys.pop();continue}v=u.call(r,p)}catch(A){v=[6,A],l=0}finally{i=s=0}if(5&v[0])throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}([S,b])}}}function Ic(r){var u=typeof Symbol=="function"&&Symbol.iterator,i=u&&r[u],l=0;if(i)return i.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&l>=r.length&&(r=void 0),{value:r&&r[l++],done:!r}}};throw new TypeError(u?"Object is not iterable.":"Symbol.iterator is not defined.")}function so(r,u){var i=typeof Symbol=="function"&&r[Symbol.iterator];if(!i)return r;var l,s,h=i.call(r),p=[];try{for(;(u===void 0||u-- >0)&&!(l=h.next()).done;)p.push(l.value)}catch(g){s={error:g}}finally{try{l&&!l.done&&(i=h.return)&&i.call(h)}finally{if(s)throw s.error}}return p}function fo(r,u,i){if(arguments.length===2)for(var l,s=0,h=u.length;s<h;s++)!l&&s in u||(l||(l=Array.prototype.slice.call(u,0,s)),l[s]=u[s]);return r.concat(l||Array.prototype.slice.call(u))}function ju(r){return this instanceof ju?(this.v=r,this):new ju(r)}function z_(r,u,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l,s=i.apply(r,u||[]),h=[];return l={},p("next"),p("throw"),p("return"),l[Symbol.asyncIterator]=function(){return this},l;function p(A){s[A]&&(l[A]=function(O){return new Promise(function(T,k){h.push([A,O,T,k])>1||g(A,O)})})}function g(A,O){try{(function(T){T.value instanceof ju?Promise.resolve(T.value.v).then(S,b):v(h[0][2],T)})(s[A](O))}catch(T){v(h[0][3],T)}}function S(A){g("next",A)}function b(A){g("throw",A)}function v(A,O){A(O),h.shift(),h.length&&g(h[0][0],h[0][1])}}function B_(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var u,i=r[Symbol.asyncIterator];return i?i.call(r):(r=Ic(r),u={},l("next"),l("throw"),l("return"),u[Symbol.asyncIterator]=function(){return this},u);function l(s){u[s]=r[s]&&function(h){return new Promise(function(p,g){(function(S,b,v,A){Promise.resolve(A).then(function(O){S({value:O,done:v})},b)})(p,g,(h=r[s](h)).done,h.value)})}}}function Bm(r){if(!r)throw new Error("Assertion Failed")}const q_={}.hasOwnProperty;function Jc(r,u,i){if(r&&u!==void 0&&(!("isFrozen"in Object)||!Object.isFrozen(r)))if(typeof u!="string"&&"length"in u){Bm(typeof i!="string"&&"length"in i);for(var l=0,s=u.length;l<s;++l)Jc(r,u[l],i[l])}else{var h=u.indexOf(".");if(h!==-1){var p=u.substr(0,h),g=u.substr(h+1);if(g==="")i===void 0?Array.isArray(r)?isNaN(parseInt(p))||r.splice(parseInt(p),1):delete r[p]:r[p]=i;else{var S=r[p];S&&function(b,v){return q_.call(b,v)}(r,p)||(S=r[p]={}),Jc(S,g,i)}}else i===void 0?Array.isArray(r)&&!isNaN(parseInt(u))?r.splice(u,1):delete r[u]:r[u]=i}}const qm=typeof self<"u"&&typeof crypto<"u"?(r,u=crypto.getRandomValues.bind(crypto))=>{const i=new Uint8Array(r);return u(i),self.btoa(String.fromCharCode.apply(null,i))}:typeof Buffer<"u"?(r,u=K_)=>{const i=Buffer.alloc(r);return u(i),i.toString("base64")}:()=>{throw new Error("No implementation of randomString was found")};function K_(r){for(let u=0;u<r.length;++u)r[u]=Math.floor(256*Math.random())}function Fd(r){return typeof r=="string"||!!(Array.isArray(r)&&r.some(u=>Fd(u))&&r.every(Km))}function Km(r){return typeof r=="string"||typeof r=="number"||Array.isArray(r)&&r.every(Km)}function H_(r,u,i){const l=r[u]||(r[u]={}),s=i.keys.map(h=>typeof h=="string"?h:JSON.stringify(h));switch(i.type){case"insert":case"upsert":s.forEach((h,p)=>{l[h]={type:"ups",val:i.values[p]}});break;case"update":case"modify":s.forEach((h,p)=>{const g=i.type==="update"?i.changeSpecs[p]:i.changeSpec,S=l[h];if(S)switch(S.type){case"ups":for(const[b,v]of Object.entries(g))Jc(S.val,b,v);break;case"del":break;case"upd":Object.assign(S.mod,g)}else l[h]={type:"upd",mod:g}});break;case"delete":s.forEach(h=>{l[h]={type:"del"}})}return r}function Ap(r,u){for(const{table:i,muts:l}of u)for(const s of l)H_(r,i,s)}function Kt(r){return typeof r=="function"}function Cn(r){return function(u){if(function(i){return Kt(i?.lift)}(u))return u.lift(function(i){try{return r(i,this)}catch(l){this.error(l)}});throw new TypeError("Unable to lift unknown Observable type")}}var Hm=function(r){return r&&typeof r.length=="number"&&typeof r!="function"};function Lm(r){return Kt(r?.then)}var Tp,kc,od=(Tp=function(r){return function(u){r(this),this.message=u?u.length+` errors occurred during unsubscription:
`+u.map(function(i,l){return l+1+") "+i.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=u}},(kc=Tp(function(r){Error.call(r),r.stack=new Error().stack})).prototype=Object.create(Error.prototype),kc.prototype.constructor=kc,kc);function Ed(r,u){if(r){var i=r.indexOf(u);0<=i&&r.splice(i,1)}}var as=function(){function r(i){this.initialTeardown=i,this.closed=!1,this._parentage=null,this._finalizers=null}var u;return r.prototype.unsubscribe=function(){var i,l,s,h,p;if(!this.closed){this.closed=!0;var g=this._parentage;if(g)if(this._parentage=null,Array.isArray(g))try{for(var S=Ic(g),b=S.next();!b.done;b=S.next())b.value.remove(this)}catch(Q){i={error:Q}}finally{try{b&&!b.done&&(l=S.return)&&l.call(S)}finally{if(i)throw i.error}}else g.remove(this);var v=this.initialTeardown;if(Kt(v))try{v()}catch(Q){p=Q instanceof od?Q.errors:[Q]}var A=this._finalizers;if(A){this._finalizers=null;try{for(var O=Ic(A),T=O.next();!T.done;T=O.next()){var k=T.value;try{jp(k)}catch(Q){p=p??[],Q instanceof od?p=fo(fo([],so(p)),so(Q.errors)):p.push(Q)}}}catch(Q){s={error:Q}}finally{try{T&&!T.done&&(h=O.return)&&h.call(O)}finally{if(s)throw s.error}}}if(p)throw new od(p)}},r.prototype.add=function(i){var l;if(i&&i!==this)if(this.closed)jp(i);else{if(i instanceof r){if(i.closed||i._hasParent(this))return;i._addParent(this)}(this._finalizers=(l=this._finalizers)!==null&&l!==void 0?l:[]).push(i)}},r.prototype._hasParent=function(i){var l=this._parentage;return l===i||Array.isArray(l)&&l.includes(i)},r.prototype._addParent=function(i){var l=this._parentage;this._parentage=Array.isArray(l)?(l.push(i),l):l?[l,i]:i},r.prototype._removeParent=function(i){var l=this._parentage;l===i?this._parentage=null:Array.isArray(l)&&Ed(l,i)},r.prototype.remove=function(i){var l=this._finalizers;l&&Ed(l,i),i instanceof r&&i._removeParent(this)},r.EMPTY=((u=new r).closed=!0,u),r}();function Ym(r){return r instanceof as||r&&"closed"in r&&Kt(r.remove)&&Kt(r.add)&&Kt(r.unsubscribe)}function jp(r){Kt(r)?r():r.unsubscribe()}as.EMPTY;var L_={Promise:void 0},Y_={setTimeout:function(r,u){for(var i=[],l=2;l<arguments.length;l++)i[l-2]=arguments[l];return setTimeout.apply(void 0,fo([r,u],so(i)))},clearTimeout:function(r){return clearTimeout(r)},delegate:void 0};function Gm(r){Y_.setTimeout(function(){throw r})}function xd(){}var eh=function(r){function u(i){var l=r.call(this)||this;return l.isStopped=!1,i?(l.destination=i,Ym(i)&&i.add(l)):l.destination=V_,l}return Ku(u,r),u.create=function(i,l,s){return new Od(i,l,s)},u.prototype.next=function(i){this.isStopped||this._next(i)},u.prototype.error=function(i){this.isStopped||(this.isStopped=!0,this._error(i))},u.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},u.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,r.prototype.unsubscribe.call(this),this.destination=null)},u.prototype._next=function(i){this.destination.next(i)},u.prototype._error=function(i){try{this.destination.error(i)}finally{this.unsubscribe()}},u.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},u}(as),G_=function(){function r(u){this.partialObserver=u}return r.prototype.next=function(u){var i=this.partialObserver;if(i.next)try{i.next(u)}catch(l){Mc(l)}},r.prototype.error=function(u){var i=this.partialObserver;if(i.error)try{i.error(u)}catch(l){Mc(l)}else Mc(u)},r.prototype.complete=function(){var u=this.partialObserver;if(u.complete)try{u.complete()}catch(i){Mc(i)}},r}(),Od=function(r){function u(i,l,s){var h,p=r.call(this)||this;return Kt(i)||!i?h={next:i??void 0,error:l??void 0,complete:s??void 0}:h=i,p.destination=new G_(h),p}return Ku(u,r),u}(eh);function Mc(r){Gm(r)}var V_={closed:!0,next:xd,error:function(r){throw r},complete:xd},th=typeof Symbol=="function"&&Symbol.observable||"@@observable";function is(r){return r}var tr=function(){function r(u){u&&(this._subscribe=u)}return r.prototype.lift=function(u){var i=new r;return i.source=this,i.operator=u,i},r.prototype.subscribe=function(u,i,l){var s,h=this,p=(s=u)&&s instanceof eh||function(g){return g&&Kt(g.next)&&Kt(g.error)&&Kt(g.complete)}(s)&&Ym(s)?u:new Od(u,i,l);return function(){var g=h,S=g.operator,b=g.source;p.add(S?S.call(p,b):b?h._subscribe(p):h._trySubscribe(p))}(),p},r.prototype._trySubscribe=function(u){try{return this._subscribe(u)}catch(i){u.error(i)}},r.prototype.forEach=function(u,i){var l=this;return new(i=Dp(i))(function(s,h){var p=new Od({next:function(g){try{u(g)}catch(S){h(S),p.unsubscribe()}},error:h,complete:s});l.subscribe(p)})},r.prototype._subscribe=function(u){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(u)},r.prototype[th]=function(){return this},r.prototype.pipe=function(){for(var u,i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];return((u=i).length===0?is:u.length===1?u[0]:function(s){return u.reduce(function(h,p){return p(h)},s)})(this)},r.prototype.toPromise=function(u){var i=this;return new(u=Dp(u))(function(l,s){var h;i.subscribe(function(p){return h=p},function(p){return s(p)},function(){return l(h)})})},r.create=function(u){return new r(u)},r}();function Dp(r){var u;return(u=r??L_.Promise)!==null&&u!==void 0?u:Promise}function Vm(r){return Kt(r[th])}function Qm(r){return Symbol.asyncIterator&&Kt(r?.[Symbol.asyncIterator])}function Xm(r){return new TypeError("You provided "+(r!==null&&typeof r=="object"?"an invalid object":"'"+r+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var Zm=typeof Symbol=="function"&&Symbol.iterator?Symbol.iterator:"@@iterator";function Im(r){return Kt(r?.[Zm])}function Jm(r){return z_(this,arguments,function(){var u,i,l;return zm(this,function(s){switch(s.label){case 0:u=r.getReader(),s.label=1;case 1:s.trys.push([1,,9,10]),s.label=2;case 2:return[4,ju(u.read())];case 3:return i=s.sent(),l=i.value,i.done?[4,ju(void 0)]:[3,5];case 4:return[2,s.sent()];case 5:return[4,ju(l)];case 6:return[4,s.sent()];case 7:return s.sent(),[3,2];case 8:return[3,10];case 9:return u.releaseLock(),[7];case 10:return[2]}})})}function $m(r){return Kt(r?.getReader)}function Ti(r){if(r instanceof tr)return r;if(r!=null){if(Vm(r))return s=r,new tr(function(h){var p=s[th]();if(Kt(p.subscribe))return p.subscribe(h);throw new TypeError("Provided object does not correctly implement Symbol.observable")});if(Hm(r))return l=r,new tr(function(h){for(var p=0;p<l.length&&!h.closed;p++)h.next(l[p]);h.complete()});if(Lm(r))return i=r,new tr(function(h){i.then(function(p){h.closed||(h.next(p),h.complete())},function(p){return h.error(p)}).then(null,Gm)});if(Qm(r))return Up(r);if(Im(r))return u=r,new tr(function(h){var p,g;try{for(var S=Ic(u),b=S.next();!b.done;b=S.next()){var v=b.value;if(h.next(v),h.closed)return}}catch(A){p={error:A}}finally{try{b&&!b.done&&(g=S.return)&&g.call(S)}finally{if(p)throw p.error}}h.complete()});if($m(r))return Up(Jm(r))}var u,i,l,s;throw Xm(r)}function Up(r){return new tr(function(u){(function(i,l){var s,h,p,g;return qe(this,void 0,void 0,function(){var S,b;return zm(this,function(v){switch(v.label){case 0:v.trys.push([0,5,6,11]),s=B_(i),v.label=1;case 1:return[4,s.next()];case 2:if((h=v.sent()).done)return[3,4];if(S=h.value,l.next(S),l.closed)return[2];v.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return b=v.sent(),p={error:b},[3,11];case 6:return v.trys.push([6,,9,10]),h&&!h.done&&(g=s.return)?[4,g.call(s)]:[3,8];case 7:v.sent(),v.label=8;case 8:return[3,10];case 9:if(p)throw p.error;return[7];case 10:return[7];case 11:return l.complete(),[2]}})})})(r,u).catch(function(i){return u.error(i)})})}function Rn(r,u,i,l,s){return new Q_(r,u,i,l,s)}var Q_=function(r){function u(i,l,s,h,p,g){var S=r.call(this,i)||this;return S.onFinalize=p,S.shouldUnsubscribe=g,S._next=l?function(b){try{l(b)}catch(v){i.error(v)}}:r.prototype._next,S._error=h?function(b){try{h(b)}catch(v){i.error(v)}finally{this.unsubscribe()}}:r.prototype._error,S._complete=s?function(){try{s()}catch(b){i.error(b)}finally{this.unsubscribe()}}:r.prototype._complete,S}return Ku(u,r),u.prototype.unsubscribe=function(){var i;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var l=this.closed;r.prototype.unsubscribe.call(this),!l&&((i=this.onFinalize)===null||i===void 0||i.call(this))}},u}(eh),X_=function(r){function u(i,l){return r.call(this)||this}return Ku(u,r),u.prototype.schedule=function(i,l){return this},u}(as),Ad={setInterval:function(r,u){for(var i=[],l=2;l<arguments.length;l++)i[l-2]=arguments[l];var s=Ad.delegate;return s?.setInterval?s.setInterval.apply(s,fo([r,u],so(i))):setInterval.apply(void 0,fo([r,u],so(i)))},clearInterval:function(r){return clearInterval(r)},delegate:void 0},Z_=function(r){function u(i,l){var s=r.call(this,i,l)||this;return s.scheduler=i,s.work=l,s.pending=!1,s}return Ku(u,r),u.prototype.schedule=function(i,l){if(l===void 0&&(l=0),this.closed)return this;this.state=i;var s=this.id,h=this.scheduler;return s!=null&&(this.id=this.recycleAsyncId(h,s,l)),this.pending=!0,this.delay=l,this.id=this.id||this.requestAsyncId(h,this.id,l),this},u.prototype.requestAsyncId=function(i,l,s){return s===void 0&&(s=0),Ad.setInterval(i.flush.bind(i,this),s)},u.prototype.recycleAsyncId=function(i,l,s){if(s===void 0&&(s=0),s!=null&&this.delay===s&&this.pending===!1)return l;Ad.clearInterval(l)},u.prototype.execute=function(i,l){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var s=this._execute(i,l);if(s)return s;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},u.prototype._execute=function(i,l){var s,h=!1;try{this.work(i)}catch(p){h=!0,s=p||new Error("Scheduled action threw falsy error")}if(h)return this.unsubscribe(),s},u.prototype.unsubscribe=function(){if(!this.closed){var i=this.id,l=this.scheduler,s=l.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Ed(s,this),i!=null&&(this.id=this.recycleAsyncId(l,i,null)),this.delay=null,r.prototype.unsubscribe.call(this)}},u}(X_),I_={now:function(){return Date.now()}},Rp=function(){function r(u,i){i===void 0&&(i=r.now),this.schedulerActionCtor=u,this.now=i}return r.prototype.schedule=function(u,i,l){return i===void 0&&(i=0),new this.schedulerActionCtor(this,u).schedule(l,i)},r.now=I_.now,r}(),nh=new(function(r){function u(i,l){l===void 0&&(l=Rp.now);var s=r.call(this,i,l)||this;return s.actions=[],s._active=!1,s._scheduled=void 0,s}return Ku(u,r),u.prototype.flush=function(i){var l=this.actions;if(this._active)l.push(i);else{var s;this._active=!0;do if(s=i.execute(i.state,i.delay))break;while(i=l.shift());if(this._active=!1,s){for(;i=l.shift();)i.unsubscribe();throw s}}},u}(Rp))(Z_),J_=nh;function Pm(r){return r&&Kt(r.schedule)}function $_(r,u,i){r===void 0&&(r=0),i===void 0&&(i=J_);var l=-1;return u!=null&&(Pm(u)?i=u:l=u),new tr(function(s){var h,p=(h=r)instanceof Date&&!isNaN(h)?+r-i.now():r;p<0&&(p=0);var g=0;return i.schedule(function(){s.closed||(s.next(g++),0<=l?this.schedule(void 0,l):s.complete())},p)})}function Wm(r){return Pm((u=r)[u.length-1])?r.pop():void 0;var u}function Pa(r,u,i,l,s){l===void 0&&(l=0),s===void 0&&(s=!1);var h=u.schedule(function(){i(),s?r.add(this.schedule(null,l)):this.unsubscribe()},l);if(r.add(h),!s)return h}function Td(r){return Cn(function(u,i){var l,s=null,h=!1;s=u.subscribe(Rn(i,void 0,void 0,function(p){l=Ti(r(p,Td(r)(u))),s?(s.unsubscribe(),s=null,l.subscribe(i)):h=!0})),h&&(s.unsubscribe(),s=null,l.subscribe(i))})}function Cp(r,u){return u===void 0&&(u=0),Cn(function(i,l){i.subscribe(Rn(l,function(s){return Pa(l,r,function(){return l.next(s)},u)},function(){return Pa(l,r,function(){return l.complete()},u)},function(s){return Pa(l,r,function(){return l.error(s)},u)}))})}function kp(r,u){return u===void 0&&(u=0),Cn(function(i,l){l.add(r.schedule(function(){return i.subscribe(l)},u))})}function Mp(r,u){if(!r)throw new Error("Iterable cannot be null");return new tr(function(i){Pa(i,u,function(){var l=r[Symbol.asyncIterator]();Pa(i,u,function(){l.next().then(function(s){s.done?i.complete():i.next(s.value)})},0,!0)})})}function P_(r,u){if(r!=null){if(Vm(r))return function(i,l){return Ti(i).pipe(kp(l),Cp(l))}(r,u);if(Hm(r))return function(i,l){return new tr(function(s){var h=0;return l.schedule(function(){h===i.length?s.complete():(s.next(i[h++]),s.closed||this.schedule())})})}(r,u);if(Lm(r))return function(i,l){return Ti(i).pipe(kp(l),Cp(l))}(r,u);if(Qm(r))return Mp(r,u);if(Im(r))return function(i,l){return new tr(function(s){var h;return Pa(s,l,function(){h=i[Zm](),Pa(s,l,function(){var p,g,S;try{g=(p=h.next()).value,S=p.done}catch(b){return void s.error(b)}S?s.complete():s.next(g)},0,!0)}),function(){return Kt(h?.return)&&h.return()}})}(r,u);if($m(r))return function(i,l){return Mp(Jm(i),l)}(r,u)}throw Xm(r)}function wr(r,u){return Cn(function(i,l){var s=0;i.subscribe(Rn(l,function(h){l.next(r.call(u,h,s++))}))})}function rh(r,u,i){return i===void 0&&(i=1/0),Kt(u)?rh(function(l,s){return wr(function(h,p){return u(l,h,s,p)})(Ti(r(l,s)))},i):(typeof u=="number"&&(i=u),Cn(function(l,s){return function(h,p,g,S,b,v,A,O){var T=[],k=0,Q=0,ne=!1,se=function(){!ne||T.length||k||p.complete()},me=function(_e){return k<S?ee(_e):T.push(_e)},ee=function(_e){v&&p.next(_e),k++;var oe=!1;Ti(g(_e,Q++)).subscribe(Rn(p,function(ce){b?.(ce),v?me(ce):p.next(ce)},function(){oe=!0},void 0,function(){if(oe)try{k--;for(var ce=function(){var Ue=T.shift();A?Pa(p,A,function(){return ee(Ue)}):ee(Ue)};T.length&&k<S;)ce();se()}catch(Ue){p.error(Ue)}}))};return h.subscribe(Rn(p,me,function(){ne=!0,se()})),function(){O?.()}}(l,s,r,i)}))}function W_(){return(r=1)===void 0&&(r=1/0),rh(is,r);var r}function Np(r,u){return u===void 0&&(u=nh),Cn(function(i,l){var s=null,h=null,p=null,g=function(){if(s){s.unsubscribe(),s=null;var b=h;h=null,l.next(b)}};function S(){var b=p+r,v=u.now();if(v<b)return s=this.schedule(void 0,b-v),void l.add(s);g()}i.subscribe(Rn(l,function(b){h=b,p=u.now(),s||(s=u.schedule(S,r),l.add(s))},function(){g(),l.complete()},void 0,function(){h=s=null}))})}function jd(){for(var r,u,i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];return W_()((r=i,(u=Wm(i))?P_(r,u):Ti(r)))}var F_=new tr(function(r){return r.complete()});function Ou(r){return r<=0?function(){return F_}:Cn(function(u,i){var l=0;u.subscribe(Rn(i,function(s){++l<=r&&(i.next(s),r<=l&&i.complete())}))})}function Fm(r,u){return u?function(i){return jd(u.pipe(Ou(1),Cn(function(l,s){l.subscribe(Rn(s,xd))})),i.pipe(Fm(r)))}:rh(function(i,l){return r(i,l).pipe(Ou(1),function(s){return wr(function(){return s})}(i))})}function eb(r,u){u===void 0&&(u=nh);var i=$_(r,u);return Fm(function(){return i})}function tb(r,u){return u===void 0&&(u=is),r=r??eS,Cn(function(i,l){var s,h=!0;i.subscribe(Rn(l,function(p){var g=u(p);!h&&r(s,g)||(h=!1,s=g,l.next(p))}))})}function eS(r,u){return r===u}function _r(r,u){return Cn(function(i,l){var s=0;i.subscribe(Rn(l,function(h){return r.call(u,h,s++)&&l.next(h)}))})}function zp(r){return _r(function(u,i){return r<=i})}function tS(){for(var r=[],u=0;u<arguments.length;u++)r[u]=arguments[u];var i=Wm(r);return Cn(function(l,s){(i?jd(r,l,i):jd(r,l)).subscribe(s)})}function pn(r,u){return Cn(function(i,l){var s=null,h=0,p=!1,g=function(){return p&&!s&&l.complete()};i.subscribe(Rn(l,function(S){s?.unsubscribe();var b=0,v=h++;Ti(r(S,v)).subscribe(s=Rn(l,function(A){return l.next(u?u(S,A,v,b++):A)},function(){s=null,g()}))},function(){p=!0,g()}))})}function Bp(r,u,i){var l=Kt(r)||u||i?{next:r,error:u,complete:i}:r;return l?Cn(function(s,h){var p;(p=l.subscribe)===null||p===void 0||p.call(l);var g=!0;s.subscribe(Rn(h,function(S){var b;(b=l.next)===null||b===void 0||b.call(l,S),h.next(S)},function(){var S;g=!1,(S=l.complete)===null||S===void 0||S.call(l),h.complete()},function(S){var b;g=!1,(b=l.error)===null||b===void 0||b.call(l,S),h.error(S)},function(){var S,b;g&&((S=l.unsubscribe)===null||S===void 0||S.call(l)),(b=l.finalize)===null||b===void 0||b.call(l)}))}):is}function nb(r,u){return qe(this,void 0,void 0,function*(){try{const i=yield navigator.serviceWorker.ready;if(u==="push"&&i.sync&&(yield i.sync.register(`dexie-cloud:${r.name}`)),!i.active)throw new Error("Failed to trigger sync - there's no active service worker");return void i.active.postMessage({type:"dexie-cloud-sync",dbName:r.name,purpose:u})}catch{}})}function aa(r,u){r.cloud.usingServiceWorker?nb(r,u):r.localSyncEvent.next({purpose:u})}const rb=typeof Buffer<"u"?r=>Buffer.from(r,"base64"):r=>{const u=atob(r),i=u.length,l=new Uint8Array(i);for(var s=0;s<i;s++)l[s]=u.charCodeAt(s);return l},po=typeof Buffer<"u"?r=>ArrayBuffer.isView(r)?Buffer.from(r.buffer,r.byteOffset,r.byteLength).toString("base64"):Buffer.from(r).toString("base64"):r=>{const u=ArrayBuffer.isView(r)?r:new Uint8Array(r),i=[];for(let l=0,s=u.length;l<s;l+=4096){const h=u.subarray(l,l+4096);i.push(String.fromCharCode.apply(null,h))}return btoa(i.join(""))};class Dd extends Error{constructor({title:u,message:i,messageCode:l,messageParams:s}){super(i),this.name="TokenErrorResponseError",this.title=u,this.messageCode=l,this.messageParams=s}}function mo(r,u){return new Promise((i,l)=>{const s=Object.assign(Object.assign({submitLabel:"Submit",cancelLabel:"Cancel"},u),{onSubmit:h=>{r.next(void 0),i(h)},onCancel:()=>{r.next(void 0),l(new Tt.AbortError("User cancelled"))}});r.next(s)})}function Ud(r,u,...i){return mo(r,{type:"message-alert",title:u,alerts:i,fields:{},submitLabel:"OK",cancelLabel:null})}function qp(r,u,i){return qe(this,void 0,void 0,function*(){let l=i||"";for(;!l||!/^[\w-+.]+@([\w-]+\.)+[\w-]{2,10}(\sas\s[\w-+.]+@([\w-]+\.)+[\w-]{2,10})?$/.test(l);)l=(yield mo(r,{type:"email",title:u,alerts:l?[{type:"error",messageCode:"INVALID_EMAIL",message:"Please enter a valid email address",messageParams:{}}]:[],fields:{email:{type:"email",placeholder:"you@somedomain.com"}}})).email;return l})}function Kp(r,u,i){return qe(this,void 0,void 0,function*(){const l=[{type:"info",messageCode:"OTP_SENT",message:"A One-Time password has been sent to {email}",messageParams:{email:u}}];i&&l.push(i);const{otp:s}=yield mo(r,{type:"otp",title:"Enter OTP",alerts:l,fields:{otp:{type:"otp",label:"OTP",placeholder:"Paste OTP here"}}});return s})}function ah(r){var u,i,l;return qe(this,void 0,void 0,function*(){const s=yield r.getCurrentUser(),{accessToken:h,accessTokenExpiration:p,refreshToken:g,refreshTokenExpiration:S,claims:b}=s;if(!h)return null;if(((u=p?.getTime())!==null&&u!==void 0?u:1/0)>Date.now()&&(((i=s.license)===null||i===void 0?void 0:i.status)||"ok")==="ok")return s;if(!g)throw new Error("Refresh token missing");if(((l=S?.getTime())!==null&&l!==void 0?l:1/0)<=Date.now())throw new Error("Refresh token has expired");const v=yield us(r.cloud.options.databaseUrl,s);return yield r.table("$logins").update(b.sub,{accessToken:v.accessToken,accessTokenExpiration:v.accessTokenExpiration,claims:v.claims,license:v.license}),v})}function nS(r,u,i,l,s){return qe(this,void 0,void 0,function*(){return u.accessToken&&u.accessTokenExpiration.getTime()>Date.now()?u:u.refreshToken&&(!u.refreshTokenExpiration||u.refreshTokenExpiration.getTime()>Date.now())?yield us(r,u):yield function(h,p,g,S){return qe(this,void 0,void 0,function*(){if(!crypto.subtle)throw typeof location<"u"&&location.protocol==="http:"?new Error("Dexie Cloud Addon needs to use WebCrypto, but your browser has disabled it due to being served from an insecure location. Please serve it from https or http://localhost:<port> (See https://stackoverflow.com/questions/46670556/how-to-enable-crypto-subtle-for-unsecure-origins-in-chrome/46671627#46671627)"):new Error("This browser does not support WebCrypto.");const{privateKey:b,publicKey:v}=yield crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!1,["sign","verify"]);if(!b||!v)throw new Error("Could not generate RSA keypair");h.nonExportablePrivateKey=b;const A=function(O){const T=po(O);return function(k){let Q=`-----BEGIN PUBLIC KEY-----
`;for(;k.length>0;)Q+=k.substring(0,64)+`
`,k=k.substring(64);return Q+="-----END PUBLIC KEY-----",Q}(T)}(yield crypto.subtle.exportKey("spki",v));h.publicKey=v;try{const O=yield p({public_key:A,hints:S});if(O.type==="error")throw new Dd(O);if(O.type!=="tokens")throw new Error(`Unexpected response type from token endpoint: ${O.type}`);return h.accessToken=O.accessToken,h.accessTokenExpiration=new Date(O.accessTokenExpiration),h.refreshToken=O.refreshToken,O.refreshTokenExpiration&&(h.refreshTokenExpiration=new Date(O.refreshTokenExpiration)),h.userId=O.claims.sub,h.email=O.claims.email,h.name=O.claims.name,h.claims=O.claims,h.license={type:O.userType,status:O.claims.license||"ok"},h.data=O.data,O.evalDaysLeft!=null&&(h.license.evalDaysLeft=O.evalDaysLeft),O.userValidUntil!=null&&(h.license.validUntil=new Date(O.userValidUntil)),O.alerts&&O.alerts.length>0&&(yield mo(g,{type:"message-alert",title:"Authentication Alert",fields:{},alerts:O.alerts})),h}catch(O){if(O instanceof Dd)throw yield Ud(g,O.title,{type:"error",messageCode:O.messageCode,message:O.message,messageParams:{}}),O;let T="We're having a problem authenticating right now.";throw O instanceof TypeError&&(T=typeof navigator!==void 0&&!navigator.onLine?"You seem to be offline. Please connect to the internet and try again.":Tt.debug||typeof location<"u"&&(location.hostname==="localhost"||location.hostname==="127.0.0.1")?`Could not connect to server. Please verify that your origin '${location.origin}' is whitelisted using \`npx dexie-cloud whitelist\``:"Could not connect to server. Please verify the connection.",yield Ud(g,"Authentication Failed",{type:"error",messageCode:"GENERIC_ERROR",message:T,messageParams:{}}).catch(()=>{})),O}})}(u,i,l,s)})}function us(r,u){return qe(this,void 0,void 0,function*(){if(!u.refreshToken)throw new Error("Cannot refresh token - refresh token is missing.");if(!u.nonExportablePrivateKey)throw new Error("login.nonExportablePrivateKey is missing - cannot sign refresh token without a private key.");const i=Date.now(),l="RSASSA-PKCS1-v1_5",s=new TextEncoder().encode(u.refreshToken+i),h=yield crypto.subtle.sign(l,u.nonExportablePrivateKey,s),p=po(h),g={grant_type:"refresh_token",refresh_token:u.refreshToken,scopes:["ACCESS_DB"],signature:p,signing_algorithm:l,time_stamp:i},S=yield fetch(`${r}/token`,{body:JSON.stringify(g),method:"post",headers:{"Content-Type":"application/json"},mode:"cors"});if(S.status!==200)throw new Error(`RefreshToken: Status ${S.status} from ${r}/token`);const b=yield S.json();if(b.type==="error")throw new Dd(b);return u.accessToken=b.accessToken,u.accessTokenExpiration=b.accessTokenExpiration?new Date(b.accessTokenExpiration):void 0,u.claims=b.claims,u.license={type:b.userType,status:b.claims.license||"ok"},b.evalDaysLeft!=null&&(u.license.evalDaysLeft=b.evalDaysLeft),b.userValidUntil!=null&&(u.license.validUntil=new Date(b.userValidUntil)),b.data&&(u.data=b.data),u})}const Hp=new WeakMap;class ih{constructor(u,i){Hp.set(this,u),Object.assign(this,i)}static load(u,i){return u.table("$logins").get(i).then(l=>new ih(u,l||{userId:i,claims:{sub:i},lastLogin:new Date(0)}))}save(){return qe(this,void 0,void 0,function*(){Hp.get(this).table("$logins").put(this)})}}const Un={userId:"unauthorized",name:"Unauthorized",claims:{sub:"unauthorized"},lastLogin:new Date(0)};try{Object.freeze(Un),Object.freeze(Un.claims)}catch{}function ab(r,u){return Tu(Er(r).pipe(M_(u)))}function ib(r){return qe(this,void 0,void 0,function*(){const u=yield Rd(r);if(u){if(!(yield function(i,l,s){return qe(this,void 0,void 0,function*(){const h=[{type:"warning",messageCode:"LOGOUT_CONFIRMATION",message:`{numUnsyncedChanges} unsynced changes will get lost!
                Logout anyway?`,messageParams:{currentUserId:l,numUnsyncedChanges:s.toString()}}];return yield mo(i,{type:"logout-confirmation",title:"Confirm Logout",alerts:h,fields:{},submitLabel:"Confirm logout",cancelLabel:"Cancel"}).then(()=>!0).catch(()=>!1)})}(r.cloud.userInteraction,r.cloud.currentUserId,u)))throw new Error("User cancelled logout due to unsynced changes");yield Rd(r,{deleteUnsyncedData:!0})}})}function Rd(r,{deleteUnsyncedData:u=!1}={}){return qe(this,void 0,void 0,function*(){const[i,l]=yield r.dx.transaction("rw",r.dx.tables,s=>qe(this,void 0,void 0,function*(){const h=s.idbtrans;h.disableChangeTracking=!0,h.disableAccessControl=!0;const p=s.storeNames.filter(S=>S.endsWith("_mutations")),g=(yield Promise.all(p.map(S=>s.table(S).count()))).reduce((S,b)=>S+b,0);if(g>0&&!u)return[g,!1];r.$syncState.delete("syncState");for(const S of r.dx.tables)S.name!=="$jobs"&&S.name!=="$syncState"&&S.clear();return[g,!0]}));return l&&(yield ab(r.cloud.currentUser,s=>s.userId===Un.userId),yield r.cloud.sync({purpose:"pull",wait:!0})),i})}class Cd extends Error{constructor(u,i){super(i||`${u.status} ${u.statusText}`),this.httpStatus=u.status}get name(){return"HttpError"}}function Nc(r,...u){globalThis.console[r](...u)}function cd(r,u){var i;return qe(this,void 0,void 0,function*(){const l=yield r.getCurrentUser(),s=l.userId;if(l.isLoggedIn&&(!u||!u.email&&!u.userId)){if((((i=l.license)===null||i===void 0?void 0:i.status)||"ok")==="ok"&&l.accessToken&&(!l.accessTokenExpiration||l.accessTokenExpiration.getTime()>Date.now()))return!1;if(l.refreshToken&&(!l.refreshTokenExpiration||l.refreshTokenExpiration.getTime()>Date.now()))return yield ah(r),!1}const h=new ih(r,{claims:{},lastLogin:new Date(0)});return yield nS(r.cloud.options.databaseUrl,h,r.cloud.options.fetchTokens||function(p){const{userInteraction:g}=p.cloud;return function({public_key:S,hints:b}){var v;return qe(this,void 0,void 0,function*(){let A;const O=(v=p.cloud.options)===null||v===void 0?void 0:v.databaseUrl;if(!O)throw new Error("No database URL given.");if(b?.grant_type==="demo")A={demo_user:yield qp(g,"Enter a demo user email",b?.email||b?.userId),grant_type:"demo",scopes:["ACCESS_DB"],public_key:S};else if(b?.otpId&&b.otp)A={grant_type:"otp",otp_id:b.otpId,otp:b.otp,scopes:["ACCESS_DB"],public_key:S};else{const Q=yield qp(g,"Enter email address",b?.email);A=/@demo.local$/.test(Q)?{demo_user:Q,grant_type:"demo",scopes:["ACCESS_DB"],public_key:S}:{email:Q,grant_type:"otp",scopes:["ACCESS_DB"]}}const T=yield fetch(`${O}/token`,{body:JSON.stringify(A),method:"post",headers:{"Content-Type":"application/json",mode:"cors"}});if(T.status!==200){const Q=yield T.text();throw yield Ud(g,"Token request failed",{type:"error",messageCode:"GENERIC_ERROR",message:Q,messageParams:{}}).catch(()=>{}),new Cd(T,Q)}const k=yield T.json();if(k.type==="tokens"||k.type==="error")return k;if(A.grant_type==="otp"&&"email"in A){if(k.type!=="otp-sent")throw new Error(`Unexpected response from ${O}/token`);const Q=yield Kp(g,A.email),ne=Object.assign(Object.assign({},A),{otp:Q||"",otp_id:k.otp_id,public_key:S});let se=yield fetch(`${O}/token`,{body:JSON.stringify(ne),method:"post",headers:{"Content-Type":"application/json"},mode:"cors"});for(;se.status===401;){const me=yield se.text();ne.otp=yield Kp(g,A.email,{type:"error",messageCode:"INVALID_OTP",message:me,messageParams:{}}),se=yield fetch(`${O}/token`,{body:JSON.stringify(ne),method:"post",headers:{"Content-Type":"application/json"},mode:"cors"})}if(se.status!==200){const me=yield se.text();throw new Cd(se,me)}return yield se.json()}throw new Error(`Unexpected response from ${O}/token`)})}}(r),r.cloud.userInteraction,u),s!==Un.userId&&h.userId!==s&&(yield ib(r)),yield function(p,g){return qe(this,void 0,void 0,function*(){if(g.userId===p.cloud.currentUserId)return;const S=p.table("$logins");yield p.transaction("rw",S,b=>qe(this,void 0,void 0,function*(){const v=yield S.toArray();yield Promise.all(v.filter(A=>A.userId!==g.userId&&A.isLoggedIn).map(A=>(A.isLoggedIn=!1,S.put(A)))),g.isLoggedIn=!0,g.lastLogin=new Date;try{yield g.save()}catch(A){try{A.name==="DataCloneError"&&(Nc("debug","Login context property names:",Object.keys(g)),Nc("debug","Login context property names:",Object.keys(g)),Nc("debug","Login context:",g),Nc("debug","Login context JSON:",JSON.stringify(g)))}catch{}throw A}})),yield ab(p.cloud.currentUser,b=>b.userId===g.userId)})}(r,h),aa(r,"pull"),h.userId!==s})}const kd={},io=typeof self<"u"&&self.document&&typeof navigator<"u"&&navigator.serviceWorker;io&&io.ready.then(r=>kd.registration=r),typeof self<"u"&&"clients"in self&&!self.document&&addEventListener("message",r=>{var u,i;!((i=(u=r.data)===null||u===void 0?void 0:u.type)===null||i===void 0)&&i.startsWith("sw-broadcast-")&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(l=>{var s;return l.id!==((s=r.source)===null||s===void 0?void 0:s.id)&&l.postMessage(r.data)})});class sd{constructor(u){this.name=u}subscribe(u){if(!io)return()=>{};const i=l=>{var s;((s=l.data)===null||s===void 0?void 0:s.type)===`sw-broadcast-${this.name}`&&u(l.data.message)};return io.addEventListener("message",i),()=>io.removeEventListener("message",i)}postMessage(u){var i;typeof self.clients=="object"?[...self.clients.matchAll({includeUncontrolled:!0})].forEach(l=>l.postMessage({type:`sw-broadcast-${this.name}`,message:u})):kd.registration&&((i=kd.registration.active)===null||i===void 0||i.postMessage({type:`sw-broadcast-${this.name}`,message:u}))}}const to=globalThis["lbc-events"]||(globalThis["lbc-events"]=new Map);class zc extends Qt{constructor(u){const i=typeof BroadcastChannel>"u"?new sd(u):new BroadcastChannel(u);super(l=>{function s(g){l.next(g.detail)}function h(g){l.next(g.data)}let p;(function(g,S){to.has(g)?to.get(g).push(S):to.set(g,[S])})(`lbc-${u}`,s);try{i instanceof sd?p=i.subscribe(g=>l.next(g)):i.addEventListener("message",h)}catch{}return()=>{(function(g,S){const b=to.get(g);if(b){const v=b.indexOf(S);v!==-1&&b.splice(v,1)}})(`lbc-${u}`,s),i instanceof sd?p():i.removeEventListener("message",h)}}),this.name=u,this.bc=i}next(u){this.bc.postMessage(u),function(i){const l=to.get(i.type);l&&l.forEach(s=>{try{s(i)}catch{}})}(new CustomEvent(`lbc-${this.name}`,{detail:u}))}}function Md({realms:r,inviteRealms:u}){return qe(this,void 0,void 0,function*(){const i=JSON.stringify([...r.map(h=>({realmId:h,accepted:!0})),...u.map(h=>({realmId:h,accepted:!1}))].sort((h,p)=>h.realmId<p.realmId?-1:h.realmId>p.realmId?1:0)),l=new TextEncoder().encode(i),s=yield crypto.subtle.digest("SHA-1",l);return po(s)})}function Yc(r){return Object.entries(r.cloud.schema||{}).filter(([,{markedForSync:u}])=>u).map(([u])=>r.tables.filter(({name:i})=>i===u)[0]).filter(u=>u)}function uh(r){return`$${r}_mutations`}function ub(r){var u;const i=(u=/^\$(.*)_mutations$/.exec(r))===null||u===void 0?void 0:u[1];if(!i)throw new Error(`Given mutationTable ${r} is not correct`);return i}const rS=[].concat;function lb(r){return rS.apply([],r)}function Nd(r,u,{since:i={},limit:l=1/0}={}){return qe(this,void 0,void 0,function*(){const s=lb(yield Promise.all(r.map(S=>qe(this,void 0,void 0,function*(){const b=ub(S.name),v=i[b];let A=v?S.where("rev").above(v):S;return l<1/0&&(A=A.limit(l)),(yield A.toArray()).map(O=>({table:b,mut:O}))})))).sort((S,b)=>S.mut.txid===b.mut.txid?S.mut.opNo-b.mut.opNo:S.mut.ts-b.mut.ts),h=[];let p=null,g=null;for(const{table:S,mut:b}of s)p&&p.table===S&&g===b.txid?p.muts.push(b):(p={table:S,muts:[b]},g=b.txid,h.push(p));return h})}function ob(r){const u=new Uint8Array(r);if(typeof crypto<"u")crypto.getRandomValues(u);else for(let i=0;i<r;i++)u[i]=Math.floor(256*Math.random());if(typeof Buffer<"u"&&Buffer.from)return Buffer.from(u).toString("base64");if(typeof btoa<"u")return btoa(String.fromCharCode.apply(null,u));throw new Error("No btoa or Buffer available")}const{toString:aS}={},Lp={replace:function(r){const u=Object.keys(r);let i=null;for(let s=0,h=u.length;s<h;++s)u[s][0]==="$"&&(i=i||[],i.push(u[s]));if(!i)return r;const l={...r};for(const s of i)delete l[s];for(const s of i)l["$"+s]=r[s];return l}};function cb(...r){const u=r.reduce((l,s)=>({...l,...s}),r.reduce((l,s)=>({...s,...l}),{})),i=new WeakMap;return{stringify(l,s,h){return JSON.stringify(l,function(g){const S=this[g],b=function(v){const A=typeof v;switch(typeof v){case"object":case"function":{if(v===null)return null;const T=Object.getPrototypeOf(v);if(!T)return Lp;let k=i.get(T);if(k!==void 0)return k;const Q=(O=v,aS.call(O).slice(8,-1)),ne=Object.entries(u).find(([se,me])=>{var ee,_e;return(_e=(ee=me?.test)===null||ee===void 0?void 0:ee.call(me,v,Q))!==null&&_e!==void 0?_e:se===Q});return k=ne?.[1],k||(k=Array.isArray(v)?null:typeof v=="function"?u.function||null:Lp),i.set(T,k),k}default:return u[A]}var O}(S);return b?b.replace(S,s,u):S},h)},parse(l,s){const h=[];return JSON.parse(l,function(p,g){const S=g?.$t;if(S){const v=u[S];g=v?v.revive(g,s,u):g}let b=h[h.length-1];if(b&&b[0]===g){g={...g};for(const v of b[1])delete g[v];for(const[v,A]of Object.entries(b[2]))g[v]=A;h.pop()}if(g===void 0||p[0]==="$"&&p!=="$t"){let v,A;b=h[h.length-1],b&&b[0]===this?(v=b[1],A=b[2]):h.push([this,v=[],A={}]),p[0]==="$"&&p!=="$t"?(v.push(p),A[p.substr(1)]=g):A[p]=void 0}return g})}}}const iS={Blob:{test:(r,u)=>u==="Blob",replace:(r,u)=>{const i=u.length;return u.push(r),{$t:"Blob",mimeType:r.type,i}},revive:({i:r,mimeType:u},i)=>new Blob([i[r]],{type:u})}};var uS={number:{replace:r=>{switch(!0){case isNaN(r):return{$t:"number",v:"NaN"};case r===1/0:return{$t:"number",v:"Infinity"};case r===-1/0:return{$t:"number",v:"-Infinity"};default:return r}},revive:({v:r})=>Number(r)}};const lS={bigint:{replace:r=>({$t:"bigint",v:""+r}),revive:r=>BigInt(r.v)}};var oS={Date:{replace:r=>({$t:"Date",v:isNaN(r.getTime())?"NaN":r.toISOString()}),revive:({v:r})=>new Date(r==="NaN"?NaN:Date.parse(r))}},cS={Set:{replace:r=>({$t:"Set",v:Array.from(r.entries())}),revive:({v:r})=>new Set(r)}},sS={Map:{replace:r=>({$t:"Map",v:Array.from(r.entries())}),revive:({v:r})=>new Map(r)}};const fS=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:void 0;var dS=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","DataView","BigInt64Array","BigUint64Array"].reduce((r,u)=>({...r,[u]:{replace:(i,l,s)=>({$t:u,v:s.ArrayBuffer.replace(i.byteOffset===0&&i.byteLength===i.buffer.byteLength?i.buffer:i.buffer.slice(i.byteOffset,i.byteOffset+i.byteLength),l,s).v}),revive:({v:i},l,s)=>{const h=fS[u];return h&&new h(s.ArrayBuffer.revive({v:i},l,s))}}}),{});function sb(r){return function(u){for(var i="",l=0,s=u.length;l<s;l++)i+=fb[u[l]];return i}(po(r))}function hS(r){return rb(function(u){if(typeof u!="string")throw new Error("invalid decoder input: "+u);for(var i="",l=0,s=u.length;l<s;l++)i+=zd[u[l]];return i}(r))}const zd={"-":"=",0:"A",1:"B",2:"C",3:"D",4:"E",5:"F",6:"G",7:"H",8:"I",9:"J",A:"K",B:"L",C:"M",D:"N",E:"O",F:"P",G:"Q",H:"R",I:"S",J:"T",K:"U",L:"V",M:"W",N:"X",O:"Y",P:"Z",Q:"a",R:"b",S:"c",T:"d",U:"e",V:"f",W:"g",X:"h",Y:"i",Z:"j",_:"k",a:"l",b:"m",c:"n",d:"o",e:"p",f:"q",g:"r",h:"s",i:"t",j:"u",k:"v",l:"w",m:"x",n:"y",o:"z",p:"0",q:"1",r:"2",s:"3",t:"4",u:"5",v:"6",w:"7",x:"8",y:"9",z:"+","|":"/"},fb={};for(const r of Object.keys(zd))fb[zd[r]]=r;var yS={ArrayBuffer:{replace:r=>({$t:"ArrayBuffer",v:sb(r)}),revive:({v:r})=>{const u=hS(r);return u.buffer.byteLength===u.byteLength?u.buffer:u.buffer.slice(u.byteOffset,u.byteOffset+u.byteLength)}}};class fd{constructor(u,i){this.buf=u,this.type=i}}function vS(r){const u=new XMLHttpRequest;if(u.overrideMimeType("text/plain; charset=x-user-defined"),u.open("GET",URL.createObjectURL(r),!1),u.send(),u.status!==200&&u.status!==0)throw new Error("Bad Blob access: "+u.status);return u.responseText}function pS(r){const u=new Uint8Array(r.length);for(let i=0;i<r.length;++i)u[i]=r.charCodeAt(i);return u.buffer}var mS={Blob:{test:(r,u)=>u==="Blob"||r instanceof fd,replace:r=>({$t:"Blob",v:po(r instanceof fd?r.buf:pS(vS(r))),type:r.type}),revive:({type:r,v:u})=>{const i=rb(u);return typeof Blob!==void 0?new Blob([i]):new fd(i.buffer,r)}}};const db={...uS,...lS,...oS,...cS,...sS,...dS,...yS,...mS};function Yp(r){return new Promise((u,i)=>{const l=new FileReader;l.onabort=s=>i(new Error("file read aborted")),l.onerror=s=>i(s.target.error),l.onload=s=>u(s.target.result),l.readAsArrayBuffer(r)})}var bS={undefined:{replace:()=>({$t:"undefined"}),revive:()=>{}}};const gS=typeof BigInt=="function"&&typeof BigInt(0)=="bigint";class Gp{toString(){return this.v}constructor(u){this.v=u}}const _S=gS?{}:{bigint:{test:r=>r instanceof Gp,replace:r=>Object.assign({$t:"bigint"},r),revive:({v:r})=>new Gp(r)}},hb=Object.assign(Object.assign(Object.assign({},bS),_S),{PropModification:{test:r=>r instanceof pp,replace:r=>Object.assign({$t:"PropModification"},r["@@propmod"]),revive:r=>{var u=function(i,l){var s={};for(var h in i)Object.prototype.hasOwnProperty.call(i,h)&&l.indexOf(h)<0&&(s[h]=i[h]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function"){var p=0;for(h=Object.getOwnPropertySymbols(i);p<h.length;p++)l.indexOf(h[p])<0&&Object.prototype.propertyIsEnumerable.call(i,h[p])&&(s[h[p]]=i[h[p]])}return s}(r,["$t"]);return new pp(u)}}}),$c=cb(db,hb),SS=function(...r){const u=cb(db,iS,...r);return{toBinary(i){const[l,s]=this.stringify(i),h=new ArrayBuffer(4);return new DataView(h).setUint32(0,l.size),new Blob([h,l,s])},stringify(i){const l=[],s=u.stringify(i,l);return[new Blob(l.map(p=>{const g=new ArrayBuffer(4);return new DataView(g).setUint32(0,"byteLength"in p?p.byteLength:p.size),new Blob([g,p])})),s]},async parse(i,l){let s=0;const h=[],p=await Yp(l),g=new DataView(p);for(;s<p.byteLength;){const S=g.getUint32(s);s+=4;const b=p.slice(s,s+S);s+=S,h.push(b)}return u.parse(i,h)},async fromBinary(i){const l=new DataView(await Yp(i.slice(0,4))).getUint32(0),s=i.slice(4,l+4),h=await function(p){return new Promise((g,S)=>{const b=new FileReader;b.onabort=v=>S(new Error("file read aborted")),b.onerror=v=>S(v.target.error),b.onload=v=>g(v.target.result),b.readAsText(p)})}(i.slice(l+4));return await this.parse(h,s)}}}(hb);function wS(r,u,i){const l=[];for(let s of i){const{table:h,muts:p}=s,g=r.tables.find(v=>v.name===h);if(!g)throw new Error(`Internal error: table ${h} not found in DBCore schema`);const{primaryKey:S}=g;let b=s;p.forEach((v,A)=>{const O=!S.outbound&&(v.type==="upsert"||v.type==="insert");v.keys.forEach((T,k)=>{if(Array.isArray(T)){b===s&&(b=Vp(s,O));const Q=b.muts[A],ne=JSON.stringify(T);Q.keys[k]=ne}else if(T[0]==="#"){b===s&&(b=Vp(s,O));const Q=b.muts[A];if(!u.isLoggedIn)throw new Error("Internal error: Cannot sync private IDs before authenticated");const ne=`${T}:${u.userId}`;Q.keys[k]=ne,O&&Tt.setByKeyPath(Q.values[k],S.keyPath,ne)}})}),l.push(b)}return l}function Vp(r,u){return Object.assign(Object.assign({},r),{muts:u?r.muts.map(i=>i.type!=="insert"&&i.type!=="upsert"||!i.values?Object.assign(Object.assign({},i),{keys:i.keys.slice()}):Object.assign(Object.assign({},i),{keys:i.keys.slice(),values:i.values.slice()})):r.muts.map(i=>Object.assign(Object.assign({},i),{keys:i.keys.slice()}))})}let Bd=new WeakMap;function yb(r){var u,i;return qe(this,void 0,void 0,function*(){const l=((i=(u=Bd.get(r))===null||u===void 0?void 0:u.getTime())!==null&&i!==void 0?i:0)-Date.now();l>0&&(yield new Promise(s=>setTimeout(s,l)))})}function ES(r,u,i,l,s,h,p,g){return qe(this,void 0,void 0,function*(){const S={Accept:"application/json, application/x-bison, application/x-bison-stream","Content-Type":"application/tson"},b=yield ah(l),v=b?.accessToken;v&&(S.Authorization=`Bearer ${v}`);const A={v:2,dbID:u?.remoteDbId,clientIdentity:p,schema:h||{},lastPull:u?{serverRevision:u.serverRevision,realms:u.realms,inviteRealms:u.inviteRealms}:void 0,baseRevs:i,changes:wS(l.dx.core.schema,g,r)};l.syncStateChangedEvent.next({phase:"pushing"});const O=yield fetch(`${s}/sync`,{method:"post",headers:S,credentials:"include",body:$c.stringify(A)});if(l.syncStateChangedEvent.next({phase:"pulling"}),function(T,k){const Q=k.headers.get("Ratelimit-Limit"),ne=k.headers.get("Ratelimit-Remaining"),se=k.headers.get("Ratelimit-Reset");if(Q&&ne&&se){const me=Number(Q),ee=Math.max(0,Number(ne)),_e=Number(se);if(ee<me/2){const oe=Math.ceil(_e/(ee+1));Bd.set(T,new Date(Date.now()+1e3*oe))}else Bd.delete(T)}}(l,O),!O.ok)throw new Cd(O);if(O.headers.get("content-type")==="application/x-bison")return SS.fromBinary(yield O.blob());{const T=yield O.text();return $c.parse(T)}})}function no(r){if(r?.cancelled)throw new Tt.AbortError("Operation was cancelled")}let Du=!1;function vb(r,u,i,l){return qe(this,void 0,void 0,function*(){yield r.$baseRevs.bulkPut(Object.keys(u).filter(s=>u[s].markedForSync).map(s=>({tableName:s,clientRev:(i[s]||0)+1,serverRev:l}))),yield r.$baseRevs.where("tableName").noneOf(Object.keys(u).filter(s=>u[s].markedForSync)).delete()})}function qd(r,u={}){for(const{table:i,muts:l}of r){const s=l.length>0?l[l.length-1].rev:null;u[i]=s||u[i]||0}return u}function xS(r,u,i){return qe(this,void 0,void 0,function*(){const l=yield r.bulkGet(u),s=[],h=[];u.forEach((p,g)=>{const S=l[g];if(S){for(const[b,v]of Object.entries(i[g]))if(b===r.schema.primKey.keyPath){if(j0(v,p)!==0)throw new Error("Cannot change primary key")}else Tt.setByKeyPath(S,b,v);s.push(p),h.push(S)}}),yield r.schema.primKey.keyPath==null?r.bulkPut(h,s):r.bulkPut(h)})}function pb(r,u){return qe(this,void 0,void 0,function*(){for(const{table:i,muts:l}of r){const s=u.table(i);if(!s)continue;const{primaryKey:h}=s.core.schema,p=g=>{switch(g[0]){case"[":if(g.endsWith("]"))try{return JSON.parse(g)}catch{}return g;case"#":return g.endsWith(":"+u.cloud.currentUserId)?g.substr(0,g.length-u.cloud.currentUserId.length-1):g;default:return g}};for(const g of l){const S=g.keys.map(p);switch(g.type){case"insert":h.outbound?yield s.bulkAdd(g.values,S):(S.forEach((b,v)=>{Tt.setByKeyPath(g.values[v],h.keyPath,b)}),yield s.bulkAdd(g.values));break;case"upsert":h.outbound?yield s.bulkPut(g.values,S):(S.forEach((b,v)=>{Tt.setByKeyPath(g.values[v],h.keyPath,b)}),yield s.bulkPut(g.values));break;case"modify":S.length===1?yield s.update(S[0],g.changeSpec):yield s.where(":id").anyOf(S).modify(g.changeSpec);break;case"update":yield xS(s,S,g.changeSpecs);break;case"delete":yield s.bulkDelete(S)}}}})}typeof self<"u"&&typeof navigator<"u"&&(Du=navigator.onLine,self.addEventListener("online",()=>Du=!0),self.addEventListener("offline",()=>Du=!1));const OS="currentSyncWorker";function ho(r,u,i,l){return mb.apply(this,arguments).then(s=>(l?.justCheckIfNeeded||r.syncStateChangedEvent.next({phase:"in-sync"}),s)).catch(s=>qe(this,void 0,void 0,function*(){return l?.justCheckIfNeeded?Promise.reject(s):Du&&l?.retryImmediatelyOnFetchError&&s?.name==="TypeError"&&/fetch/.test(s?.message)?(r.syncStateChangedEvent.next({phase:"error",error:s}),yield new Promise(h=>setTimeout(h,500)),yield ho(r,u,i,Object.assign(Object.assign({},l),{retryImmediatelyOnFetchError:!1}))):(yield r.$syncState.update("syncState",{timestamp:new Date,error:""+s}),r.syncStateChangedEvent.next({phase:Du?"error":"offline",error:new Error(""+s?.message||s)}),Promise.reject(s))}))}function mb(r,u,i,{isInitialSync:l,cancelToken:s,justCheckIfNeeded:h,purpose:p}={isInitialSync:!1}){var g;return qe(this,void 0,void 0,function*(){if(!(!((g=r.cloud.options)===null||g===void 0)&&g.databaseUrl))throw new Error("Internal error: sync must not be called when no databaseUrl is configured");const{databaseUrl:S}=u,b=yield r.getCurrentUser(),v=b.isLoggedIn?Yc(r):[],A=v.map(te=>r.table(uh(te.name))),O=yield r.getPersistedSyncState(),T=!l&&b.isLoggedIn,k=T?function(te,Se){const be=Se?.syncedTables||[];return Yc(te).filter(Ae=>!be.includes(Ae.name))}(r,O):[];no(s);const Q=k.length>0;if(Q){if(h)return!0;yield r.transaction("rw",k,te=>qe(this,void 0,void 0,function*(){te.idbtrans.disableChangeTracking=!0,te.idbtrans.disableAccessControl=!0,yield function(Se,be,Ae){return qe(this,void 0,void 0,function*(){const ke=new Set(Ae||[]);for(const we of Se)we.name==="members"?yield we.toCollection().modify(Ee=>{ke.has(Ee.realmId)||Ee.userId&&Ee.userId!==Un.userId||(Ee.userId=be.userId)}):we.name==="roles"||(we.name==="realms"?yield we.toCollection().modify(Ee=>{ke.has(Ee.realmId)||Ee.owner!==void 0&&Ee.owner!==Un.userId||(Ee.owner=be.userId)}):yield we.toCollection().modify(Ee=>{Ee.realmId&&ke.has(Ee.realmId)||(Ee.owner&&Ee.owner!==Un.userId||(Ee.owner=be.userId),Ee.realmId&&Ee.realmId!==Un.userId||(Ee.realmId=be.userId))}))})}(k,b,O?.realms)})),no(s)}const[ne,se,me]=yield r.transaction("r",r.tables,()=>qe(this,void 0,void 0,function*(){const te=yield r.getPersistedSyncState();let Se=yield r.$baseRevs.toArray();Se=Se.filter(Ae=>v.some(ke=>ke.name===Ae.tableName));let be=yield Nd(A);if(no(s),Q){const Ae=[...O?.realms||[],...O?.inviteRealms||[]],ke=yield function(we,Ee,Ce,I){return qe(this,void 0,void 0,function*(){const he=`upload-${ob(8)}`;if(Ee.isLoggedIn&&we.length>0){const je=new Set(I||[]);return(yield Promise.all(we.map(Le=>qe(this,void 0,void 0,function*(){const{extractKey:R}=Le.core.schema.primaryKey;if(!R)return{table:Le.name,muts:[]};const ie=Ce[Le.name],xe=ie?.generatedGlobalId?Le.filter(Re=>{return R(Re),!je.has(Re.realmId||"")&&(Ye=R(Re),!(He=ie?.idPrefix)||typeof Ye=="string"&&Ye.startsWith(He));var Ye,He}):Le.filter(Re=>{const Ye=R(Re);return!je.has(Re.realmId||"")&&Fd(Ye)}),pe=yield xe.toArray();if(pe.length>0){const Re={type:"upsert",values:pe,keys:pe.map(R),userId:Ee.userId,txid:he};return{table:Le.name,muts:[Re]}}return{table:Le.name,muts:[]}})))).filter(Le=>Le.muts.length>0)}return[]})}(k,b,i,Ae);return no(s),be=be.concat(ke),[be,te,Se]}return[be,te,Se]})),ee=ne.some(te=>te.muts.some(Se=>Se.keys.length>0));if(h)return ee;if(p==="push"&&!ee)return!1;const _e=qd(ne,se?.latestRevisions),oe=se?.clientIdentity||qm(16);no(s);const ce=yield ES(ne,se,me,r,S,i,oe,b);return(yield r.transaction("rw",r.tables,te=>qe(this,void 0,void 0,function*(){te.idbtrans.disableChangeTracking=!0,te.idbtrans.disableAccessControl=!0;for(const we of Object.keys(i))ce.schema[we]&&(i[we]=ce.schema[we]);yield r.$syncState.put(i,"schema");const Se=yield Nd(A,0,{since:_e});for(const we of A){const Ee=ub(we.name);if(Se.some(Ce=>Ce.table===Ee&&Ce.muts.length>0)){if(_e[Ee]){const Ce=_e[Ee]||0;yield Promise.all([we.where("rev").belowOrEqual(Ce).delete(),r.$baseRevs.where(":id").between([Ee,-1/0],[Ee,Ce+1],!0,!0).reverse().offset(1).delete()])}}else yield Promise.all([we.clear(),r.$baseRevs.where({tableName:Ee}).delete()])}qd(Se,_e),yield vb(r,i,_e,ce.serverRevision);const be=yield r.getPersistedSyncState();yield function(we,Ee,Ce){return qe(this,void 0,void 0,function*(){const I=new Set,he=new Set,je=Ce?Ce.realms:[],Le=Ce?Ce.inviteRealms:[],R=new Set(Ee.realms),ie=new Set(Ee.realms.concat(Ee.inviteRealms));for(const xe of je)R.has(xe)||(he.add(xe),ie.has(xe)||I.add(xe));for(const xe of Le.concat(je))ie.has(xe)||I.add(xe);if(I.size>0||he.size>0){const xe=Yc(we);for(const pe of xe){let Re=["realms","members","roles"].includes(pe.name)?I:he;Re.size!==0&&(pe.schema.indexes.some(Ye=>Ye.keyPath==="realmId"||Array.isArray(Ye.keyPath)&&Ye.keyPath[0]==="realmId")?yield pe.where("realmId").anyOf([...Re]).delete():yield pe.filter(Ye=>!!Ye?.realmId&&Re.has(Ye.realmId)).delete())}}})}(r,ce,be);const Ae=be||{syncedTables:[],latestRevisions:{},realms:[],inviteRealms:[],clientIdentity:oe};T&&(Ae.syncedTables=v.map(we=>we.name).concat(k.map(we=>we.name))),Ae.latestRevisions=_e,Ae.remoteDbId=ce.dbId,Ae.initiallySynced=!0,Ae.realms=ce.realms,Ae.inviteRealms=ce.inviteRealms,Ae.serverRevision=ce.serverRevision,Ae.timestamp=new Date,delete Ae.error;const ke=bb(ce.changes,Se);return yield pb(ke,r),r.$syncState.put(Ae,"syncState"),Se.length===0})))?(r.syncCompleteEvent.next(),!1):(yield yb(r),yield mb(r,u,i,{isInitialSync:l,cancelToken:s}))})}function bb(r,u){const i={};Ap(i,r);const l={};return Ap(l,u),function(s,h){var p,g,S;for(const[b,v]of Object.entries(h))for(const[A,O]of Object.entries(v))switch(O.type){case"ups":{const T=(p=s[b])===null||p===void 0?void 0:p[A];if(T)switch(T.type){case"ups":case"upd":delete s[b][A]}}break;case"del":(g=s[b])===null||g===void 0||delete g[A];break;case"upd":{const T=(S=s[b])===null||S===void 0?void 0:S[A];if(T)switch(T.type){case"ups":for(const[k,Q]of Object.entries(O.mod))Jc(T.val,k,Q);break;case"del":break;case"upd":for(const k of Object.keys(O.mod))delete T.mod[k]}break}}}(i,l),function(s,h=""){h||(h=qm(16));const p={};for(const[S,b]of Object.entries(s))for(const[v,A]of Object.entries(b)){const O=p[S]||(p[S]={});(O[A.type]||(O[A.type]=[])).push(Object.assign({key:v},A))}const g=[];for(const[S,b]of Object.entries(p)){const v={table:S,muts:[]};for(const[A,O]of Object.entries(b))switch(A){case"ups":{const T={type:"upsert",keys:O.map(k=>k.key),values:O.map(k=>k.val),txid:h};v.muts.push(T);break}case"upd":{const T={type:"update",keys:O.map(k=>k.key),changeSpecs:O.map(k=>k.mod),txid:h};v.muts.push(T);break}case"del":{const T={type:"delete",keys:O.map(k=>k.key),txid:h};v.muts.push(T);break}}g.push(v)}return g}(i)}const AS=10,TS=1e4,jS=1e3;function DS(r){const u=[],i=new er(!0),l=new er(null);let s=!1,h=new Array(AS).fill(0);return l.subscribe(()=>qe(this,void 0,void 0,function*(){if(!s&&u.length>0){s=!0,h.shift(),h.push(Date.now()),i.next(!1);try{yield function(){var p,g,S,b,v,A;return qe(this,void 0,void 0,function*(){for(;u.length>0;){const O=u.shift();try{yield Tu(r.cloud.syncState.pipe(_r(({phase:k})=>k==="in-sync"||k==="error")));const T=r.cloud.persistedSyncState.value;if(!O)continue;switch(O.type){case"token-expired":const k=r.cloud.currentUser.value,Q=yield us(r.cloud.options.databaseUrl,k);yield r.table("$logins").update(k.userId,{accessToken:Q.accessToken,accessTokenExpiration:Q.accessTokenExpiration,claims:Q.claims,license:Q.license,data:Q.data});break;case"realm-added":!((p=T?.realms)===null||p===void 0)&&p.includes(O.realm)||!((g=T?.inviteRealms)===null||g===void 0)&&g.includes(O.realm)||(yield r.cloud.sync({purpose:"pull",wait:!0}));break;case"realm-accepted":!((S=T?.realms)===null||S===void 0)&&S.includes(O.realm)||(yield r.cloud.sync({purpose:"pull",wait:!0}));break;case"realm-removed":(!((b=T?.realms)===null||b===void 0)&&b.includes(O.realm)||!((v=T?.inviteRealms)===null||v===void 0)&&v.includes(O.realm))&&(yield r.cloud.sync({purpose:"pull",wait:!0}));break;case"realms-changed":yield r.cloud.sync({purpose:"pull",wait:!0});break;case"changes":if(((A=r.cloud.syncState.value)===null||A===void 0?void 0:A.phase)==="error"){aa(r,"pull");break}yield r.transaction("rw",r.dx.tables,ne=>qe(this,void 0,void 0,function*(){ne.idbtrans.disableChangeTracking=!0,ne.idbtrans.disableAccessControl=!0;const[se,me,ee]=yield Promise.all([r.getSchema(),r.getPersistedSyncState(),r.getCurrentUser()]);if(!me||!se||!ee)return;if(O.baseRev!==me.serverRevision)return void(typeof O.baseRev!="string"||typeof me.serverRevision!="bigint"&&typeof me.serverRevision!="object"||aa(r,"pull"));if((yield Tt.waitFor(Md(me)))!==O.realmSetHash)return void aa(r,"pull");let _e=[];if(ee.isLoggedIn){const oe=Yc(r).map(ce=>r.table(uh(ce.name)));_e=yield Nd(oe)}if(O.changes.length>0){const oe=bb(O.changes,_e);yield pb(oe,r)}me.latestRevisions=qd(_e,me.latestRevisions),me.serverRevision=O.newRev,yield vb(r,se,me.latestRevisions,O.newRev),yield r.$syncState.put(me,"syncState")}))}}catch{}}})}()}finally{h[h.length-1]-h[0]<TS&&(yield new Promise(p=>setTimeout(p,jS))),s=!1,i.next(!0)}}})),{enqueue:function(p){u.push(p),l.next(null)},readyToServe:i}}const Qp=new WeakMap,Bc={members:"@id, [userId+realmId], [email+realmId], realmId",roles:"[realmId+name]",realms:"@realmId",$jobs:"",$syncState:"",$baseRevs:"[tableName+clientRev]",$logins:"claims.sub, lastLogin"};let US=0;function na(r){"vip"in r&&(r=r.vip);let u=Qp.get(r.cloud);if(!u){const i=new vo;let l=new zc(`syncstatechanged-${r.name}`),s=new zc(`synccomplete-${r.name}`);i.id=++US;let h=!1;u={get name(){return r.name},close:()=>r.close(),transaction:r.transaction.bind(r),table:r.table.bind(r),get tables(){return r.tables},cloud:r.cloud,get $jobs(){return r.table("$jobs")},get $syncState(){return r.table("$syncState")},get $baseRevs(){return r.table("$baseRevs")},get $logins(){return r.table("$logins")},get realms(){return r.realms},get members(){return r.members},get roles(){return r.roles},get initiallySynced(){return h},localSyncEvent:i,get syncStateChangedEvent(){return l},get syncCompleteEvent(){return s},dx:r},Object.assign(u,{getCurrentUser:()=>u.$logins.toArray().then(g=>g.find(S=>S.isLoggedIn)||Un),getPersistedSyncState:()=>u.$syncState.get("syncState"),getSchema:()=>u.$syncState.get("schema").then(g=>{if(g)for(const b of u.tables)b.schema.primKey&&b.schema.primKey.keyPath&&g[b.name]&&(g[b.name].primaryKey=typeof(S=b.schema.primKey.keyPath)=="string"?S:S?"["+[].join.call(S,"+")+"]":"");var S;return g}),getOptions:()=>u.$syncState.get("options"),setInitiallySynced(g){h=g},reconfigure(){l=new zc(`syncstatechanged-${r.name}`),s=new zc(`synccomplete-${r.name}`)}}),u.messageConsumer=DS(u),Qp.set(r.cloud,u)}return u}const RS=typeof InstallTrigger<"u",gb=typeof navigator<"u"&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\/|Edge\//.test(navigator.userAgent),CS=gb?[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]:NaN,kS=gb&&CS<=605||RS,MS=typeof self<"u"&&"clients"in self&&!self.document;function _b(){throw new Tt.SchemaError("Version increment needed to allow dexie-cloud change tracking")}const{toString:NS}={};function Xp(r){return NS.call(r).slice(8,-1)}function dd(r,u){var i;return u.type==="delete"?u.keys:((i=u.keys)===null||i===void 0?void 0:i.slice())||u.values.map(r.extractKey)}const zS=/b|c|d|f|g|h|j|k|l|m|n|p|q|r|s|t|v|x|y|z/i;let ra=0;function Sb(r,u){const i=new Uint8Array(18),l=new Uint8Array(i.buffer,0,6),s=Date.now();ra>=s?++ra:ra=s,l[0]=ra/1099511627776,l[1]=ra/4294967296,l[2]=ra/16777216,l[3]=ra/65536,l[4]=ra/256,l[5]=ra;const h=new Uint8Array(i.buffer,6);return crypto.getRandomValues(h),r+sb(new Uint8Array(i.buffer))+(u||"")}function BS(r){return{stack:"dbcore",name:"idGenerationMiddleware",level:1,create:u=>Object.assign(Object.assign({},u),{table:i=>{const l=u.table(i);return Object.assign(Object.assign({},l),{mutate:s=>{var h,p;if(s.trans.disableChangeTracking)return l.mutate(s);if(s.type==="add"||s.type==="put"){const g=(h=r.cloud.schema)===null||h===void 0?void 0:h[i];if(g?.generatedGlobalId){if(!((p=r.cloud.options)===null||p===void 0)&&p.databaseUrl&&!r.initiallySynced){const S=dd(l.schema.primaryKey,s);return l.getMany({keys:S,trans:s.trans,cache:"immutable"}).then(b=>{if(b.length<S.length)throw new Error("Unable to create new objects without an initial sync having been performed.");return l.mutate(s)})}return function(S,b){let v=null;const A=dd(l.schema.primaryKey,S);return A.forEach((O,T)=>{if(O===void 0){const k=S.values[T].realmId||r.cloud.currentUserId,Q=k.substr(k.length-3);A[T]=Sb(b,Q),l.schema.primaryKey.outbound||(v||(v=S.values.slice()),v[T]=Tt.deepClone(v[T]),Tt.setByKeyPath(v[T],l.schema.primaryKey.keyPath,A[T]))}else if(typeof O!="string"||!O.startsWith(b)&&!O.startsWith("#"+b))throw new Tt.ConstraintError(`The ID "${O}" is not valid for table "${i}". Primary '@' keys requires the key to be prefixed with "${b}" (or "#${b}).
If you want to generate IDs programmatically, remove '@' from the schema to get rid of this constraint. Dexie Cloud supports custom IDs as long as they are random and globally unique.`)}),l.mutate(Object.assign(Object.assign({},S),{keys:A,values:v||S.values}))}(s,g.idPrefix)}g?.markedForSync&&dd(l.schema.primaryKey,s).forEach((S,b)=>{if(!Fd(S)){const v=Array.isArray(S)?S.map(Xp).join(","):Xp(S);throw new Tt.ConstraintError(`Invalid primary key type ${v} for table ${i}. Tables marked for sync has primary keys of type string or Array of string (and optional numbers)`)}})}return l.mutate(s)}})}})}}let qS=0;function ro(r,u){return function(i){const{readers:l,writers:s}=i.trans[u]||(i.trans[u]={writers:[],readers:[]}),h=s.length,p=(h>0?s[h-1].then(()=>r(i),()=>r(i)):r(i)).finally(()=>{l.splice(l.indexOf(p))});return l.push(p),p}}function KS(r,u){return function(i){const{readers:l,writers:s}=i.trans[u]||(i.trans[u]={writers:[],readers:[]});let h=(s.length>0?s[s.length-1].then(()=>r(i),()=>r(i)):l.length>0?(p=l,new Promise(g=>{p.length===0&&g([]);let S=p.length;const b=new Array(S);p.forEach((v,A)=>Promise.resolve(v).then(O=>b[A]={status:"fulfilled",value:O},O=>b[A]={status:"rejected",reason:O}).then(()=>--S||g(b)))})).then(()=>r(i)):r(i)).finally(()=>{s.shift()});var p;return s.push(h),h}}const Eu=new er(new Set);function wb(r){var u,i,l,s;return((u=r.cloud.options)===null||u===void 0?void 0:u.disableEagerSync)||((l=(i=r.cloud.currentUser.value)===null||i===void 0?void 0:i.license)===null||l===void 0?void 0:l.status)!=="ok"||!(!((s=r.cloud.options)===null||s===void 0)&&s.databaseUrl)}function HS({currentUserObservable:r,db:u}){return{stack:"dbcore",name:"MutationTrackingMiddleware",level:1,create:i=>{const l=i.schema.tables.filter(h=>!/^\$/.test(h.name));let s;try{s=new Map(l.map(h=>[h.name,i.table(`$${h.name}_mutations`)]))}catch{_b()}return Object.assign(Object.assign({},i),{transaction:(h,p)=>{let g;if(p==="readwrite"){const S=h.filter(b=>{var v,A;return(A=(v=u.cloud.schema)===null||v===void 0?void 0:v[b])===null||A===void 0?void 0:A.markedForSync}).map(b=>uh(b));g=i.transaction([...h,...S],p)}else g=i.transaction(h,p);if(p==="readwrite"){g.txid=ob(16),g.opCount=0,g.currentUser=r.value,Eu.value.add(g),Eu.next(Eu.value);const S=()=>{g.removeEventListener("complete",b),g.removeEventListener("error",S),g.removeEventListener("abort",S),Eu.value.delete(g),Eu.next(Eu.value)},b=()=>{g.mutationsAdded&&!wb(u)&&aa(u,"push"),S()};g.addEventListener("complete",b),g.addEventListener("error",S),g.addEventListener("abort",S)}return g},table:h=>{const p=i.table(h);if(/^\$/.test(h))return h.endsWith("_mutations")?Object.assign(Object.assign({},p),{mutate:v=>(v.type!=="add"&&v.type!=="put"||(v.trans.mutationsAdded=!0),p.mutate(v))}):h==="$logins"?Object.assign(Object.assign({},p),{mutate:v=>p.mutate(v).then(A=>(v.trans.mutationsAdded=!0,A)).catch(A=>Promise.reject(A))}):p;const{schema:g}=p,S=s.get(h);return function(v){const A="$lock"+ ++qS;return Object.assign(Object.assign({},v),{count:ro(v.count,A),get:ro(v.get,A),getMany:ro(v.getMany,A),openCursor:ro(v.openCursor,A),query:ro(v.query,A),mutate:KS(v.mutate,A)})}(Object.assign(Object.assign({},p),{mutate:v=>{var A,O,T;const k=v.trans;return k.txid?k.disableChangeTracking?p.mutate(v):!((O=(A=u.cloud.schema)===null||A===void 0?void 0:A[h])===null||O===void 0)&&O.markedForSync&&(!((T=k.currentUser)===null||T===void 0)&&T.isLoggedIn)?v.type==="deleteRange"?p.query({query:{range:v.range,index:g.primaryKey},trans:v.trans,values:!1}).then(Q=>b({type:"delete",keys:Q.result,trans:v.trans,criteria:{index:null,range:v.range}})):b(v):p.mutate(v):p.mutate(v)}}));function b(v){const A=v.trans;A.mutationsAdded=!0;const{txid:O,currentUser:{userId:T}}=A,{type:k}=v,Q=++A.opCount;return p.mutate(v).then(ne=>{const{numFailures:se,failures:me}=ne;let ee=k==="delete"?v.keys:ne.results,_e="values"in v?v.values:[],oe="updates"in v&&v.updates;se&&(ee=ee.filter((te,Se)=>!me[Se]),_e=_e.filter((te,Se)=>!me[Se]));const ce=Date.now(),Ue=v.type==="delete"?{type:"delete",ts:ce,opNo:Q,keys:ee,criteria:v.criteria,txid:O,userId:T}:v.type==="add"?{type:"insert",ts:ce,opNo:Q,keys:ee,txid:O,userId:T,values:_e}:v.criteria&&v.changeSpec?{type:"modify",ts:ce,opNo:Q,keys:ee,criteria:v.criteria,changeSpec:v.changeSpec,txid:O,userId:T}:oe?{type:"update",ts:ce,opNo:Q,keys:oe.keys,changeSpecs:oe.changeSpecs,txid:O,userId:T}:{type:"upsert",ts:ce,opNo:Q,keys:ee,values:_e,txid:O,userId:T};return"isAdditionalChunk"in v&&v.isAdditionalChunk&&(Ue.isAdditionalChunk=!0),ee.length>0||"criteria"in v&&v.criteria?S.mutate({type:"add",trans:A,values:[Ue]}).then(()=>ne):ne})}}})}}}function LS(r,u){return function(i,l){const s=Object.assign(Object.assign({},Bc),i);Object.keys(Bc).forEach(g=>{const S=s[g];if(S==null)throw new Error(`Cannot delete table ${g} as it is needed for access control of Dexie Cloud`);if(!i[g])return;const b=S.split(",").map(O=>O.trim()),v=Bc[g].split(",").map(O=>O.trim()),A=new Set(b.map(O=>O.replace(/([&*]|\+\+)/g,"")));if(b[0]!==v[0])throw new Error(`Cannot override primary key of table ${g}. Please declare it as {${g}: ${JSON.stringify(Bc[g])}`);for(let O=1;O<v.length;++O){const T=v[O];A.has(T.replace(/([&*]|\+\+)/g,""))||(s[g]+=`,${T}`)}});const h=u.cloud.schema||(u.cloud.schema={}),p=new Set;return Object.keys(s).forEach(g=>{const S=s[g],b=h[g]||(h[g]={});S!=null?(/^\@/.test(S)&&(s[g]=s[g].substr(1),b.generatedGlobalId=!0,b.idPrefix=function(v,A){let O=v[0].toLocaleLowerCase();for(let ne=1,se=v.length;ne<se&&O.length<3;++ne)(zS.test(v[ne])||(T=v[ne])>="A"&&T<="Z")&&(O+=v[ne].toLowerCase());for(var T,k,Q;A.has(O);){if(/\d/g.test(O)){if(O=O.substr(0,O.length-1)+(O[O.length-1]+1),!(O.length>3))continue;O=O.substr(0,3)}else if(O.length<3){O+="2";continue}let ne=1,se=O;for(;A.has(se)&&ne<8;)k=O,se=(1&(Q=ne)?k[0].toUpperCase():k[0].toLowerCase())+(2&Q?k[1].toUpperCase():k[1].toLowerCase())+(4&Q?k[2].toUpperCase():k[2].toLowerCase()),++ne;if(ne<8)O=se;else{let me=O.charCodeAt(2)+1&127;O=O.substr(0,2)+String.fromCharCode(me)}}return O}(g,p),p.add(b.idPrefix)),/^\$/.test(g)||(s[`$${g}_mutations`]="++rev",b.markedForSync=!0),b.deleted&&(b.deleted=!1)):(b.deleted=!0,b.markedForSync=!1,s[`$${g}_mutations`]=null)}),r.call(this,s,l)}}const uo=new er(!0),Kd=new er(!0);uo.pipe(pn(r=>r?ia(!0):ia(!1).pipe(eb(2e4))),tb()).subscribe(Kd);const Eb=typeof document<"u"?Sr(document,"visibilitychange"):ia({}),YS=Eb.pipe(_r(()=>document.visibilityState==="hidden")),GS=Eb.pipe(_r(()=>document.visibilityState==="visible")),xb=typeof window<"u"?Nm(GS,Sr(window,"mousedown"),Sr(window,"mousemove"),Sr(window,"keydown"),Sr(window,"wheel"),Sr(window,"touchmove")):ia({});typeof document<"u"&&Nm(ia(!0),YS,xb).pipe(wr(()=>document.visibilityState==="visible"),Bp(r=>{uo.value!==r&&uo.next(r)}),pn(r=>r?ia(0).pipe(eb(16e4),Bp(()=>uo.next(!1))):ia(0))).subscribe(()=>{});class VS extends Error{constructor(){super(...arguments),this.name="TokenExpiredError"}}class QS extends Qt{constructor(u,i,l,s,h,p,g,S){super(b=>new ZS(u,i,l,s,g,S,b,h,p))}}let XS=0;class ZS extends Bu{constructor(u,i,l,s,h,p,g,S,b){super(()=>this.teardown()),this.id=++XS,this.reconnecting=!1,this.databaseUrl=u,this.rev=i,this.realmSetHash=l,this.clientIdentity=s,this.token=h,this.tokenExpiration=p,this.subscriber=g,this.lastUserActivity=new Date,this.messageProducer=S,this.messageProducerSubscription=null,this.webSocketStatus=b,this.connect()}teardown(){this.disconnect()}disconnect(){if(this.webSocketStatus.next("disconnected"),this.pinger&&(clearInterval(this.pinger),this.pinger=null),this.ws)try{this.ws.close()}catch{}this.ws=null,this.messageProducerSubscription&&(this.messageProducerSubscription.unsubscribe(),this.messageProducerSubscription=null)}reconnect(){if(!this.reconnecting){this.reconnecting=!0;try{this.disconnect()}catch{}this.connect().catch(()=>{}).then(()=>this.reconnecting=!1)}}connect(){return qe(this,void 0,void 0,function*(){if(this.lastServerActivity=new Date,this.pauseUntil&&this.pauseUntil>new Date)return;if(this.ws)throw new Error("Called connect() when a connection is already open");if(!this.databaseUrl)throw new Error("Cannot connect without a database URL");if(this.closed)return;if(this.tokenExpiration&&this.tokenExpiration<new Date)return void this.subscriber.error(new VS);this.webSocketStatus.next("connecting"),this.pinger=setInterval(()=>qe(this,void 0,void 0,function*(){if(this.closed)this.teardown();else if(this.ws)try{this.ws.send(JSON.stringify({type:"ping"})),setTimeout(()=>{this.pinger&&(this.closed?this.teardown():this.lastServerActivity<new Date(Date.now()-2e4)&&this.reconnect())},2e4)}catch{this.reconnect()}else this.reconnect()}),3e4);const u=new URL(this.databaseUrl);u.protocol=u.protocol==="http:"?"ws":"wss";const i=new URLSearchParams;if(this.subscriber.closed)return;i.set("v","2"),i.set("rev",this.rev),i.set("realmsHash",this.realmSetHash),i.set("clientId",this.clientIdentity),this.token&&i.set("token",this.token);const l=this.ws=new WebSocket(`${u}/changes?${i}`);l.onclose=s=>{this.pinger&&this.reconnect()},l.onmessage=s=>{if(this.pinger){this.lastServerActivity=new Date;try{const h=$c.parse(s.data);if(h.type==="error")throw new Error(`Error message from dexie-cloud: ${h.error}`);h.type==="rev"&&(this.rev=h.rev),h.type!=="pong"&&this.subscriber.next(h)}catch(h){this.subscriber.error(h)}}};try{let s=!1;yield new Promise((h,p)=>{l.onopen=g=>{s=!0,h(null)},l.onerror=g=>{if(s)this.reconnect();else{const S=g.error||new Error("WebSocket Error");this.subscriber.error(S),this.webSocketStatus.next("error"),p(S)}}}),this.messageProducerSubscription=this.messageProducer.subscribe(h=>{var p;this.closed||(h.type==="ready"&&this.webSocketStatus.value!=="connected"&&this.webSocketStatus.next("connected"),(p=this.ws)===null||p===void 0||p.send($c.stringify(h)))})}catch{this.pauseUntil=new Date(Date.now()+6e4)}})}}class IS extends Error{constructor(u){super(u==="expired"?"License expired":u==="deactivated"?"User deactivated":"Invalid license"),this.name="InvalidLicenseError",u&&(this.license=u)}}function JS(r){return qe(this,void 0,void 0,function*(){var u;yield(u=3e3,new Promise(i=>setTimeout(i,u))),yield Tu(xb)})}function Zp(r){var u;return qe(this,void 0,void 0,function*(){return!(!(!((u=r.cloud.options)===null||u===void 0)&&u.databaseUrl)||!r.cloud.schema)&&(yield ho(r,r.cloud.options,r.cloud.schema,{justCheckIfNeeded:!0}))})}const qc=new WeakMap;function Ob(r,u,i,l){const s=qc.get(r);if(s){if(s.pull||l?.purpose==="push")return s.promise;{let p=!1;const g=r.cloud.syncState.subscribe(S=>{S.phase==="pulling"&&(p=!0)});return s.promise.then(()=>{g.unsubscribe()}).catch(S=>(g.unsubscribe(),Promise.reject(S))).then(()=>{if(!p)return Ob(r,u,i,l)})}}const h=function(){return qe(this,void 0,void 0,function*(){try{if(yield yb(r),r.cloud.isServiceWorkerDB)yield ho(r,u,i,l);else{if(r.cloud.usingServiceWorker)throw Bm(!1),new Error("Internal _syncIfPossible() - invalid precondition - should not have been called.");yield function(p,g,S){return typeof navigator<"u"&&navigator.locks?navigator.locks.request(p.name+"|"+g,()=>S()):S()}(r,OS,()=>ho(r,u,i,l))}qc.delete(r)}catch(p){throw qc.delete(r),p}})}();return qc.set(r,{promise:h,pull:l?.purpose!=="push"}),h}const $S=6e4;function PS(r,u,i){let l=null,s={cancelled:!1},h=null,p=null;function g(b,v=1){setTimeout(()=>{h&&clearTimeout(h);const A=p==="pull"?"pull":b;h=null,p=null,Ob(r,u,i,{cancelToken:s,retryImmediatelyOnFetchError:!0,purpose:A}).catch(O=>{if(s.cancelled)S();else if(v<3){const T=p&&p==="pull"?"pull":b,k=setTimeout(()=>g(T,v+1),[0,5,15][v]*$S);h&&clearTimeout(h),h=k,p=T}})},0)}const S=()=>{s.cancelled=!0,l&&l.unsubscribe()};return{start:()=>{l=r.localSyncEvent.subscribe(({purpose:b})=>{try{g(b||"pull")}catch{}})},stop:S}}function hd(r,u){if(r&&u&&u.unsyncedTables)for(const i of u.unsyncedTables)r[i]&&(r[i].markedForSync=!1)}var ls,Pe,Ab,lo,Ip,Pc={},Tb=[],WS=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Ja(r,u){for(var i in u)r[i]=u[i];return r}function jb(r){var u=r.parentNode;u&&u.removeChild(r)}function Gt(r,u,i){var l,s,h,p={};for(h in u)h=="key"?l=u[h]:h=="ref"?s=u[h]:p[h]=u[h];if(arguments.length>2&&(p.children=arguments.length>3?ls.call(arguments,2):i),typeof r=="function"&&r.defaultProps!=null)for(h in r.defaultProps)p[h]===void 0&&(p[h]=r.defaultProps[h]);return Gc(r,p,l,s,null)}function Gc(r,u,i,l,s){var h={type:r,props:u,key:i,ref:l,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:s??++Ab};return s==null&&Pe.vnode!=null&&Pe.vnode(h),h}function Mu(r){return r.children}function oo(r,u){this.props=r,this.context=u}function Nu(r,u){if(u==null)return r.__?Nu(r.__,r.__.__k.indexOf(r)+1):null;for(var i;u<r.__k.length;u++)if((i=r.__k[u])!=null&&i.__e!=null)return i.__e;return typeof r.type=="function"?Nu(r):null}function Db(r){var u,i;if((r=r.__)!=null&&r.__c!=null){for(r.__e=r.__c.base=null,u=0;u<r.__k.length;u++)if((i=r.__k[u])!=null&&i.__e!=null){r.__e=r.__c.base=i.__e;break}return Db(r)}}function Jp(r){(!r.__d&&(r.__d=!0)&&lo.push(r)&&!Wc.__r++||Ip!==Pe.debounceRendering)&&((Ip=Pe.debounceRendering)||setTimeout)(Wc)}function Wc(){for(var r;Wc.__r=lo.length;)r=lo.sort(function(u,i){return u.__v.__b-i.__v.__b}),lo=[],r.some(function(u){var i,l,s,h,p,g;u.__d&&(p=(h=(i=u).__v).__e,(g=i.__P)&&(l=[],(s=Ja({},h)).__v=h.__v+1,lh(g,h,s,i.__n,g.ownerSVGElement!==void 0,h.__h!=null?[p]:null,l,p??Nu(h),h.__h),kb(l,h),h.__e!=p&&Db(h)))})}function Ub(r,u,i,l,s,h,p,g,S,b){var v,A,O,T,k,Q,ne,se=l&&l.__k||Tb,me=se.length;for(i.__k=[],v=0;v<u.length;v++)if((T=i.__k[v]=(T=u[v])==null||typeof T=="boolean"?null:typeof T=="string"||typeof T=="number"||typeof T=="bigint"?Gc(null,T,null,null,T):Array.isArray(T)?Gc(Mu,{children:T},null,null,null):T.__b>0?Gc(T.type,T.props,T.key,null,T.__v):T)!=null){if(T.__=i,T.__b=i.__b+1,(O=se[v])===null||O&&T.key==O.key&&T.type===O.type)se[v]=void 0;else for(A=0;A<me;A++){if((O=se[A])&&T.key==O.key&&T.type===O.type){se[A]=void 0;break}O=null}lh(r,T,O=O||Pc,s,h,p,g,S,b),k=T.__e,(A=T.ref)&&O.ref!=A&&(ne||(ne=[]),O.ref&&ne.push(O.ref,null,T),ne.push(A,T.__c||k,T)),k!=null?(Q==null&&(Q=k),typeof T.type=="function"&&T.__k===O.__k?T.__d=S=Rb(T,S,r):S=Cb(r,T,O,se,k,S),typeof i.type=="function"&&(i.__d=S)):S&&O.__e==S&&S.parentNode!=r&&(S=Nu(O))}for(i.__e=Q,v=me;v--;)se[v]!=null&&(typeof i.type=="function"&&se[v].__e!=null&&se[v].__e==i.__d&&(i.__d=Nu(l,v+1)),Nb(se[v],se[v]));if(ne)for(v=0;v<ne.length;v++)Mb(ne[v],ne[++v],ne[++v])}function Rb(r,u,i){for(var l,s=r.__k,h=0;s&&h<s.length;h++)(l=s[h])&&(l.__=r,u=typeof l.type=="function"?Rb(l,u,i):Cb(i,l,l,s,l.__e,u));return u}function Cb(r,u,i,l,s,h){var p,g,S;if(u.__d!==void 0)p=u.__d,u.__d=void 0;else if(i==null||s!=h||s.parentNode==null)e:if(h==null||h.parentNode!==r)r.appendChild(s),p=null;else{for(g=h,S=0;(g=g.nextSibling)&&S<l.length;S+=2)if(g==s)break e;r.insertBefore(s,h),p=h}return p!==void 0?p:s.nextSibling}function $p(r,u,i){u[0]==="-"?r.setProperty(u,i):r[u]=i==null?"":typeof i!="number"||WS.test(u)?i:i+"px"}function Kc(r,u,i,l,s){var h;e:if(u==="style")if(typeof i=="string")r.style.cssText=i;else{if(typeof l=="string"&&(r.style.cssText=l=""),l)for(u in l)i&&u in i||$p(r.style,u,"");if(i)for(u in i)l&&i[u]===l[u]||$p(r.style,u,i[u])}else if(u[0]==="o"&&u[1]==="n")h=u!==(u=u.replace(/Capture$/,"")),u=u.toLowerCase()in r?u.toLowerCase().slice(2):u.slice(2),r.l||(r.l={}),r.l[u+h]=i,i?l||r.addEventListener(u,h?Wp:Pp,h):r.removeEventListener(u,h?Wp:Pp,h);else if(u!=="dangerouslySetInnerHTML"){if(s)u=u.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(u!=="href"&&u!=="list"&&u!=="form"&&u!=="tabIndex"&&u!=="download"&&u in r)try{r[u]=i??"";break e}catch{}typeof i=="function"||(i!=null&&(i!==!1||u[0]==="a"&&u[1]==="r")?r.setAttribute(u,i):r.removeAttribute(u))}}function Pp(r){this.l[r.type+!1](Pe.event?Pe.event(r):r)}function Wp(r){this.l[r.type+!0](Pe.event?Pe.event(r):r)}function lh(r,u,i,l,s,h,p,g,S){var b,v,A,O,T,k,Q,ne,se,me,ee,_e,oe,ce=u.type;if(u.constructor!==void 0)return null;i.__h!=null&&(S=i.__h,g=u.__e=i.__e,u.__h=null,h=[g]),(b=Pe.__b)&&b(u);try{e:if(typeof ce=="function"){if(ne=u.props,se=(b=ce.contextType)&&l[b.__c],me=b?se?se.props.value:b.__:l,i.__c?Q=(v=u.__c=i.__c).__=v.__E:("prototype"in ce&&ce.prototype.render?u.__c=v=new ce(ne,me):(u.__c=v=new oo(ne,me),v.constructor=ce,v.render=e1),se&&se.sub(v),v.props=ne,v.state||(v.state={}),v.context=me,v.__n=l,A=v.__d=!0,v.__h=[]),v.__s==null&&(v.__s=v.state),ce.getDerivedStateFromProps!=null&&(v.__s==v.state&&(v.__s=Ja({},v.__s)),Ja(v.__s,ce.getDerivedStateFromProps(ne,v.__s))),O=v.props,T=v.state,A)ce.getDerivedStateFromProps==null&&v.componentWillMount!=null&&v.componentWillMount(),v.componentDidMount!=null&&v.__h.push(v.componentDidMount);else{if(ce.getDerivedStateFromProps==null&&ne!==O&&v.componentWillReceiveProps!=null&&v.componentWillReceiveProps(ne,me),!v.__e&&v.shouldComponentUpdate!=null&&v.shouldComponentUpdate(ne,v.__s,me)===!1||u.__v===i.__v){v.props=ne,v.state=v.__s,u.__v!==i.__v&&(v.__d=!1),v.__v=u,u.__e=i.__e,u.__k=i.__k,u.__k.forEach(function(Ue){Ue&&(Ue.__=u)}),v.__h.length&&p.push(v);break e}v.componentWillUpdate!=null&&v.componentWillUpdate(ne,v.__s,me),v.componentDidUpdate!=null&&v.__h.push(function(){v.componentDidUpdate(O,T,k)})}if(v.context=me,v.props=ne,v.__v=u,v.__P=r,ee=Pe.__r,_e=0,"prototype"in ce&&ce.prototype.render)v.state=v.__s,v.__d=!1,ee&&ee(u),b=v.render(v.props,v.state,v.context);else do v.__d=!1,ee&&ee(u),b=v.render(v.props,v.state,v.context),v.state=v.__s;while(v.__d&&++_e<25);v.state=v.__s,v.getChildContext!=null&&(l=Ja(Ja({},l),v.getChildContext())),A||v.getSnapshotBeforeUpdate==null||(k=v.getSnapshotBeforeUpdate(O,T)),oe=b!=null&&b.type===Mu&&b.key==null?b.props.children:b,Ub(r,Array.isArray(oe)?oe:[oe],u,i,l,s,h,p,g,S),v.base=u.__e,u.__h=null,v.__h.length&&p.push(v),Q&&(v.__E=v.__=null),v.__e=!1}else h==null&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=FS(i.__e,u,i,l,s,h,p,S);(b=Pe.diffed)&&b(u)}catch(Ue){u.__v=null,(S||h!=null)&&(u.__e=g,u.__h=!!S,h[h.indexOf(g)]=null),Pe.__e(Ue,u,i)}}function kb(r,u){Pe.__c&&Pe.__c(u,r),r.some(function(i){try{r=i.__h,i.__h=[],r.some(function(l){l.call(i)})}catch(l){Pe.__e(l,i.__v)}})}function FS(r,u,i,l,s,h,p,g){var S,b,v,A=i.props,O=u.props,T=u.type,k=0;if(T==="svg"&&(s=!0),h!=null){for(;k<h.length;k++)if((S=h[k])&&"setAttribute"in S==!!T&&(T?S.localName===T:S.nodeType===3)){r=S,h[k]=null;break}}if(r==null){if(T===null)return document.createTextNode(O);r=s?document.createElementNS("http://www.w3.org/2000/svg",T):document.createElement(T,O.is&&O),h=null,g=!1}if(T===null)A===O||g&&r.data===O||(r.data=O);else{if(h=h&&ls.call(r.childNodes),b=(A=i.props||Pc).dangerouslySetInnerHTML,v=O.dangerouslySetInnerHTML,!g){if(h!=null)for(A={},k=0;k<r.attributes.length;k++)A[r.attributes[k].name]=r.attributes[k].value;(v||b)&&(v&&(b&&v.__html==b.__html||v.__html===r.innerHTML)||(r.innerHTML=v&&v.__html||""))}if(function(Q,ne,se,me,ee){var _e;for(_e in se)_e==="children"||_e==="key"||_e in ne||Kc(Q,_e,null,se[_e],me);for(_e in ne)ee&&typeof ne[_e]!="function"||_e==="children"||_e==="key"||_e==="value"||_e==="checked"||se[_e]===ne[_e]||Kc(Q,_e,ne[_e],se[_e],me)}(r,O,A,s,g),v)u.__k=[];else if(k=u.props.children,Ub(r,Array.isArray(k)?k:[k],u,i,l,s&&T!=="foreignObject",h,p,h?h[0]:i.__k&&Nu(i,0),g),h!=null)for(k=h.length;k--;)h[k]!=null&&jb(h[k]);g||("value"in O&&(k=O.value)!==void 0&&(k!==r.value||T==="progress"&&!k||T==="option"&&k!==A.value)&&Kc(r,"value",k,A.value,!1),"checked"in O&&(k=O.checked)!==void 0&&k!==r.checked&&Kc(r,"checked",k,A.checked,!1))}return r}function Mb(r,u,i){try{typeof r=="function"?r(u):r.current=u}catch(l){Pe.__e(l,i)}}function Nb(r,u,i){var l,s;if(Pe.unmount&&Pe.unmount(r),(l=r.ref)&&(l.current&&l.current!==r.__e||Mb(l,null,u)),(l=r.__c)!=null){if(l.componentWillUnmount)try{l.componentWillUnmount()}catch(h){Pe.__e(h,u)}l.base=l.__P=null}if(l=r.__k)for(s=0;s<l.length;s++)l[s]&&Nb(l[s],u,typeof r.type!="function");i||r.__e==null||jb(r.__e),r.__e=r.__d=void 0}function e1(r,u,i){return this.constructor(r,i)}function Fp(r,u,i){var l,s,h;Pe.__&&Pe.__(r,u),s=(l=!1)?null:u.__k,h=[],lh(u,r=u.__k=Gt(Mu,null,[r]),s||Pc,Pc,u.ownerSVGElement!==void 0,s?null:u.firstChild?ls.call(u.childNodes):null,h,s?s.__e:u.firstChild,l),kb(h,r)}ls=Tb.slice,Pe={__e:function(r,u,i,l){for(var s,h,p;u=u.__;)if((s=u.__c)&&!s.__)try{if((h=s.constructor)&&h.getDerivedStateFromError!=null&&(s.setState(h.getDerivedStateFromError(r)),p=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(r,l||{}),p=s.__d),p)return s.__E=s}catch(g){r=g}throw r}},Ab=0,oo.prototype.setState=function(r,u){var i;i=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Ja({},this.state),typeof r=="function"&&(r=r(Ja({},i),this.props)),r&&Ja(i,r),r!=null&&this.__v&&(u&&this.__h.push(u),Jp(this))},oo.prototype.forceUpdate=function(r){this.__v&&(this.__e=!0,r&&this.__h.push(r),Jp(this))},oo.prototype.render=Mu,lo=[],Wc.__r=0;const gr={Alert:{error:{color:"red",fontWeight:"bold"},warning:{color:"#f80",fontWeight:"bold"},info:{color:"black"}},Darken:{position:"fixed",top:0,left:0,opacity:.5,backgroundColor:"#000",width:"100vw",height:"100vh",zIndex:150,webkitBackdropFilter:"blur(2px)",backdropFilter:"blur(2px)"},DialogOuter:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:150,alignItems:"center",display:"flex",justifyContent:"center"},DialogInner:{position:"relative",color:"#222",backgroundColor:"#fff",padding:"30px",marginBottom:"2em",maxWidth:"90%",maxHeight:"90%",overflowY:"auto",border:"3px solid #3d3d5d",borderRadius:"8px",boxShadow:"0 0 80px 10px #666",width:"auto",fontFamily:"sans-serif"},Input:{height:"35px",width:"17em",borderColor:"#ccf4",outline:"none",fontSize:"17pt",padding:"8px"}};function t1({children:r,className:u}){return Gt("div",{className:u},Gt("div",{style:gr.Darken}),Gt("div",{style:gr.DialogOuter},Gt("div",{style:gr.DialogInner},r)))}var os,Vt,yd,em,Fc=0,zb=[],Vc=[],tm=Pe.__b,nm=Pe.__r,rm=Pe.diffed,am=Pe.__c,im=Pe.unmount;function oh(r,u){Pe.__h&&Pe.__h(Vt,r,Fc||u),Fc=0;var i=Vt.__H||(Vt.__H={__:[],__h:[]});return r>=i.__.length&&i.__.push({__V:Vc}),i.__[r]}function n1(r){return Fc=1,function(u,i,l){var s=oh(os++,2);if(s.t=u,!s.__c&&(s.__=[lm(void 0,i),function(p){var g=s.__N?s.__N[0]:s.__[0],S=s.t(g,p);g!==S&&(s.__N=[S,s.__[1]],s.__c.setState({}))}],s.__c=Vt,!Vt.u)){Vt.u=!0;var h=Vt.shouldComponentUpdate;Vt.shouldComponentUpdate=function(p,g,S){if(!s.__c.__H)return!0;var b=s.__c.__H.__.filter(function(A){return A.__c});if(b.every(function(A){return!A.__N}))return!h||h.call(this,p,g,S);var v=!1;return b.forEach(function(A){if(A.__N){var O=A.__[0];A.__=A.__N,A.__N=void 0,O!==A.__[0]&&(v=!0)}}),!!v&&(!h||h.call(this,p,g,S))}}return s.__N||s.__}(lm,r)}function r1(r){return Fc=5,function(u,i){var l=oh(os++,7);return Bb(l.__H,i)?(l.__V=u(),l.i=i,l.__h=u,l.__V):l.__}(function(){return{current:r}},[])}function a1(){for(var r;r=zb.shift();)if(r.__P&&r.__H)try{r.__H.__h.forEach(Qc),r.__H.__h.forEach(Hd),r.__H.__h=[]}catch(u){r.__H.__h=[],Pe.__e(u,r.__v)}}Pe.__b=function(r){Vt=null,tm&&tm(r)},Pe.__r=function(r){nm&&nm(r),os=0;var u=(Vt=r.__c).__H;u&&(yd===Vt?(u.__h=[],Vt.__h=[],u.__.forEach(function(i){i.__N&&(i.__=i.__N),i.__V=Vc,i.__N=i.i=void 0})):(u.__h.forEach(Qc),u.__h.forEach(Hd),u.__h=[])),yd=Vt},Pe.diffed=function(r){rm&&rm(r);var u=r.__c;u&&u.__H&&(u.__H.__h.length&&(zb.push(u)!==1&&em===Pe.requestAnimationFrame||((em=Pe.requestAnimationFrame)||function(i){var l,s=function(){clearTimeout(h),um&&cancelAnimationFrame(l),setTimeout(i)},h=setTimeout(s,100);um&&(l=requestAnimationFrame(s))})(a1)),u.__H.__.forEach(function(i){i.i&&(i.__H=i.i),i.__V!==Vc&&(i.__=i.__V),i.i=void 0,i.__V=Vc})),yd=Vt=null},Pe.__c=function(r,u){u.some(function(i){try{i.__h.forEach(Qc),i.__h=i.__h.filter(function(l){return!l.__||Hd(l)})}catch(l){u.some(function(s){s.__h&&(s.__h=[])}),u=[],Pe.__e(l,i.__v)}}),am&&am(r,u)},Pe.unmount=function(r){im&&im(r);var u,i=r.__c;i&&i.__H&&(i.__H.__.forEach(function(l){try{Qc(l)}catch(s){u=s}}),u&&Pe.__e(u,i.__v))};var um=typeof requestAnimationFrame=="function";function Qc(r){var u=Vt,i=r.__c;typeof i=="function"&&(r.__c=void 0,i()),Vt=u}function Hd(r){var u=Vt;r.__c=r.__(),Vt=u}function Bb(r,u){return!r||r.length!==u.length||u.some(function(i,l){return i!==r[l]})}function lm(r,u){return typeof u=="function"?u(r):u}function i1({message:r,messageCode:u,messageParams:i}){return r.replace(/\{\w+\}/gi,l=>i[l.substring(1,l.length-1)])}function u1({title:r,type:u,alerts:i,fields:l,submitLabel:s,cancelLabel:h,onCancel:p,onSubmit:g}){const[S,b]=n1({}),v=r1(null);return function(A,O){var T=oh(os++,4);!Pe.__s&&Bb(T.__H,O)&&(T.__=A,T.i=O,Vt.__h.push(T))}(()=>{var A;return(A=v.current)===null||A===void 0?void 0:A.focus()},[]),Gt(t1,{className:"dxc-login-dlg"},Gt(Mu,null,Gt("h3",{style:gr.WindowHeader},r),i.map(A=>Gt("p",{style:gr.Alert[A.type]},i1(A))),Gt("form",{onSubmit:A=>{A.preventDefault(),g(S)}},Object.entries(l).map(([A,{type:O,label:T,placeholder:k}],Q)=>Gt("label",{style:gr.Label,key:Q},T?`${T}: `:"",Gt("input",{ref:Q===0?v:void 0,type:O,name:A,autoComplete:"on",style:gr.Input,autoFocus:!0,placeholder:k,value:S[A]||"",onInput:ne=>{var se;const me=function(_e,oe){switch(_e){case"email":return oe.toLowerCase();case"otp":return oe.toUpperCase();default:return oe}}(O,(se=ne.target)===null||se===void 0?void 0:se.value);let ee=Object.assign(Object.assign({},S),{[A]:me});b(ee),O==="otp"&&me?.trim().length===8&&g(ee)}}))))),Gt("div",{style:gr.ButtonsDiv},Gt(Mu,null,Gt("button",{type:"submit",style:gr.Button,onClick:()=>g(S)},s),h&&Gt("button",{style:gr.Button,onClick:p},h))))}class om extends oo{constructor(u){super(u),this.observer=i=>this.setState({userInteraction:i}),this.state={userInteraction:void 0}}componentDidMount(){this.subscription=Er(this.props.db.cloud.userInteraction).subscribe(this.observer)}componentWillUnmount(){this.subscription&&(this.subscription.unsubscribe(),delete this.subscription)}render(u,{userInteraction:i}){return i?Gt(u1,Object.assign({},i)):null}}function bo(r){const u=new WeakMap;return i=>{let l=u.get(i);return l||(l=r(i),u.set(i,l)),l}}const es=bo(r=>new er(Un));function cs(r,u){let i=u,l=Er(r).pipe(rs(h=>i=h),N_({resetOnRefCountZero:()=>k_(1e3)}));const s=new Qt(h=>{let p=!1;const g=l.subscribe({next(S){p=!0,h.next(S)},error(S){h.error(S)},complete(){h.complete()}});return p||g.closed||h.next(i),g});return s.getValue=()=>i,s}const qb=bo(r=>cs(xi(()=>r.roles.where({realmId:"rlm-public"}).toArray().then(u=>{const i={};for(const l of u.slice().sort((s,h)=>(s.sortOrder||0)-(h.sortOrder||0)))i[l.name]=l;return i})),{})),Kb=bo(r=>cs(es(r._novip).pipe(pn(u=>xi(()=>r.transaction("r","realms","members",()=>Promise.all([r.members.where({userId:u.userId}).toArray(),r.realms.toArray(),u.userId]).then(([i,l,s])=>({selfMembers:i,realms:l,userId:s})))))),{selfMembers:[],realms:[],get userId(){return r.cloud.currentUserId}}));function l1(...r){return r.length===0?{}:r.reduce((i,l)=>{const s=Object.assign({},i);for(const[h,p]of Object.entries(l))if(h in s&&s[h]){if(s[h]==="*")continue;if(p==="*")s[h]="*";else if(Array.isArray(p)&&Array.isArray(s[h])){const g=s,S=g[h];g[h]=[...new Set([...S,...p])]}else if(typeof p=="object"&&p&&typeof s[h]=="object"){const g=s[h];for(const[S,b]of Object.entries(p))g[S]!=="*"&&(b==="*"?g[S]="*":Array.isArray(g[S])&&Array.isArray(b)&&(g[S]=[...new Set([...g[S],...b])]))}}else s[h]=l[h];return s})}const Hb=bo(r=>function(u,i){let l;const s=u.pipe(rs(h=>l=i(h)));return s.getValue=()=>l!==void 0?l:l=i(u.getValue()),s}(cs(Zc([Kb(r._novip),qb(r._novip)]).pipe(wr(([{selfMembers:u,realms:i,userId:l},s])=>({selfMembers:u,realms:i,userId:l,globalRoles:s}))),{selfMembers:[],realms:[],userId:Un.userId,globalRoles:{}}),({selfMembers:u,realms:i,userId:l,globalRoles:s})=>i.map(p=>{const g=u.filter(v=>v.realmId===p.realmId),S=g.map(v=>v.permissions).filter(v=>v),b=lb(g.map(v=>v.roles).filter(v=>v)).map(v=>s[v]).filter(v=>v).map(v=>v.permissions);return Object.assign(Object.assign({},p),{permissions:p.owner===l?{manage:"*"}:l1(...S,...b)})}).reduce((p,g)=>Object.assign(Object.assign({},p),{[g.realmId]:g}),{[l]:{realmId:l,owner:l,name:l,permissions:{manage:"*"}}})));class cm{constructor(u,i,l){this.permissions=u||{},this.tableName=i,this.isOwner=l}add(...u){var i;return this.permissions.manage==="*"||!!(!((i=this.permissions.manage)===null||i===void 0)&&i.includes(this.tableName))||this.permissions.add==="*"||!!u.every(l=>{var s;return(s=this.permissions.add)===null||s===void 0?void 0:s.includes(l)})}update(...u){var i,l;if(this.isOwner||this.permissions.manage==="*"||!((i=this.permissions.manage)===null||i===void 0)&&i.includes(this.tableName))return!0;if(this.permissions.update==="*")return u.every(h=>h!=="owner");const s=(l=this.permissions.update)===null||l===void 0?void 0:l[this.tableName];return s==="*"?u.every(h=>h!=="owner"):u.every(h=>s?.some(p=>p===h||p==="*"&&h!=="owner"))}delete(){var u;return!(!this.isOwner&&this.permissions.manage!=="*")||!!(!((u=this.permissions.manage)===null||u===void 0)&&u.includes(this.tableName))}}const o1=bo(r=>{const u=es(r._novip).pipe(pn(s=>xi(()=>r.members.where({email:s.email||""}).toArray()))),i=Hb(r._novip),l=Kb(r._novip);return cs(Zc([u,l,i]).pipe(wr(([s,h,p])=>{const g=(v,A)=>Object.assign(Object.assign({},v),{[A.id]:Object.assign(Object.assign({},A),{realm:p[A.realmId]})}),S=s.reduce(g,{}),b=h.selfMembers.reduce(g,S);return Object.values(b).filter(v=>!v.accepted).map(v=>Object.assign(Object.assign({},v),{accept(){return qe(this,void 0,void 0,function*(){yield r.members.update(v.id,{accepted:new Date})})},reject(){return qe(this,void 0,void 0,function*(){yield r.members.update(v.id,{rejected:new Date})})}}))})),[])}),c1={nameSuffix:!0};function Ld(r){const u=r.name,i=es(r),l=[];let s=!1,h=null;r.on("ready",v=>qe(this,void 0,void 0,function*(){try{yield function(A){var O,T,k,Q,ne,se,me;return qe(this,void 0,void 0,function*(){p=!1;const ee=na(A);typeof window<"u"&&typeof document<"u"&&(!((O=ee.cloud.options)===null||O===void 0)&&O.customLoginGui||l.push(function(be){let Ae=!1;const ke=document.createElement("div");return document.body?(document.body.appendChild(ke),Fp(Gt(om,{db:be.vip}),ke)):addEventListener("DOMContentLoaded",()=>{Ae||(document.body.appendChild(ke),Fp(Gt(om,{db:be.vip}),ke))}),{unsubscribe(){try{ke.remove()}catch{}Ae=!0},get closed(){return Ae}}}(A))),ee.cloud.isServiceWorkerDB||l.push(function(be){let Ae=be.cloud.webSocketStatus.value;const ke=be.cloud.webSocketStatus.pipe(pn(we=>{const Ee=Ae;Ae=we;const Ce=ia(we);switch(we){case"disconnected":return uo.value?Ce.pipe(Np(500)):Ce;case"connecting":return Ee==="not-started"||Ee==="error"?Ce:Ce.pipe(Np(4e3));default:return Ce}}));return Zc([ke,be.syncStateChangedEvent.pipe(tS({phase:"initial"})),es(be.dx._novip),Kd]).pipe(wr(([we,Ee,Ce,I])=>{var he;if(!((he=Ce.license)===null||he===void 0)&&he.status&&Ce.license.status!=="ok")return{phase:"offline",status:"offline",license:Ce.license.status};let{phase:je,error:Le,progress:R}=Ee,ie=we;return je==="error"&&(ie="error"),we==="not-started"&&(je!=="pushing"&&je!=="pulling"||(ie="connecting")),be.cloud.syncState.value.phase!=="error"||Ee.phase!=="pushing"&&Ee.phase!=="pulling"||(ie="connecting"),I||(ie="disconnected"),{phase:je,error:Le,progress:R,status:Du?ie:"offline",license:"ok"}}))}(ee).subscribe(A.cloud.syncState)),l.push(ee.syncCompleteEvent.subscribe(S)),ee.tables.every(be=>be.core)||_b();const _e="serviceWorker"in navigator?yield navigator.serviceWorker.getRegistrations():[],[oe,ce]=yield ee.transaction("rw",ee.$syncState,()=>qe(this,void 0,void 0,function*(){var be,Ae;const{options:ke,schema:we}=ee.cloud,[Ee,Ce,I]=yield Promise.all([ee.getOptions(),ee.getSchema(),ee.getPersistedSyncState()]);if(s){if(!Ee||JSON.stringify(Ee)!==JSON.stringify(ke)){if(!ke)throw new Error("Internal error");const he=Object.assign({},ke);delete he.fetchTokens,yield ee.$syncState.put(he,"options")}}else ee.cloud.options=Ee||null;if(!((be=ee.cloud.options)===null||be===void 0)&&be.tryUseServiceWorker&&"serviceWorker"in navigator&&_e.length>0&&!kS?ee.cloud.usingServiceWorker=!0:(!((Ae=ee.cloud.options)===null||Ae===void 0)&&Ae.tryUseServiceWorker&&ee.cloud.isServiceWorkerDB,ee.cloud.usingServiceWorker=!1),hd(we,ee.cloud.options),hd(Ce,ee.cloud.options),we){if(!Ce||JSON.stringify(Ce)!==JSON.stringify(we)){const he=Ce||{};for(const[je,Le]of Object.entries(we)){const R=he[je];R?(R.markedForSync=Le.markedForSync,Le.deleted=R.deleted,R.generatedGlobalId=Le.generatedGlobalId):he[je]=Object.assign({},Le)}yield ee.$syncState.put(he,"schema"),Object.assign(we,he)}}else ee.cloud.schema=Ce||null;return[I?.initiallySynced,I?.realms]}));oe&&ee.setInitiallySynced(!0),function(be){var Ae,ke;for(const we of be.tables)if(!((ke=(Ae=be.cloud.schema)===null||Ae===void 0?void 0:Ae[we.name])===null||ke===void 0)&&ke.markedForSync){if(we.schema.primKey.auto)throw new Tt.SchemaError(`Table ${we.name} is both autoIncremented and synced. Use db.cloud.configure({unsyncedTables: [${JSON.stringify(we.name)}]}) to blacklist it from sync`);if(!we.schema.primKey.keyPath)throw new Tt.SchemaError(`Table ${we.name} cannot be both synced and outbound. Use db.cloud.configure({unsyncedTables: [${JSON.stringify(we.name)}]}) to blacklist it from sync`)}}(ee),!((T=ee.cloud.options)===null||T===void 0)&&T.databaseUrl&&!oe&&(yield function(be,Ae,ke){return qe(this,void 0,void 0,function*(){yield ho(be,Ae,ke,{isInitialSync:!0})})}(ee,ee.cloud.options,ee.cloud.schema),ee.setInitiallySynced(!0)),g(),ee.cloud.isServiceWorkerDB||(l.push(xi(()=>ee.getCurrentUser()).subscribe(i)),l.push(xi(()=>ee.getPersistedSyncState()).subscribe(ee.cloud.persistedSyncState)),yield Tu(Zc([i.pipe(zp(1),Ou(1)),ee.cloud.persistedSyncState.pipe(zp(1),Ou(1))])));let Ue=!1;const te=yield ee.getCurrentUser(),Se=(k=ee.cloud.options)===null||k===void 0?void 0:k.requireAuth;Se&&(typeof Se=="object"?(!te.isLoggedIn||Se.userId&&te.userId!==Se.userId||Se.email&&te.email!==Se.email)&&(Ue=yield cd(ee,Se)):te.isLoggedIn||(Ue=yield cd(ee))),!te.isLoggedIn||ce&&ce.includes(te.userId)||(Ue=!0),h&&h.stop(),h=null,g(),ee.cloud.usingServiceWorker&&(!((Q=ee.cloud.options)===null||Q===void 0)&&Q.databaseUrl)?(nb(ee,Ue?"pull":"push").catch(()=>{}),function(be){var Ae;return qe(this,void 0,void 0,function*(){try{const{periodicSync:ke}=yield navigator.serviceWorker.ready;if(ke)try{yield ke.register(`dexie-cloud:${be.name}`,(Ae=be.cloud.options)===null||Ae===void 0?void 0:Ae.periodicSync)}catch{}}catch{}})}(ee).catch(()=>{})):!((ne=ee.cloud.options)===null||ne===void 0)&&ne.databaseUrl&&ee.cloud.schema&&!ee.cloud.isServiceWorkerDB&&(h=PS(ee,ee.cloud.options,ee.cloud.schema),h.start(),aa(ee,Ue?"pull":"push")),g(),ee.cloud.isServiceWorkerDB||l.push(Sr(self,"online").subscribe(()=>{ee.syncStateChangedEvent.next({phase:"not-in-sync"}),wb(ee)||aa(ee,"push")}),Sr(self,"offline").subscribe(()=>{ee.syncStateChangedEvent.next({phase:"offline"})})),!(!((se=ee.cloud.options)===null||se===void 0)&&se.databaseUrl)||!((me=ee.cloud.options)===null||me===void 0)&&me.disableWebSocket||MS||l.push(function(be){var Ae;if(!(!((Ae=be.cloud.options)===null||Ae===void 0)&&Ae.databaseUrl))throw new Error("No database URL to connect WebSocket to");const ke=be.messageConsumer.readyToServe.pipe(_r(we=>we),pn(()=>be.getPersistedSyncState()),_r(we=>we&&we.serverRevision),pn(we=>qe(this,void 0,void 0,function*(){return{type:"ready",rev:we.serverRevision,realmSetHash:yield Md(we)}})));return function we(){return be.cloud.persistedSyncState.pipe(_r(Ee=>Ee?.serverRevision),Ou(1),pn(Ee=>be.cloud.currentUser.pipe(wr(Ce=>[Ce,Ee]))),pn(([Ee,Ce])=>Kd.pipe(wr(I=>[I?Ee:null,Ce]))),pn(([Ee,Ce])=>Ee?.isLoggedIn&&!Ce?.realms.includes(Ee.userId)?be.cloud.persistedSyncState.pipe(_r(I=>I?.realms.includes(Ee.userId)||!1),Ou(1),wr(I=>[Ee,I])):new er([Ee,Ce])),pn(([Ee,Ce])=>qe(this,void 0,void 0,function*(){return[Ee,yield Md(Ce)]})),tb(([Ee,Ce],[I,he])=>Ee===I&&Ce===he),pn(([Ee,Ce])=>{var I;return!((I=be.cloud.persistedSyncState)===null||I===void 0)&&I.value?Ee?new QS(be.cloud.options.databaseUrl,be.cloud.persistedSyncState.value.serverRevision,Ce,be.cloud.persistedSyncState.value.clientIdentity,ke,be.cloud.webSocketStatus,Ee.accessToken,Ee.accessTokenExpiration):Er([]):we()}),Td(Ee=>Ee?.name==="TokenExpiredError"?ia(!0).pipe(pn(()=>qe(this,void 0,void 0,function*(){const Ce=yield be.getCurrentUser(),I=yield us(be.cloud.options.databaseUrl,Ce);yield be.table("$logins").update(Ce.userId,{accessToken:I.accessToken,accessTokenExpiration:I.accessTokenExpiration,claims:I.claims,license:I.license,data:I.data})})),pn(()=>we())):Ep(()=>Ee)),Td(Ee=>(be.cloud.webSocketStatus.next("error"),Ee instanceof IS?Ep(()=>Ee):Er(JS()).pipe(pn(()=>we())))))}().subscribe({next:we=>{we&&be.messageConsumer.enqueue(we)},error:we=>{},complete:()=>{}})}(ee))})}(v)}catch{}}),!0);let p=!1;function g(){if(p)throw new Tt.DatabaseClosedError}(function(v,A){v.on.close.subscribe(A);const O=v._close;v._close=function(){O.call(this),A()}})(r,()=>{l.forEach(v=>v.unsubscribe()),p=!0,h&&h.stop(),h=null,i.next(Un)});const S=new vo;var b;r.cloud={version:"4.0.12",options:Object.assign({},c1),schema:null,get currentUserId(){return i.value.userId||Un.userId},currentUser:i,syncState:new er({phase:"initial",status:"not-started"}),events:{syncComplete:S},persistedSyncState:new er(void 0),userInteraction:new er(void 0),webSocketStatus:new er("not-started"),login(v){return qe(this,void 0,void 0,function*(){const A=na(r);yield A.cloud.sync(),yield cd(A,v)})},invites:o1(r),roles:qb(r),configure(v){v=r.cloud.options=Object.assign(Object.assign({},r.cloud.options),v),s=!0,v.databaseUrl&&v.nameSuffix&&(r.name=`${u}-${function(A){const O=new URL(A);return O.pathname==="/"?O.hostname.split(".")[0]:O.pathname.split("/")[1]}(v.databaseUrl)}`,na(r).reconfigure()),hd(r.cloud.schema,r.cloud.options)},logout({force:v}={}){return qe(this,void 0,void 0,function*(){v?yield Rd(na(r),{deleteUnsyncedData:!0}):yield ib(na(r))})},sync({wait:v,purpose:A}={wait:!0,purpose:"push"}){var O;return qe(this,void 0,void 0,function*(){v===void 0&&(v=!0);const T=na(r);if((((O=T.cloud.currentUser.value.license)===null||O===void 0?void 0:O.status)||"ok")!=="ok"&&(yield ah(T)),A==="pull"){const k=T.cloud.persistedSyncState.value;if(aa(T,A),v){const Q=yield Tu(T.cloud.persistedSyncState.pipe(_r(ne=>ne?.timestamp!=null&&(!k||ne.timestamp>k.timestamp))));if(Q?.error)throw new Error("Sync error: "+Q.error)}}else if(yield Zp(T)){const k=T.cloud.persistedSyncState.value;aa(T,A),v&&(yield Tu(Er(xi(()=>qe(this,void 0,void 0,function*(){const Q=yield Zp(T),ne=yield T.getPersistedSyncState();if(ne?.timestamp!==k?.timestamp&&ne?.error)throw new Error("Sync error: "+ne.error);return Q}))).pipe(_r(Q=>!Q))))}})},permissions:(v,A)=>function(O,T,k){if(!T)throw new TypeError("Cannot check permissions of undefined or null. A Dexie Cloud object with realmId and owner expected.");const{owner:Q,realmId:ne}=T;if(!k){if(typeof T.table!="function")throw new TypeError("Missing 'table' argument to permissions and table could not be extracted from entity");k=T.table()}const se=Hb(O),me=_e=>{const oe=_e[ne||O.cloud.currentUserId];return oe?new cm(oe.permissions,k,ne===void 0||ne===O.cloud.currentUserId||Q===O.cloud.currentUserId):new cm({},k,!Q||Q===O.cloud.currentUserId)},ee=se.pipe(wr(me));return ee.getValue=()=>me(se.getValue()),ee}(r._novip,v,A)},r.Version.prototype._parseStoresSpec=Tt.override(r.Version.prototype._parseStoresSpec,v=>LS(v,r)),r.Table.prototype.newId=function({colocateWith:v}={}){const A=v&&v.substr(v.length-3);return Sb(r.cloud.schema[this.name].idPrefix||"",A)},r.Table.prototype.idPrefix=function(){var v,A;return((A=(v=this.db.cloud.schema)===null||v===void 0?void 0:v[this.name])===null||A===void 0?void 0:A.idPrefix)||""},r.use(HS({currentUserObservable:r.cloud.currentUser,db:na(r)})),r.use((b=na(r),{stack:"dbcore",name:"implicitPropSetterMiddleware",level:1,create:v=>Object.assign(Object.assign({},v),{table:A=>{const O=v.table(A);return Object.assign(Object.assign({},O),{mutate:T=>{var k,Q,ne,se;if(T.trans.disableChangeTracking)return O.mutate(T);const me=T.trans;if(!((Q=(k=b.cloud.schema)===null||k===void 0?void 0:k[A])===null||Q===void 0)&&Q.markedForSync){if(me.mode==="versionchange")return Promise.reject(new Tt.UpgradeError(`Dexie Cloud Addon: Cannot upgrade or populate synced table "${A}". See https://dexie.org/cloud/docs/best-practices`));if(T.type==="add"||T.type==="put"){if(A==="members")for(const ee of T.values)typeof ee.email=="string"&&(ee.email=ee.email.trim().toLowerCase());for(const ee of T.values){ee.owner||(ee.owner=me.currentUser.userId),ee.realmId||(ee.realmId=me.currentUser.userId);const _e=(se=(ne=O.schema.primaryKey).extractKey)===null||se===void 0?void 0:se.call(ne,ee);typeof _e=="string"&&_e[0]==="#"&&T.type==="put"&&(delete T.criteria,delete T.changeSpec,delete T.updates,ee.$ts=Date.now())}}}return O.mutate(T)}})}})})),r.use(BS(na(r)))}Ld.version="4.0.12",Tt.Cloud=Ld;const co="dexie-browser/dexie-cloud-credentials",ts={databaseUrl:"",apiKey:"",accessToken:"",clientId:"",clientSecret:"",tokenUrl:"",audience:"",requireAuth:!1,defaultEmail:"",tryUseServiceWorker:!0,disableWebSocket:!1,disableEagerSync:!1,periodicSyncIntervalMinutes:void 0,exportPath:""};function Oi(r){return{...ts,...r}}const Lb="dexie-browser/known-databases",ch="dexie-browser/known-databases/selected-id",sh="dexie-db";function sm(r,u=ts){return{id:h1(),name:r,credentials:Oi(u)}}function Yb(r){return r.map(u=>({...u,credentials:Oi(u.credentials)}))}function s1(){if(typeof window>"u")return[];const r=window.localStorage.getItem(Lb);if(!r)return[];try{const u=JSON.parse(r);return Array.isArray(u)?Yb(u):[]}catch(u){return console.warn("Failed to parse stored known databases",u),[]}}function f1(){if(typeof window>"u")return null;const r=window.localStorage.getItem(ch);if(!r)return null;try{return ss(JSON.parse(r))}catch(u){return console.warn("Failed to parse stored known database selection",u),null}}function fm(r){return r?ss(r[sh]):null}function Gb(r){if(typeof window>"u")return null;const u=window.location.hash;if(!u)return null;const i=u.startsWith("#")?u.slice(1):u,l=i.startsWith("?")?i.slice(1):i;if(!l)return null;const s=new URLSearchParams(l);return ss(s.get(sh))}function d1(r,u){if(r.length===0)return null;const i=ss(u);if(i){const l=r.find(s=>s.id===i);if(l)return l}return r[0]}function h1(){return typeof crypto<"u"&&typeof crypto.randomUUID=="function"?crypto.randomUUID():Math.random().toString(36).slice(2,12)}function ss(r){if(typeof r=="string"){const u=r.trim();return u.length>0?u:null}return typeof r=="number"?String(r):null}function Vb(){if(typeof window>"u")return null;const r=s1(),u=Gb(),i=f1(),l=d1(r,u??i??void 0);if(l){const h=Oi(l.credentials);return vd(ch,l.id),vd(co,h),h}const s=window.localStorage.getItem(co);if(!s)return null;try{const h=JSON.parse(s),p=Oi(h);return vd(co,p),p}catch(h){return console.warn("Failed to parse stored Dexie Cloud credentials",h),null}}function vd(r,u){try{const i=JSON.stringify(u);if(window.localStorage.getItem(r)===i)return;window.localStorage.setItem(r,i)}catch(i){console.warn(`Failed to persist ${r} to localStorage`,i)}}function fh(r){return!!(r?.databaseUrl&&r.databaseUrl.trim().length>0)}function Qb(r){const u=Xb(r.databaseUrl),i={databaseUrl:u,customLoginGui:!0},l=xu(r.defaultEmail);l?i.requireAuth={email:l}:r.requireAuth&&(i.requireAuth=!0),typeof r.tryUseServiceWorker=="boolean"&&(i.tryUseServiceWorker=r.tryUseServiceWorker),typeof r.disableWebSocket=="boolean"&&(i.disableWebSocket=r.disableWebSocket),typeof r.disableEagerSync=="boolean"&&(i.disableEagerSync=r.disableEagerSync),typeof r.periodicSyncIntervalMinutes=="number"&&!Number.isNaN(r.periodicSyncIntervalMinutes)&&r.periodicSyncIntervalMinutes>0&&(i.periodicSync={minInterval:r.periodicSyncIntervalMinutes*60});const s=xu(r.clientId),h=xu(r.clientSecret),p=xu(r.tokenUrl),g=xu(r.audience);if(s&&h){const S=m1(p??"/token",u);i.fetchTokens=async({public_key:b,hints:v})=>{const A={client_id:s,client_secret:h,public_key:b,hints:v,grant_type:"client_credentials"};g&&(A.audience=g);const O=await fetch(S,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(A)});if(!O.ok){const T=await O.text().catch(()=>O.statusText);throw new Error(`Token request failed (${O.status}): ${T}`)}return await O.json()}}return i}async function y1(r,u,{query:i,body:l,parseJson:s,headers:h,...p}={}){const g=Xb(r.databaseUrl),S=new URL(p1(u),Yd(g));if(i)for(const[T,k]of Object.entries(i))k!=null&&S.searchParams.set(T,String(k));const b=new Headers(h);l!==void 0&&!(l instanceof FormData)&&typeof l!="string"&&!b.has("Content-Type")&&b.set("Content-Type","application/json"),r.apiKey&&!b.has("X-Api-Key")&&b.set("X-Api-Key",r.apiKey),r.accessToken&&!b.has("Authorization")&&b.set("Authorization",`Bearer ${r.accessToken}`);const v={...p,headers:b};l!==void 0&&(b.get("Content-Type")==="application/json"&&typeof l!="string"&&!(l instanceof Blob)&&!(l instanceof ArrayBuffer)&&!(l instanceof URLSearchParams)?v.body=JSON.stringify(l):v.body=l);const A=await fetch(S.toString(),v);if(!A.ok){const T=await A.text().catch(()=>A.statusText);throw new Error(`Dexie Cloud request failed (${A.status}): ${T}`)}if(v.method==="HEAD"||A.status===204)return;if(!(s??!0))return await A.text();try{return await A.clone().json()}catch{const T=await A.text().catch(()=>"");throw new Error(T?`Failed to parse JSON response: ${T}`:"Failed to parse JSON response")}}async function v1(r){const u=xu(r.exportPath)??"/export",i=await y1(r,u,{query:{format:"json"}});if(i&&typeof i=="object"&&"schema"in i){const l=i.schema;if(l&&typeof l=="object")return l}if(i&&typeof i=="object")return i;throw new Error("Dexie Cloud export did not include a schema description")}function Yd(r){return r.endsWith("/")?r:`${r}/`}function Xb(r){const u=r.trim();if(!u)throw new Error("Dexie Cloud database URL is required");return u.replace(/\/+$/,"")}function p1(r){return r?r.startsWith("/")?r:`/${r}`:"/"}function m1(r,u){try{return new URL(r,Yd(u)).toString()}catch{return Yd(u)+r.replace(/^\//,"")}}function xu(r){if(typeof r!="string")return;const u=r.trim();return u.length>0?u:void 0}let br,ao=null;function b1(r){return fh(r)?JSON.stringify({databaseUrl:r.databaseUrl.trim(),apiKey:pd(r.apiKey),accessToken:pd(r.accessToken),exportPath:pd(r.exportPath)}):null}function pd(r){return typeof r!="string"?"":r.trim()}async function Zb(){const r=Vb(),i=b1(r)??"fallback";if(br&&ao===i)return br;if(fh(r))try{return br=await v1(r),ao=i,br}catch(l){if(console.warn("Failed to load schema from Dexie Cloud export",l),br&&ao==="fallback")return br}if(!br||ao!=="fallback")try{const l=await fetch("/export.json");if(!l.ok)throw new Error(`HTTP ${l.status}`);br=(await l.json()).schema??{}}catch(l){console.warn("Failed to load schema from export.json",l),br={}}return ao="fallback",br}function g1(r){return r.split(",")[0].trim().replace(/^(&|\++|\*)/,"").replace(/\[.*\]/,"").split("+")[0]}let ft;async function Ib(r,u={}){if(!r.databaseUrl)throw new Error("databaseUrl is required");if(ft?.isOpen()){const l=ft.cloud?.options?.databaseUrl;if(!u.force&&l===r.databaseUrl)return;ft.close()}else ft&&ft.close();const i=await Zb();ft=new Tt("dexie-browser",{addons:[Ld],autoOpen:!1}),ft.version(1).stores(i),ft.cloud.configure(r),await ft.open(),typeof window<"u"&&(window.db=ft)}async function _1(r){if(!ft?.isOpen())throw new Error("Database not initialized");await ft.cloud.login(r)}const S1={Edit:x0};function w1(){return G.jsxs("div",{children:[G.jsx(eo,{to:"tables"}),G.jsx(eo,{to:"users"}),G.jsx(eo,{to:"realms"}),G.jsx(eo,{to:"roles"}),G.jsx(eo,{to:"settings",children:"Settings"})]})}function E1(){const{query:r,gotoState:u}=zu(),i=String(r.id),l=yo(()=>ft.members.get(i),[i]),s=async p=>{p.preventDefault();const g=new FormData(p.currentTarget),S=String(g.get("name")||""),b=String(g.get("email")||"");await ft.members.update(i,{name:S,email:b}),u("users")},h=async()=>{confirm("Delete user?")&&(await ft.members.delete(i),u("users"))};return l?G.jsxs("form",{onSubmit:s,children:[G.jsx("div",{children:G.jsxs("label",{children:["Name ",G.jsx("input",{name:"name",defaultValue:l.name})]})}),G.jsx("div",{children:G.jsxs("label",{children:["Email ",G.jsx("input",{name:"email",defaultValue:l.email})]})}),G.jsx("button",{type:"submit",children:"Save"}),G.jsx("button",{type:"button",onClick:h,children:"Delete"})]}):G.jsx("div",{children:"Loading..."})}function x1(){const r=yo(()=>ft.members.toArray(),[]),u=async()=>{const l=prompt("Name?");if(!l)return;const s=prompt("Email?")||"";await ft.members.add({name:l,email:s})},i=async l=>{confirm("Delete user?")&&await ft.members.delete(l)};return G.jsxs("div",{children:[G.jsx("h2",{children:"Users"}),G.jsx("button",{onClick:u,children:"Add User"}),G.jsx("ul",{children:r?.map(l=>G.jsxs("li",{children:[G.jsx(Qd,{to:"user",data:{id:l.id},children:l.name}),G.jsx("button",{onClick:()=>i(l.id),children:"Delete"})]},l.id))})]})}const dm={Edit:E1,List:x1};function O1(){return G.jsx("div",{children:"TableEdit"})}function A1(){const r=new Set(["users","realms","roles"]),u=ft.tables.filter(i=>!i.name.startsWith("$")&&!r.has(i.name));return G.jsxs("div",{children:[G.jsx("h2",{children:"Tables"}),G.jsx("ul",{children:u.map((i,l)=>G.jsx("li",{children:G.jsx(Qd,{to:"table",data:{id:i.name},children:i.name})},l))})]})}function T1(){const{query:r}=zu(),u=String(r.id||""),i=u?ft.table(u):null,l=yo(()=>i?.toArray()??[],[i]),[s,h]=Ie.useState(null);Ie.useEffect(()=>{Zb().then(g=>{const S=g[u];h(S?g1(S):null)})},[u]);const p=async()=>{if(!i||!s)return;const g=prompt("New record (JSON)?","{}");if(g)try{const S=JSON.parse(g);S[s]||(S[s]=crypto.randomUUID()),await i.add(S)}catch(S){alert("Failed to add item: "+S)}};return u?G.jsxs("div",{children:[G.jsxs("h2",{children:["Data for ",u]}),G.jsx("button",{onClick:p,children:"Add"}),G.jsx("ul",{children:l?.map((g,S)=>G.jsx("li",{children:JSON.stringify(g)},S))})]}):G.jsx("div",{children:"No table selected"})}const md={Edit:O1,List:A1,Viewer:T1};function j1(){return G.jsx("div",{children:"Edit Role - TODO"})}function D1(){return G.jsxs("div",{children:[G.jsx("h2",{children:"Roles"}),G.jsx("p",{children:"Role management is not implemented yet."})]})}const hm={Edit:j1,List:D1};function U1(){const{query:r}=zu(),u=String(r.id),i=yo(()=>ft.realms.get(u),[u]);return i?G.jsxs("div",{children:[G.jsx("h2",{children:i.name||i.realmId}),G.jsxs("div",{children:["Realm ID: ",i.realmId]}),i.owner&&G.jsxs("div",{children:["Owner: ",i.owner]})]}):G.jsx("div",{children:"Loading..."})}function R1(){const r=yo(async()=>{const u=ft.cloud.currentUser.value;if(!u?.userId)return[];const i=await ft.members.where("userId").equals(u.userId).toArray(),l=Array.from(new Set(i.map(h=>h.realmId)));return l.length?(await ft.realms.bulkGet(l)).filter(h=>!!h):[]},[]);return G.jsxs("div",{children:[G.jsx("h2",{children:"Realms"}),G.jsx("ul",{children:r?.map(u=>G.jsx("li",{children:G.jsx(Qd,{to:"realm",data:{id:u.realmId},children:u.name||u.realmId})},u.realmId))})]})}const ym={Edit:U1,List:R1};function bd(r,u){const[i,l]=Ie.useState(()=>{const h=window.localStorage.getItem(r);try{const p=h?JSON.parse(h):void 0;return p!==void 0?p:(window.localStorage.setItem(r,JSON.stringify(u)),u)}catch{return window.localStorage.setItem(r,JSON.stringify(u)),u}}),s=h=>{try{const p=h instanceof Function?h(i):h;l(p),window.localStorage.setItem(r,JSON.stringify(p)),window.dispatchEvent(new CustomEvent("localStorageUpdate",{detail:{key:r,newValue:p}}))}catch(p){console.error(p)}};return Ie.useEffect(()=>{const h=g=>{if(g.key===r)try{l(g.newValue?JSON.parse(g.newValue):u)}catch{l(u)}},p=g=>{g.detail.key===r&&l(g.detail.newValue)};return window.addEventListener("storage",h),window.addEventListener("localStorageUpdate",p),()=>{window.removeEventListener("storage",h),window.removeEventListener("localStorageUpdate",p)}},[r,u]),[i,s]}const Jb="New database";function vm(r,u){return JSON.stringify(r)===JSON.stringify(u)}function gd(r,u){const i=new Set(u.map(g=>g.trim().toLowerCase())),l=r.trim(),s=l.length>0?l:Jb;if(!i.has(s.toLowerCase()))return s;let h=2,p=`${s} ${h}`.trim();for(;i.has(p.trim().toLowerCase());)h+=1,p=`${s} ${h}`.trim();return p}function pm(r,u){const i=r.databaseUrl?.trim();if(i)try{const l=new URL(i),s=l.hostname||l.pathname||i;return gd(s,u)}catch{return gd(i,u)}return gd(Jb,u)}function C1(r){const u=r.name.trim();if(u.length>0)return u;const i=r.credentials.databaseUrl.trim();return i.length>0?i:"Untitled database"}function $b(){const r=Ie.useContext(Vd),u=r?.query,[i,l]=bd(co,{...ts}),[s,h]=bd(Lb,[]),[p,g]=bd(ch,null),[S,b]=Ie.useState(null),[v,A]=Ie.useState(!1),O=s.length>0,T=O?p?s.find(te=>te.id===p)??s[0]:s[0]:null,k=Ie.useRef(!1);Ie.useEffect(()=>{if(!O)return;const te=r?fm(u):Gb();te&&s.some(Se=>Se.id===te)&&p!==te&&g(te)},[O,s,p,g,u,r]),Ie.useEffect(()=>{h(te=>Yb(te))},[h]),Ie.useEffect(()=>{l(te=>Oi(te))},[l]),Ie.useEffect(()=>{if(k.current)return;if(s.length>0){k.current=!0;return}const te=Oi(i);if(vm(te,ts)){k.current=!0;return}const Se=sm(pm(te,[]),te);k.current=!0,h([Se]),g(Se.id),l(Se.credentials)},[i,s.length,h,g,l]),Ie.useEffect(()=>{if(s.length===0){p!==null&&g(null);return}const te=p?s.find(be=>be.id===p):void 0,Se=te??s[0];(!te||p===null)&&p!==Se.id&&g(Se.id),vm(i,Se.credentials)||l(Se.credentials)},[i,s,p,l,g]),Ie.useEffect(()=>{if(!r)return;const te=fm(u),Se=T?.id??null;te!==Se&&r.setQuery({[sh]:Se})},[u,T?.id,r]);const Q=te=>{l(Se=>{const be={...Se,...te};if(T){const Ae=T.id;h(ke=>ke.map(we=>we.id===Ae?{...we,credentials:be}:we))}return be})},ne=te=>{g(te||null),b(null)},se=te=>{if(!T)return;const Se=T.id;h(be=>be.map(Ae=>Ae.id===Se?{...Ae,name:te}:Ae))},me=()=>{h(te=>{const Se=te.map(ke=>ke.name),be=pm(i,Se),Ae=sm(be,i);return g(Ae.id),l(Ae.credentials),b(null),[...te,Ae]})},ee=()=>{if(!T)return;const te=T.id;h(Se=>Se.filter(be=>be.id!==te)),b(null)},_e=T?.id??p??(O?s[0].id:""),oe=async te=>{te.preventDefault(),A(!0),b(null);try{const Se=Qb(i);await Ib(Se,{force:!0}),b("Connection successful. The database is ready to use.")}catch(Se){const be=Se instanceof Error?Se.message:String(Se);b(`Connection failed: ${be}`)}finally{A(!1)}},ce=()=>{const te=Oi({});if(l(te),T){const Se=T.id;h(be=>be.map(Ae=>Ae.id===Se?{...Ae,credentials:te}:Ae))}b("Credentials cleared. Update the fields and test the connection again.")},Ue=te=>{if(te===""){Q({periodicSyncIntervalMinutes:void 0});return}const Se=Number(te);Q({periodicSyncIntervalMinutes:Number.isNaN(Se)?void 0:Se})};return G.jsxs("section",{className:"settings",children:[G.jsx("h2",{children:"Dexie Cloud Settings"}),G.jsx("p",{className:"settings-description",children:"Provide the credentials for your Dexie Cloud instance. The values are stored locally in your browser so they can be reused the next time you open the app."}),G.jsxs("form",{className:"settings-form",onSubmit:oe,children:[G.jsxs("fieldset",{children:[G.jsx("legend",{children:"Known databases"}),O?G.jsxs(G.Fragment,{children:[G.jsxs("label",{children:[G.jsx("span",{children:"Saved databases"}),G.jsx("select",{value:_e,onChange:te=>ne(te.target.value),children:s.map(te=>G.jsx("option",{value:te.id,children:C1(te)},te.id))})]}),T&&G.jsxs("label",{children:[G.jsx("span",{children:"Display name"}),G.jsx("input",{type:"text",placeholder:"Database name",value:T.name,onChange:te=>se(te.target.value)})]})]}):G.jsx("p",{className:"settings-empty",children:"No known databases saved yet. Add one to quickly switch between Dexie Cloud instances."}),G.jsxs("div",{className:"settings-known-actions",children:[G.jsx("button",{type:"button",onClick:me,children:"Add database"}),G.jsx("button",{type:"button",onClick:ee,disabled:!O,children:"Delete selected"})]})]}),G.jsxs("fieldset",{children:[G.jsx("legend",{children:"Connection"}),G.jsxs("label",{children:[G.jsx("span",{children:"Database URL"}),G.jsx("input",{type:"url",required:!0,placeholder:"https://your-database.dexie.cloud",value:i.databaseUrl,onChange:te=>Q({databaseUrl:te.target.value})})]}),G.jsxs("label",{children:[G.jsx("span",{children:"API Key"}),G.jsx("input",{type:"text",placeholder:"Optional API key",value:i.apiKey??"",onChange:te=>Q({apiKey:te.target.value})})]}),G.jsxs("label",{children:[G.jsx("span",{children:"Access Token"}),G.jsx("input",{type:"text",placeholder:"Bearer token for direct HTTP calls",value:i.accessToken??"",onChange:te=>Q({accessToken:te.target.value})})]})]}),G.jsxs("fieldset",{children:[G.jsx("legend",{children:"Authentication"}),G.jsxs("label",{className:"checkbox",children:[G.jsx("input",{type:"checkbox",checked:!!i.requireAuth,onChange:te=>Q({requireAuth:te.target.checked})}),"Require authentication on startup"]}),G.jsxs("label",{children:[G.jsx("span",{children:"Default login email"}),G.jsx("input",{type:"email",placeholder:"user@example.com",value:i.defaultEmail??"",onChange:te=>Q({defaultEmail:te.target.value})})]}),G.jsxs("label",{children:[G.jsx("span",{children:"OAuth client ID"}),G.jsx("input",{type:"text",value:i.clientId??"",onChange:te=>Q({clientId:te.target.value})})]}),G.jsxs("label",{children:[G.jsx("span",{children:"Client secret"}),G.jsx("input",{type:"password",autoComplete:"new-password",value:i.clientSecret??"",onChange:te=>Q({clientSecret:te.target.value})})]}),G.jsxs("label",{children:[G.jsx("span",{children:"Token endpoint"}),G.jsx("input",{type:"url",placeholder:"Defaults to /token",value:i.tokenUrl??"",onChange:te=>Q({tokenUrl:te.target.value})})]}),G.jsxs("label",{children:[G.jsx("span",{children:"Audience"}),G.jsx("input",{type:"text",value:i.audience??"",onChange:te=>Q({audience:te.target.value})})]})]}),G.jsxs("fieldset",{children:[G.jsx("legend",{children:"Sync"}),G.jsxs("label",{className:"checkbox",children:[G.jsx("input",{type:"checkbox",checked:!!i.tryUseServiceWorker,onChange:te=>Q({tryUseServiceWorker:te.target.checked})}),"Try to use a service worker"]}),G.jsxs("label",{className:"checkbox",children:[G.jsx("input",{type:"checkbox",checked:!!i.disableWebSocket,onChange:te=>Q({disableWebSocket:te.target.checked})}),"Disable WebSocket connections"]}),G.jsxs("label",{className:"checkbox",children:[G.jsx("input",{type:"checkbox",checked:!!i.disableEagerSync,onChange:te=>Q({disableEagerSync:te.target.checked})}),"Disable eager sync"]}),G.jsxs("label",{children:[G.jsx("span",{children:"Periodic sync interval (minutes)"}),G.jsx("input",{type:"number",min:"0",step:"1",value:i.periodicSyncIntervalMinutes??"",onChange:te=>Ue(te.target.value)})]})]}),G.jsxs("fieldset",{children:[G.jsx("legend",{children:"Schema"}),G.jsxs("label",{children:[G.jsx("span",{children:"Export path"}),G.jsx("input",{type:"text",placeholder:"/export",value:i.exportPath??"",onChange:te=>Q({exportPath:te.target.value})})]})]}),G.jsxs("div",{className:"settings-actions",children:[G.jsx("button",{type:"submit",disabled:v,children:"Test & Save"}),G.jsx("button",{type:"button",onClick:ce,disabled:v,children:"Reset"})]}),S&&G.jsx("p",{className:"settings-status","aria-live":"polite",children:S})]})]})}function k1(){return G.jsx("main",{children:G.jsxs(E0,{name:"dexie",initial:"tables",children:[G.jsx(w1,{}),G.jsx(Fn,{name:"users",children:G.jsx(dm.List,{})}),G.jsx(Fn,{name:"user",children:G.jsx(dm.Edit,{})}),G.jsx(Fn,{name:"tables",children:G.jsx(md.List,{})}),G.jsx(Fn,{name:"table",children:G.jsx(md.Viewer,{})}),G.jsx(Fn,{name:"table-edit",children:G.jsx(md.Edit,{})}),G.jsx(Fn,{name:"record",children:G.jsx(S1.Edit,{})}),G.jsx(Fn,{name:"roles",children:G.jsx(hm.List,{})}),G.jsx(Fn,{name:"role",children:G.jsx(hm.Edit,{})}),G.jsx(Fn,{name:"realms",children:G.jsx(ym.List,{})}),G.jsx(Fn,{name:"realm",children:G.jsx(ym.Edit,{})}),G.jsx(Fn,{name:"settings",children:G.jsx($b,{})})]})})}function M1({children:r}){const[u,i]=Ie.useState(!1),[l,s]=Ie.useState(null),[h,p]=Ie.useState(!0),g=Ie.useRef(null);return Ie.useEffect(()=>{let S=!1,b=!1;const v=async(O=!1)=>{if(!b){b=!0,p(!0),s(null);try{const T=Vb();if(!fh(T)){S||(i(!1),s("Dexie Cloud credentials are not configured. Use the Settings view to provide them."));return}const k=JSON.stringify(T),Q=O||g.current!==k,ne=Qb(T);await Ib(ne,{force:Q}),S||(g.current=k,i(!0),s(null))}catch(T){S||(i(!1),s(T instanceof Error?T.message:String(T)))}finally{b=!1,S||p(!1)}}};v();const A=O=>{const T=O instanceof StorageEvent?O.key:O.detail?.key;!T||T!==co||v(!0)};return window.addEventListener("storage",A),window.addEventListener("localStorageUpdate",A),()=>{S=!0,window.removeEventListener("storage",A),window.removeEventListener("localStorageUpdate",A)}},[]),u?G.jsx(G.Fragment,{children:r}):G.jsxs("div",{className:"connection-gate",children:[G.jsx("h2",{children:"Dexie Cloud Connection"}),h?G.jsx("p",{children:"Connecting to Dexie Cloud…"}):G.jsx("p",{children:"Not connected."}),l&&G.jsx("p",{children:l}),G.jsx($b,{})]})}function N1(){const[r]=Ie.useState(ft.isOpen()?"open":"closed"),[u,i]=Ie.useState(ft.cloud?.syncState?.value?.status||"unknown"),[l,s]=Ie.useState(ft.cloud?.currentUser?.value),[h,p]=Ie.useState("");Ie.useEffect(()=>{const v=ft.cloud.syncState.subscribe(O=>i(O.status)),A=ft.cloud.currentUser.subscribe(O=>s(O));return()=>{v.unsubscribe(),A.unsubscribe()}},[]);const g=async v=>{v.preventDefault(),await _1({email:h}),p("")},S=l?.claims&&l.claims.roles||[],b=Array.isArray(S)?S.join(", "):typeof S=="object"?Object.keys(S).join(", "):"";return G.jsxs("div",{className:"status-bar",children:[G.jsxs("span",{children:["db: ",r]}),G.jsxs("span",{children:["cloud: ",u]}),l?.isLoggedIn?G.jsxs("span",{children:["user: ",l.name||l.email||l.userId,b&&` (${b})`]}):G.jsxs("form",{onSubmit:g,className:"login-form",children:[G.jsx("input",{type:"email",placeholder:"email",value:h,onChange:v=>p(v.target.value)}),G.jsx("button",{type:"submit",children:"Login"})]})]})}function z1(){return G.jsxs(G.Fragment,{children:[G.jsx("header",{children:"Dexie.js Data Browser"}),G.jsxs(M1,{children:[G.jsx(k1,{}),G.jsx("footer",{children:G.jsx(N1,{})})]})]})}w0.createRoot(document.getElementById("root")).render(G.jsx(Ie.StrictMode,{children:G.jsx(z1,{})}));
